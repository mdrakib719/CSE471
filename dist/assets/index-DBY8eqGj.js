var Pk=Object.defineProperty;var Wv=e=>{throw TypeError(e)};var Rk=(e,t,r)=>t in e?Pk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var wf=(e,t,r)=>Rk(e,typeof t!="symbol"?t+"":t,r),bf=(e,t,r)=>t.has(e)||Wv("Cannot "+r);var te=(e,t,r)=>(bf(e,t,"read from private field"),r?r.call(e):t.get(e)),et=(e,t,r)=>t.has(e)?Wv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Be=(e,t,r,s)=>(bf(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),er=(e,t,r)=>(bf(e,t,"access private method"),r);var td=(e,t,r,s)=>({set _(a){Be(e,t,a,r)},get _(){return te(e,t,s)}});function Dk(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ok(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var X0={exports:{}},hh={},eb={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=Symbol.for("react.element"),Mk=Symbol.for("react.portal"),Ik=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),zk=Symbol.for("react.forward_ref"),Bk=Symbol.for("react.suspense"),Vk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),Hv=Symbol.iterator;function Wk(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rb=Object.assign,nb={};function Ho(e,t,r){this.props=e,this.context=t,this.refs=nb,this.updater=r||tb}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sb(){}sb.prototype=Ho.prototype;function Sg(e,t,r){this.props=e,this.context=t,this.refs=nb,this.updater=r||tb}var Cg=Sg.prototype=new sb;Cg.constructor=Sg;rb(Cg,Ho.prototype);Cg.isPureReactComponent=!0;var Gv=Array.isArray,ab=Object.prototype.hasOwnProperty,Eg={current:null},ib={key:!0,ref:!0,__self:!0,__source:!0};function ob(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ab.call(t,s)&&!ib.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Oc,type:e,key:i,ref:o,props:a,_owner:Eg.current}}function Hk(e,t){return{$$typeof:Oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oc}function Gk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kv=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gk(""+e.key):t.toString(36)}function $d(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oc:case Mk:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+jf(o,0):s,Gv(a)?(r="",e!=null&&(r=e.replace(Kv,"$&/")+"/"),$d(a,t,r,"",function(d){return d})):a!=null&&(kg(a)&&(a=Hk(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Kv,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Gv(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+jf(i,l);o+=$d(i,t,r,c,a)}else if(c=Wk(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+jf(i,l++),o+=$d(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function rd(e,t,r){if(e==null)return e;var s=[],a=0;return $d(e,s,"","",function(i){return t.call(r,i,a++)}),s}function Kk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},Fd={transition:null},Yk={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:Eg};function lb(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:rd,forEach:function(e,t,r){rd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rd(e,function(){t++}),t},toArray:function(e){return rd(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=Ho;Ge.Fragment=Ik;Ge.Profiler=$k;Ge.PureComponent=Sg;Ge.StrictMode=Lk;Ge.Suspense=Bk;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yk;Ge.act=lb;Ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=rb({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Eg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ab.call(t,c)&&!ib.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Oc,type:e.type,key:a,ref:i,props:s,_owner:o}};Ge.createContext=function(e){return e={$$typeof:Uk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fk,_context:e},e.Consumer=e};Ge.createElement=ob;Ge.createFactory=function(e){var t=ob.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:zk,render:e}};Ge.isValidElement=kg;Ge.lazy=function(e){return{$$typeof:qk,_payload:{_status:-1,_result:e},_init:Kk}};Ge.memo=function(e,t){return{$$typeof:Vk,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=Fd.transition;Fd.transition={};try{e()}finally{Fd.transition=t}};Ge.unstable_act=lb;Ge.useCallback=function(e,t){return xr.current.useCallback(e,t)};Ge.useContext=function(e){return xr.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return xr.current.useEffect(e,t)};Ge.useId=function(){return xr.current.useId()};Ge.useImperativeHandle=function(e,t,r){return xr.current.useImperativeHandle(e,t,r)};Ge.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return xr.current.useMemo(e,t)};Ge.useReducer=function(e,t,r){return xr.current.useReducer(e,t,r)};Ge.useRef=function(e){return xr.current.useRef(e)};Ge.useState=function(e){return xr.current.useState(e)};Ge.useSyncExternalStore=function(e,t,r){return xr.current.useSyncExternalStore(e,t,r)};Ge.useTransition=function(){return xr.current.useTransition()};Ge.version="18.3.1";eb.exports=Ge;var u=eb.exports;const X=J0(u),fh=Dk({__proto__:null,default:X},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk=u,Zk=Symbol.for("react.element"),Jk=Symbol.for("react.fragment"),Xk=Object.prototype.hasOwnProperty,eT=Qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tT={key:!0,ref:!0,__self:!0,__source:!0};function cb(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Xk.call(t,s)&&!tT.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Zk,type:e,key:i,ref:o,props:a,_owner:eT.current}}hh.Fragment=Jk;hh.jsx=cb;hh.jsxs=cb;X0.exports=hh;var n=X0.exports,db={exports:{}},Vr={},ub={exports:{}},hb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var Y=O.length;O.push(L);e:for(;0<Y;){var B=Y-1>>>1,Q=O[B];if(0<a(Q,L))O[B]=L,O[Y]=Q,Y=B;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var L=O[0],Y=O.pop();if(Y!==L){O[0]=Y;e:for(var B=0,Q=O.length,ue=Q>>>1;B<ue;){var pe=2*(B+1)-1,Oe=O[pe],I=pe+1,K=O[I];if(0>a(Oe,Y))I<Q&&0>a(K,Oe)?(O[B]=K,O[I]=Y,B=I):(O[B]=Oe,O[pe]=Y,B=pe);else if(I<Q&&0>a(K,Y))O[B]=K,O[I]=Y,B=I;else break e}}return L}function a(O,L){var Y=O.sortIndex-L.sortIndex;return Y!==0?Y:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var L=r(d);L!==null;){if(L.callback===null)s(d);else if(L.startTime<=O)s(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function j(O){if(x=!1,b(O),!g)if(r(c)!==null)g=!0,F(N);else{var L=r(d);L!==null&&D(j,L.startTime-O)}}function N(O,L){g=!1,x&&(x=!1,w(k),k=-1),p=!0;var Y=m;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||O&&!H());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var Q=B(f.expirationTime<=L);L=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&s(c),b(L)}else s(c);f=r(c)}if(f!==null)var ue=!0;else{var pe=r(d);pe!==null&&D(j,pe.startTime-L),ue=!1}return ue}finally{f=null,m=Y,p=!1}}var C=!1,_=null,k=-1,E=5,M=-1;function H(){return!(e.unstable_now()-M<E)}function A(){if(_!==null){var O=e.unstable_now();M=O;var L=!0;try{L=_(!0,O)}finally{L?P():(C=!1,_=null)}}else C=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,R=T.port2;T.port1.onmessage=A,P=function(){R.postMessage(null)}}else P=function(){y(A,0)};function F(O){_=O,C||(C=!0,P())}function D(O,L){k=y(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,F(N))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var Y=m;m=L;try{return O()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=m;m=O;try{return L()}finally{m=Y}},e.unstable_scheduleCallback=function(O,L,Y){var B=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?B+Y:B):Y=B,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,O={id:h++,callback:L,priorityLevel:O,startTime:Y,expirationTime:Q,sortIndex:-1},Y>B?(O.sortIndex=Y,t(d,O),r(c)===null&&O===r(d)&&(x?(w(k),k=-1):x=!0,D(j,Y-B))):(O.sortIndex=Q,t(c,O),g||p||(g=!0,F(N))),O},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(O){var L=m;return function(){var Y=m;m=L;try{return O.apply(this,arguments)}finally{m=Y}}}})(hb);ub.exports=hb;var rT=ub.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT=u,Br=rT;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fb=new Set,ec={};function ji(e,t){Ao(e,t),Ao(e+"Capture",t)}function Ao(e,t){for(ec[e]=t,e=0;e<t.length;e++)fb.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,sT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yv={},Qv={};function aT(e){return Am.call(Qv,e)?!0:Am.call(Yv,e)?!1:sT.test(e)?Qv[e]=!0:(Yv[e]=!0,!1)}function iT(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oT(e,t,r,s){if(t===null||typeof t>"u"||iT(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tg=/[\-:]([a-z])/g;function Ag(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tg,Ag);Zt[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tg,Ag);Zt[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tg,Ag);Zt[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pg(e,t,r,s){var a=Zt.hasOwnProperty(t)?Zt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oT(t,r,a,s)&&(r=null),s||a===null?aT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Es=nT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nd=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Rm=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),gb=Symbol.for("react.offscreen"),Zv=Symbol.iterator;function sl(e){return e===null||typeof e!="object"?null:(e=Zv&&e[Zv]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Object.assign,_f;function xl(e){if(_f===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_f=t&&t[1]||""}return`
`+_f+e}var Nf=!1;function Sf(e,t){if(!e||Nf)return"";Nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xl(e):""}function lT(e){switch(e.tag){case 5:return xl(e.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return e=Sf(e.type,!1),e;case 11:return e=Sf(e.type.render,!1),e;case 1:return e=Sf(e.type,!0),e;default:return""}}function Om(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zi:return"Fragment";case Qi:return"Portal";case Pm:return"Profiler";case Rg:return"StrictMode";case Rm:return"Suspense";case Dm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pb:return(e.displayName||"Context")+".Consumer";case mb:return(e._context.displayName||"Context")+".Provider";case Dg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Og:return t=e.displayName||null,t!==null?t:Om(e.type)||"Memo";case Hs:t=e._payload,e=e._init;try{return Om(e(t))}catch{}}return null}function cT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(t);case 8:return t===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dT(e){var t=xb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){e._valueTracker||(e._valueTracker=dT(e))}function vb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=xb(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mm(e,t){var r=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jv(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=wa(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yb(e,t){t=t.checked,t!=null&&Pg(e,"checked",t,!1)}function Im(e,t){yb(e,t);var r=wa(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lm(e,t.type,wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lm(e,t,r){(t!=="number"||tu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vl=Array.isArray;function co(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+wa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ey(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(vl(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wa(r)}}function wb(e,t){var r=wa(t.value),s=wa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ty(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ad,jb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ad.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uT=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(e){uT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ol[t]=Ol[e]})});function _b(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ol.hasOwnProperty(e)&&Ol[e]?(""+t).trim():t+"px"}function Nb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=_b(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var hT=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Um(e,t){if(t){if(hT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function zm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function Mg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vm=null,uo=null,ho=null;function ry(e){if(e=Lc(e)){if(typeof Vm!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=vh(t),Vm(e.stateNode,e.type,t))}}function Sb(e){uo?ho?ho.push(e):ho=[e]:uo=e}function Cb(){if(uo){var e=uo,t=ho;if(ho=uo=null,ry(e),t)for(e=0;e<t.length;e++)ry(t[e])}}function Eb(e,t){return e(t)}function kb(){}var Cf=!1;function Tb(e,t,r){if(Cf)return e(t,r);Cf=!0;try{return Eb(e,t,r)}finally{Cf=!1,(uo!==null||ho!==null)&&(kb(),Cb())}}function rc(e,t){var r=e.stateNode;if(r===null)return null;var s=vh(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var qm=!1;if(vs)try{var al={};Object.defineProperty(al,"passive",{get:function(){qm=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{qm=!1}function fT(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var Ml=!1,ru=null,nu=!1,Wm=null,mT={onError:function(e){Ml=!0,ru=e}};function pT(e,t,r,s,a,i,o,l,c){Ml=!1,ru=null,fT.apply(mT,arguments)}function gT(e,t,r,s,a,i,o,l,c){if(pT.apply(this,arguments),Ml){if(Ml){var d=ru;Ml=!1,ru=null}else throw Error(oe(198));nu||(nu=!0,Wm=d)}}function _i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ab(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ny(e){if(_i(e)!==e)throw Error(oe(188))}function xT(e){var t=e.alternate;if(!t){if(t=_i(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ny(a),e;if(i===s)return ny(a),t;i=i.sibling}throw Error(oe(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(r.alternate!==s)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function Pb(e){return e=xT(e),e!==null?Rb(e):null}function Rb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rb(e);if(t!==null)return t;e=e.sibling}return null}var Db=Br.unstable_scheduleCallback,sy=Br.unstable_cancelCallback,vT=Br.unstable_shouldYield,yT=Br.unstable_requestPaint,Pt=Br.unstable_now,wT=Br.unstable_getCurrentPriorityLevel,Ig=Br.unstable_ImmediatePriority,Ob=Br.unstable_UserBlockingPriority,su=Br.unstable_NormalPriority,bT=Br.unstable_LowPriority,Mb=Br.unstable_IdlePriority,mh=null,zn=null;function jT(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(mh,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:ST,_T=Math.log,NT=Math.LN2;function ST(e){return e>>>=0,e===0?32:31-(_T(e)/NT|0)|0}var id=64,od=4194304;function yl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function au(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=yl(l):(i&=o,i!==0&&(s=yl(i)))}else o=r&~a,o!==0?s=yl(o):i!==0&&(s=yl(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Nn(t),a=1<<r,s|=e[r],t&=~a;return s}function CT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ET(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Nn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=CT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Hm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ib(){var e=id;return id<<=1,!(id&4194240)&&(id=64),e}function Ef(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=r}function kT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Nn(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Lg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Nn(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var it=0;function Lb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $b,$g,Fb,Ub,zb,Gm=!1,ld=[],la=null,ca=null,da=null,nc=new Map,sc=new Map,Ks=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(t.pointerId)}}function il(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Lc(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function AT(e,t,r,s,a){switch(t){case"focusin":return la=il(la,e,t,r,s,a),!0;case"dragenter":return ca=il(ca,e,t,r,s,a),!0;case"mouseover":return da=il(da,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return nc.set(i,il(nc.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,sc.set(i,il(sc.get(i)||null,e,t,r,s,a)),!0}return!1}function Bb(e){var t=Xa(e.target);if(t!==null){var r=_i(t);if(r!==null){if(t=r.tag,t===13){if(t=Ab(r),t!==null){e.blockedOn=t,zb(e.priority,function(){Fb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Km(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Bm=s,r.target.dispatchEvent(s),Bm=null}else return t=Lc(r),t!==null&&$g(t),e.blockedOn=r,!1;t.shift()}return!0}function iy(e,t,r){Ud(e)&&r.delete(t)}function PT(){Gm=!1,la!==null&&Ud(la)&&(la=null),ca!==null&&Ud(ca)&&(ca=null),da!==null&&Ud(da)&&(da=null),nc.forEach(iy),sc.forEach(iy)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,Gm||(Gm=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,PT)))}function ac(e){function t(a){return ol(a,e)}if(0<ld.length){ol(ld[0],e);for(var r=1;r<ld.length;r++){var s=ld[r];s.blockedOn===e&&(s.blockedOn=null)}}for(la!==null&&ol(la,e),ca!==null&&ol(ca,e),da!==null&&ol(da,e),nc.forEach(t),sc.forEach(t),r=0;r<Ks.length;r++)s=Ks[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)Bb(r),r.blockedOn===null&&Ks.shift()}var fo=Es.ReactCurrentBatchConfig,iu=!0;function RT(e,t,r,s){var a=it,i=fo.transition;fo.transition=null;try{it=1,Fg(e,t,r,s)}finally{it=a,fo.transition=i}}function DT(e,t,r,s){var a=it,i=fo.transition;fo.transition=null;try{it=4,Fg(e,t,r,s)}finally{it=a,fo.transition=i}}function Fg(e,t,r,s){if(iu){var a=Km(e,t,r,s);if(a===null)Lf(e,t,s,ou,r),ay(e,s);else if(AT(a,e,t,r,s))s.stopPropagation();else if(ay(e,s),t&4&&-1<TT.indexOf(e)){for(;a!==null;){var i=Lc(a);if(i!==null&&$b(i),i=Km(e,t,r,s),i===null&&Lf(e,t,s,ou,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else Lf(e,t,s,null,r)}}var ou=null;function Km(e,t,r,s){if(ou=null,e=Mg(s),e=Xa(e),e!==null)if(t=_i(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ab(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ou=e,null}function Vb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wT()){case Ig:return 1;case Ob:return 4;case su:case bT:return 16;case Mb:return 536870912;default:return 16}default:return 16}}var sa=null,Ug=null,zd=null;function qb(){if(zd)return zd;var e,t=Ug,r=t.length,s,a="value"in sa?sa.value:sa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return zd=a.slice(e,1<s?1-s:void 0)}function Bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cd(){return!0}function oy(){return!1}function qr(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cd:oy,this.isPropagationStopped=oy,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),t}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=qr(Go),Ic=Nt({},Go,{view:0,detail:0}),OT=qr(Ic),kf,Tf,ll,ph=Nt({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ll&&(ll&&e.type==="mousemove"?(kf=e.screenX-ll.screenX,Tf=e.screenY-ll.screenY):Tf=kf=0,ll=e),kf)},movementY:function(e){return"movementY"in e?e.movementY:Tf}}),ly=qr(ph),MT=Nt({},ph,{dataTransfer:0}),IT=qr(MT),LT=Nt({},Ic,{relatedTarget:0}),Af=qr(LT),$T=Nt({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),FT=qr($T),UT=Nt({},Go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zT=qr(UT),BT=Nt({},Go,{data:0}),cy=qr(BT),VT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WT[e])?!!t[e]:!1}function Bg(){return HT}var GT=Nt({},Ic,{key:function(e){if(e.key){var t=VT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(e){return e.type==="keypress"?Bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KT=qr(GT),YT=Nt({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=qr(YT),QT=Nt({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),ZT=qr(QT),JT=Nt({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),XT=qr(JT),eA=Nt({},ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=qr(eA),rA=[9,13,27,32],Vg=vs&&"CompositionEvent"in window,Il=null;vs&&"documentMode"in document&&(Il=document.documentMode);var nA=vs&&"TextEvent"in window&&!Il,Wb=vs&&(!Vg||Il&&8<Il&&11>=Il),uy=" ",hy=!1;function Hb(e,t){switch(e){case"keyup":return rA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function sA(e,t){switch(e){case"compositionend":return Gb(t);case"keypress":return t.which!==32?null:(hy=!0,uy);case"textInput":return e=t.data,e===uy&&hy?null:e;default:return null}}function aA(e,t){if(Ji)return e==="compositionend"||!Vg&&Hb(e,t)?(e=qb(),zd=Ug=sa=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wb&&t.locale!=="ko"?null:t.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iA[e.type]:t==="textarea"}function Kb(e,t,r,s){Sb(s),t=lu(t,"onChange"),0<t.length&&(r=new zg("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Ll=null,ic=null;function oA(e){aj(e,0)}function gh(e){var t=to(e);if(vb(t))return e}function lA(e,t){if(e==="change")return t}var Yb=!1;if(vs){var Pf;if(vs){var Rf="oninput"in document;if(!Rf){var my=document.createElement("div");my.setAttribute("oninput","return;"),Rf=typeof my.oninput=="function"}Pf=Rf}else Pf=!1;Yb=Pf&&(!document.documentMode||9<document.documentMode)}function py(){Ll&&(Ll.detachEvent("onpropertychange",Qb),ic=Ll=null)}function Qb(e){if(e.propertyName==="value"&&gh(ic)){var t=[];Kb(t,ic,e,Mg(e)),Tb(oA,t)}}function cA(e,t,r){e==="focusin"?(py(),Ll=t,ic=r,Ll.attachEvent("onpropertychange",Qb)):e==="focusout"&&py()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gh(ic)}function uA(e,t){if(e==="click")return gh(t)}function hA(e,t){if(e==="input"||e==="change")return gh(t)}function fA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:fA;function oc(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Am.call(t,a)||!En(e[a],t[a]))return!1}return!0}function gy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xy(e,t){var r=gy(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gy(r)}}function Zb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jb(){for(var e=window,t=tu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tu(e.document)}return t}function qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mA(e){var t=Jb(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zb(r.ownerDocument.documentElement,r)){if(s!==null&&qg(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=xy(r,i);var o=xy(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pA=vs&&"documentMode"in document&&11>=document.documentMode,Xi=null,Ym=null,$l=null,Qm=!1;function vy(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qm||Xi==null||Xi!==tu(s)||(s=Xi,"selectionStart"in s&&qg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$l&&oc($l,s)||($l=s,s=lu(Ym,"onSelect"),0<s.length&&(t=new zg("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Xi)))}function dd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var eo={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},Df={},Xb={};vs&&(Xb=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function xh(e){if(Df[e])return Df[e];if(!eo[e])return e;var t=eo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xb)return Df[e]=t[r];return e}var ej=xh("animationend"),tj=xh("animationiteration"),rj=xh("animationstart"),nj=xh("transitionend"),sj=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){sj.set(e,t),ji(t,[e])}for(var Of=0;Of<yy.length;Of++){var Mf=yy[Of],gA=Mf.toLowerCase(),xA=Mf[0].toUpperCase()+Mf.slice(1);Aa(gA,"on"+xA)}Aa(ej,"onAnimationEnd");Aa(tj,"onAnimationIteration");Aa(rj,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(nj,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function wy(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,gT(s,t,void 0,e),e.currentTarget=null}function aj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;wy(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;wy(a,l,d),i=c}}}if(nu)throw e=Wm,nu=!1,Wm=null,e}function yt(e,t){var r=t[tp];r===void 0&&(r=t[tp]=new Set);var s=e+"__bubble";r.has(s)||(ij(t,e,2,!1),r.add(s))}function If(e,t,r){var s=0;t&&(s|=4),ij(r,e,s,t)}var ud="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[ud]){e[ud]=!0,fb.forEach(function(r){r!=="selectionchange"&&(vA.has(r)||If(r,!1,e),If(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ud]||(t[ud]=!0,If("selectionchange",!1,t))}}function ij(e,t,r,s){switch(Vb(t)){case 1:var a=RT;break;case 4:a=DT;break;default:a=Fg}r=a.bind(null,t,r,e),a=void 0,!qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Lf(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Xa(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Tb(function(){var d=i,h=Mg(r),f=[];e:{var m=sj.get(e);if(m!==void 0){var p=zg,g=e;switch(e){case"keypress":if(Bd(r)===0)break e;case"keydown":case"keyup":p=KT;break;case"focusin":g="focus",p=Af;break;case"focusout":g="blur",p=Af;break;case"beforeblur":case"afterblur":p=Af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZT;break;case ej:case tj:case rj:p=FT;break;case nj:p=XT;break;case"scroll":p=OT;break;case"wheel":p=tA;break;case"copy":case"cut":case"paste":p=zT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dy}var x=(t&4)!==0,y=!x&&e==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var v=d,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,w!==null&&(j=rc(v,w),j!=null&&x.push(cc(v,j,b)))),y)break;v=v.return}0<x.length&&(m=new p(m,g,null,r,h),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Bm&&(g=r.relatedTarget||r.fromElement)&&(Xa(g)||g[ys]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?Xa(g):null,g!==null&&(y=_i(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(x=ly,j="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=dy,j="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?m:to(p),b=g==null?m:to(g),m=new x(j,v+"leave",p,r,h),m.target=y,m.relatedTarget=b,j=null,Xa(h)===d&&(x=new x(w,v+"enter",g,r,h),x.target=b,x.relatedTarget=y,j=x),y=j,p&&g)t:{for(x=p,w=g,v=0,b=x;b;b=Ri(b))v++;for(b=0,j=w;j;j=Ri(j))b++;for(;0<v-b;)x=Ri(x),v--;for(;0<b-v;)w=Ri(w),b--;for(;v--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ri(x),w=Ri(w)}x=null}else x=null;p!==null&&by(f,m,p,x,!1),g!==null&&y!==null&&by(f,y,g,x,!0)}}e:{if(m=d?to(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=lA;else if(fy(m))if(Yb)N=hA;else{N=dA;var C=cA}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=uA);if(N&&(N=N(e,d))){Kb(f,N,r,h);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Lm(m,"number",m.value)}switch(C=d?to(d):window,e){case"focusin":(fy(C)||C.contentEditable==="true")&&(Xi=C,Ym=d,$l=null);break;case"focusout":$l=Ym=Xi=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,vy(f,r,h);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":vy(f,r,h)}var _;if(Vg)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ji?Hb(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Wb&&r.locale!=="ko"&&(Ji||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ji&&(_=qb()):(sa=h,Ug="value"in sa?sa.value:sa.textContent,Ji=!0)),C=lu(d,k),0<C.length&&(k=new cy(k,e,null,r,h),f.push({event:k,listeners:C}),_?k.data=_:(_=Gb(r),_!==null&&(k.data=_)))),(_=nA?sA(e,r):aA(e,r))&&(d=lu(d,"onBeforeInput"),0<d.length&&(h=new cy("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:d}),h.data=_))}aj(f,t)})}function cc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lu(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=rc(e,r),i!=null&&s.unshift(cc(e,i,a)),i=rc(e,t),i!=null&&s.push(cc(e,i,a))),e=e.return}return s}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function by(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=rc(r,i),c!=null&&o.unshift(cc(r,c,l))):a||(c=rc(r,i),c!=null&&o.push(cc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var yA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(wA,"")}function hd(e,t,r){if(t=jy(t),jy(e)!==t&&r)throw Error(oe(425))}function cu(){}var Zm=null,Jm=null;function Xm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(_A)}:ep;function _A(e){setTimeout(function(){throw e})}function $f(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),ac(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);ac(t)}function ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ko,dc="__reactProps$"+Ko,ys="__reactContainer$"+Ko,tp="__reactEvents$"+Ko,NA="__reactListeners$"+Ko,SA="__reactHandles$"+Ko;function Xa(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ys]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ny(e);e!==null;){if(r=e[$n])return r;e=Ny(e)}return t}e=r,r=e.parentNode}return null}function Lc(e){return e=e[$n]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function vh(e){return e[dc]||null}var rp=[],ro=-1;function Pa(e){return{current:e}}function wt(e){0>ro||(e.current=rp[ro],rp[ro]=null,ro--)}function gt(e,t){ro++,rp[ro]=e.current,e.current=t}var ba={},or=Pa(ba),kr=Pa(!1),di=ba;function Po(e,t){var r=e.type.contextTypes;if(!r)return ba;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Tr(e){return e=e.childContextTypes,e!=null}function du(){wt(kr),wt(or)}function Sy(e,t,r){if(or.current!==ba)throw Error(oe(168));gt(or,t),gt(kr,r)}function oj(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(oe(108,cT(e)||"Unknown",a));return Nt({},r,s)}function uu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ba,di=or.current,gt(or,e),gt(kr,kr.current),!0}function Cy(e,t,r){var s=e.stateNode;if(!s)throw Error(oe(169));r?(e=oj(e,t,di),s.__reactInternalMemoizedMergedChildContext=e,wt(kr),wt(or),gt(or,e)):wt(kr),gt(kr,r)}var ls=null,yh=!1,Ff=!1;function lj(e){ls===null?ls=[e]:ls.push(e)}function CA(e){yh=!0,lj(e)}function Ra(){if(!Ff&&ls!==null){Ff=!0;var e=0,t=it;try{var r=ls;for(it=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ls=null,yh=!1}catch(a){throw ls!==null&&(ls=ls.slice(e+1)),Db(Ig,Ra),a}finally{it=t,Ff=!1}}return null}var no=[],so=0,hu=null,fu=0,Yr=[],Qr=0,ui=null,ds=1,us="";function Ga(e,t){no[so++]=fu,no[so++]=hu,hu=e,fu=t}function cj(e,t,r){Yr[Qr++]=ds,Yr[Qr++]=us,Yr[Qr++]=ui,ui=e;var s=ds;e=us;var a=32-Nn(s)-1;s&=~(1<<a),r+=1;var i=32-Nn(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,ds=1<<32-Nn(t)+a|r<<a|s,us=i+e}else ds=1<<i|r<<a|s,us=e}function Wg(e){e.return!==null&&(Ga(e,1),cj(e,1,0))}function Hg(e){for(;e===hu;)hu=no[--so],no[so]=null,fu=no[--so],no[so]=null;for(;e===ui;)ui=Yr[--Qr],Yr[Qr]=null,us=Yr[--Qr],Yr[Qr]=null,ds=Yr[--Qr],Yr[Qr]=null}var Ur=null,Fr=null,bt=!1,wn=null;function dj(e,t){var r=en(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ey(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,Fr=ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ui!==null?{id:ds,overflow:us}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=en(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,Fr=null,!0):!1;default:return!1}}function np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sp(e){if(bt){var t=Fr;if(t){var r=t;if(!Ey(e,t)){if(np(e))throw Error(oe(418));t=ua(r.nextSibling);var s=Ur;t&&Ey(e,t)?dj(s,r):(e.flags=e.flags&-4097|2,bt=!1,Ur=e)}}else{if(np(e))throw Error(oe(418));e.flags=e.flags&-4097|2,bt=!1,Ur=e}}}function ky(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function fd(e){if(e!==Ur)return!1;if(!bt)return ky(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xm(e.type,e.memoizedProps)),t&&(t=Fr)){if(np(e))throw uj(),Error(oe(418));for(;t;)dj(e,t),t=ua(t.nextSibling)}if(ky(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fr=ua(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Ur?ua(e.stateNode.nextSibling):null;return!0}function uj(){for(var e=Fr;e;)e=ua(e.nextSibling)}function Ro(){Fr=Ur=null,bt=!1}function Gg(e){wn===null?wn=[e]:wn.push(e)}var EA=Es.ReactCurrentBatchConfig;function cl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var s=r.stateNode}if(!s)throw Error(oe(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function md(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ty(e){var t=e._init;return t(e._payload)}function hj(e){function t(w,v){if(e){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function s(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function a(w,v){return w=pa(w,v),w.index=0,w.sibling=null,w}function i(w,v,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,v,b,j){return v===null||v.tag!==6?(v=Hf(b,w.mode,j),v.return=w,v):(v=a(v,b),v.return=w,v)}function c(w,v,b,j){var N=b.type;return N===Zi?h(w,v,b.props.children,j,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hs&&Ty(N)===v.type)?(j=a(v,b.props),j.ref=cl(w,v,b),j.return=w,j):(j=Yd(b.type,b.key,b.props,null,w.mode,j),j.ref=cl(w,v,b),j.return=w,j)}function d(w,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Gf(b,w.mode,j),v.return=w,v):(v=a(v,b.children||[]),v.return=w,v)}function h(w,v,b,j,N){return v===null||v.tag!==7?(v=ci(b,w.mode,j,N),v.return=w,v):(v=a(v,b),v.return=w,v)}function f(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Hf(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nd:return b=Yd(v.type,v.key,v.props,null,w.mode,b),b.ref=cl(w,null,v),b.return=w,b;case Qi:return v=Gf(v,w.mode,b),v.return=w,v;case Hs:var j=v._init;return f(w,j(v._payload),b)}if(vl(v)||sl(v))return v=ci(v,w.mode,b,null),v.return=w,v;md(w,v)}return null}function m(w,v,b,j){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(w,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nd:return b.key===N?c(w,v,b,j):null;case Qi:return b.key===N?d(w,v,b,j):null;case Hs:return N=b._init,m(w,v,N(b._payload),j)}if(vl(b)||sl(b))return N!==null?null:h(w,v,b,j,null);md(w,b)}return null}function p(w,v,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(b)||null,l(v,w,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case nd:return w=w.get(j.key===null?b:j.key)||null,c(v,w,j,N);case Qi:return w=w.get(j.key===null?b:j.key)||null,d(v,w,j,N);case Hs:var C=j._init;return p(w,v,b,C(j._payload),N)}if(vl(j)||sl(j))return w=w.get(b)||null,h(v,w,j,N,null);md(v,j)}return null}function g(w,v,b,j){for(var N=null,C=null,_=v,k=v=0,E=null;_!==null&&k<b.length;k++){_.index>k?(E=_,_=null):E=_.sibling;var M=m(w,_,b[k],j);if(M===null){_===null&&(_=E);break}e&&_&&M.alternate===null&&t(w,_),v=i(M,v,k),C===null?N=M:C.sibling=M,C=M,_=E}if(k===b.length)return r(w,_),bt&&Ga(w,k),N;if(_===null){for(;k<b.length;k++)_=f(w,b[k],j),_!==null&&(v=i(_,v,k),C===null?N=_:C.sibling=_,C=_);return bt&&Ga(w,k),N}for(_=s(w,_);k<b.length;k++)E=p(_,w,k,b[k],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?k:E.key),v=i(E,v,k),C===null?N=E:C.sibling=E,C=E);return e&&_.forEach(function(H){return t(w,H)}),bt&&Ga(w,k),N}function x(w,v,b,j){var N=sl(b);if(typeof N!="function")throw Error(oe(150));if(b=N.call(b),b==null)throw Error(oe(151));for(var C=N=null,_=v,k=v=0,E=null,M=b.next();_!==null&&!M.done;k++,M=b.next()){_.index>k?(E=_,_=null):E=_.sibling;var H=m(w,_,M.value,j);if(H===null){_===null&&(_=E);break}e&&_&&H.alternate===null&&t(w,_),v=i(H,v,k),C===null?N=H:C.sibling=H,C=H,_=E}if(M.done)return r(w,_),bt&&Ga(w,k),N;if(_===null){for(;!M.done;k++,M=b.next())M=f(w,M.value,j),M!==null&&(v=i(M,v,k),C===null?N=M:C.sibling=M,C=M);return bt&&Ga(w,k),N}for(_=s(w,_);!M.done;k++,M=b.next())M=p(_,w,k,M.value,j),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?k:M.key),v=i(M,v,k),C===null?N=M:C.sibling=M,C=M);return e&&_.forEach(function(A){return t(w,A)}),bt&&Ga(w,k),N}function y(w,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Zi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case nd:e:{for(var N=b.key,C=v;C!==null;){if(C.key===N){if(N=b.type,N===Zi){if(C.tag===7){r(w,C.sibling),v=a(C,b.props.children),v.return=w,w=v;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Hs&&Ty(N)===C.type){r(w,C.sibling),v=a(C,b.props),v.ref=cl(w,C,b),v.return=w,w=v;break e}r(w,C);break}else t(w,C);C=C.sibling}b.type===Zi?(v=ci(b.props.children,w.mode,j,b.key),v.return=w,w=v):(j=Yd(b.type,b.key,b.props,null,w.mode,j),j.ref=cl(w,v,b),j.return=w,w=j)}return o(w);case Qi:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(w,v.sibling),v=a(v,b.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=Gf(b,w.mode,j),v.return=w,w=v}return o(w);case Hs:return C=b._init,y(w,v,C(b._payload),j)}if(vl(b))return g(w,v,b,j);if(sl(b))return x(w,v,b,j);md(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(w,v.sibling),v=a(v,b),v.return=w,w=v):(r(w,v),v=Hf(b,w.mode,j),v.return=w,w=v),o(w)):r(w,v)}return y}var Do=hj(!0),fj=hj(!1),mu=Pa(null),pu=null,ao=null,Kg=null;function Yg(){Kg=ao=pu=null}function Qg(e){var t=mu.current;wt(mu),e._currentValue=t}function ap(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function mo(e,t){pu=e,Kg=ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Er=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(Kg!==e)if(e={context:e,memoizedValue:t,next:null},ao===null){if(pu===null)throw Error(oe(308));ao=e,pu.dependencies={lanes:0,firstContext:e}}else ao=ao.next=e;return t}var ei=null;function Zg(e){ei===null?ei=[e]:ei.push(e)}function mj(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Zg(t)):(r.next=a.next,a.next=r),t.interleaved=r,ws(e,s)}function ws(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gs=!1;function Jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Je&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ws(e,r)}return a=s.interleaved,a===null?(t.next=t,Zg(s)):(t.next=a.next,a.next=t),s.interleaved=t,ws(e,r)}function Vd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Lg(e,r)}}function Ay(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gu(e,t,r,s){var a=e.updateQueue;Gs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,h=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(m=t,p=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(p,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(p,f,m):g,m==null)break e;f=Nt({},f,m);break e;case 2:Gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=f):h=h.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(h===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);fi|=o,e.lanes=o,e.memoizedState=f}}function Py(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(oe(191,a));a.call(s)}}}var $c={},Bn=Pa($c),uc=Pa($c),hc=Pa($c);function ti(e){if(e===$c)throw Error(oe(174));return e}function Xg(e,t){switch(gt(hc,t),gt(uc,e),gt(Bn,$c),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fm(t,e)}wt(Bn),gt(Bn,t)}function Oo(){wt(Bn),wt(uc),wt(hc)}function gj(e){ti(hc.current);var t=ti(Bn.current),r=Fm(t,e.type);t!==r&&(gt(uc,e),gt(Bn,r))}function ex(e){uc.current===e&&(wt(Bn),wt(uc))}var jt=Pa(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uf=[];function tx(){for(var e=0;e<Uf.length;e++)Uf[e]._workInProgressVersionPrimary=null;Uf.length=0}var qd=Es.ReactCurrentDispatcher,zf=Es.ReactCurrentBatchConfig,hi=0,_t=null,Ft=null,Vt=null,vu=!1,Fl=!1,fc=0,kA=0;function tr(){throw Error(oe(321))}function rx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!En(e[r],t[r]))return!1;return!0}function nx(e,t,r,s,a,i){if(hi=i,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qd.current=e===null||e.memoizedState===null?RA:DA,e=r(s,a),Fl){i=0;do{if(Fl=!1,fc=0,25<=i)throw Error(oe(301));i+=1,Vt=Ft=null,t.updateQueue=null,qd.current=OA,e=r(s,a)}while(Fl)}if(qd.current=yu,t=Ft!==null&&Ft.next!==null,hi=0,Vt=Ft=_t=null,vu=!1,t)throw Error(oe(300));return e}function sx(){var e=fc!==0;return fc=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function cn(){if(Ft===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Vt===null?_t.memoizedState:Vt.next;if(t!==null)Vt=t,Ft=e;else{if(e===null)throw Error(oe(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Vt===null?_t.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function mc(e,t){return typeof t=="function"?t(e):t}function Bf(e){var t=cn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var s=Ft,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((hi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,_t.lanes|=h,fi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,En(s,t.memoizedState)||(Er=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,_t.lanes|=i,fi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vf(e){var t=cn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);En(i,t.memoizedState)||(Er=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function xj(){}function vj(e,t){var r=_t,s=cn(),a=t(),i=!En(s.memoizedState,a);if(i&&(s.memoizedState=a,Er=!0),s=s.queue,ax(bj.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,pc(9,wj.bind(null,r,s,a,t),void 0,null),qt===null)throw Error(oe(349));hi&30||yj(r,t,a)}return a}function yj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wj(e,t,r,s){t.value=r,t.getSnapshot=s,jj(t)&&_j(e)}function bj(e,t,r){return r(function(){jj(t)&&_j(e)})}function jj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!En(e,r)}catch{return!0}}function _j(e){var t=ws(e,1);t!==null&&Sn(t,e,1,-1)}function Ry(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:e},t.queue=e,e=e.dispatch=PA.bind(null,_t,e),[t.memoizedState,e]}function pc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Nj(){return cn().memoizedState}function Wd(e,t,r,s){var a=On();_t.flags|=e,a.memoizedState=pc(1|t,r,void 0,s===void 0?null:s)}function wh(e,t,r,s){var a=cn();s=s===void 0?null:s;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,s!==null&&rx(s,o.deps)){a.memoizedState=pc(t,r,i,s);return}}_t.flags|=e,a.memoizedState=pc(1|t,r,i,s)}function Dy(e,t){return Wd(8390656,8,e,t)}function ax(e,t){return wh(2048,8,e,t)}function Sj(e,t){return wh(4,2,e,t)}function Cj(e,t){return wh(4,4,e,t)}function Ej(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kj(e,t,r){return r=r!=null?r.concat([e]):null,wh(4,4,Ej.bind(null,t,e),r)}function ix(){}function Tj(e,t){var r=cn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rx(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Aj(e,t){var r=cn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rx(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Pj(e,t,r){return hi&21?(En(r,t)||(r=Ib(),_t.lanes|=r,fi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=r)}function TA(e,t){var r=it;it=r!==0&&4>r?r:4,e(!0);var s=zf.transition;zf.transition={};try{e(!1),t()}finally{it=r,zf.transition=s}}function Rj(){return cn().memoizedState}function AA(e,t,r){var s=ma(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Dj(e))Oj(t,r);else if(r=mj(e,t,r,s),r!==null){var a=pr();Sn(r,e,s,a),Mj(r,t,s)}}function PA(e,t,r){var s=ma(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dj(e))Oj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,En(l,o)){var c=t.interleaved;c===null?(a.next=a,Zg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=mj(e,t,a,s),r!==null&&(a=pr(),Sn(r,e,s,a),Mj(r,t,s))}}function Dj(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function Oj(e,t){Fl=vu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mj(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Lg(e,r)}}var yu={readContext:ln,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},RA={readContext:ln,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Dy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wd(4194308,4,Ej.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wd(4,2,e,t)},useMemo:function(e,t){var r=On();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=On();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=AA.bind(null,_t,e),[s.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:Ry,useDebugValue:ix,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=Ry(!1),t=e[0];return e=TA.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=_t,a=On();if(bt){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),qt===null)throw Error(oe(349));hi&30||yj(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Dy(bj.bind(null,s,i,e),[e]),s.flags|=2048,pc(9,wj.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=On(),t=qt.identifierPrefix;if(bt){var r=us,s=ds;r=(s&~(1<<32-Nn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=fc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DA={readContext:ln,useCallback:Tj,useContext:ln,useEffect:ax,useImperativeHandle:kj,useInsertionEffect:Sj,useLayoutEffect:Cj,useMemo:Aj,useReducer:Bf,useRef:Nj,useState:function(){return Bf(mc)},useDebugValue:ix,useDeferredValue:function(e){var t=cn();return Pj(t,Ft.memoizedState,e)},useTransition:function(){var e=Bf(mc)[0],t=cn().memoizedState;return[e,t]},useMutableSource:xj,useSyncExternalStore:vj,useId:Rj,unstable_isNewReconciler:!1},OA={readContext:ln,useCallback:Tj,useContext:ln,useEffect:ax,useImperativeHandle:kj,useInsertionEffect:Sj,useLayoutEffect:Cj,useMemo:Aj,useReducer:Vf,useRef:Nj,useState:function(){return Vf(mc)},useDebugValue:ix,useDeferredValue:function(e){var t=cn();return Ft===null?t.memoizedState=e:Pj(t,Ft.memoizedState,e)},useTransition:function(){var e=Vf(mc)[0],t=cn().memoizedState;return[e,t]},useMutableSource:xj,useSyncExternalStore:vj,useId:Rj,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=Nt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ip(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Nt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bh={isMounted:function(e){return(e=e._reactInternals)?_i(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=pr(),a=ma(e),i=ms(s,a);i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(Sn(t,e,a,s),Vd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=pr(),a=ma(e),i=ms(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(Sn(t,e,a,s),Vd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pr(),s=ma(e),a=ms(r,s);a.tag=2,t!=null&&(a.callback=t),t=ha(e,a,s),t!==null&&(Sn(t,e,s,r),Vd(t,e,s))}};function Oy(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!oc(r,s)||!oc(a,i):!0}function Ij(e,t,r){var s=!1,a=ba,i=t.contextType;return typeof i=="object"&&i!==null?i=ln(i):(a=Tr(t)?di:or.current,s=t.contextTypes,i=(s=s!=null)?Po(e,a):ba),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function My(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&bh.enqueueReplaceState(t,t.state,null)}function op(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Jg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ln(i):(i=Tr(t)?di:or.current,a.context=Po(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ip(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&bh.enqueueReplaceState(a,a.state,null),gu(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var r="",s=t;do r+=lT(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function qf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var MA=typeof WeakMap=="function"?WeakMap:Map;function Lj(e,t,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){bu||(bu=!0,vp=s),lp(e,t)},r}function $j(e,t,r){r=ms(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){lp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lp(e,t),typeof s!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Iy(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new MA;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=YA.bind(null,e,t,r),t.then(e,e))}function Ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $y(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ms(-1,1),t.tag=2,ha(r,t,1))),r.lanes|=1),e)}var IA=Es.ReactCurrentOwner,Er=!1;function ur(e,t,r,s){t.child=e===null?fj(t,null,r,s):Do(t,e.child,r,s)}function Fy(e,t,r,s,a){r=r.render;var i=t.ref;return mo(t,a),s=nx(e,t,r,s,i,a),r=sx(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bs(e,t,a)):(bt&&r&&Wg(t),t.flags|=1,ur(e,t,s,a),t.child)}function Uy(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!mx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Fj(e,t,i,s,a)):(e=Yd(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:oc,r(o,s)&&e.ref===t.ref)return bs(e,t,a)}return t.flags|=1,e=pa(i,s),e.ref=t.ref,e.return=t,t.child=e}function Fj(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(oc(i,s)&&e.ref===t.ref)if(Er=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Er=!0);else return t.lanes=e.lanes,bs(e,t,a)}return cp(e,t,r,s,a)}function Uj(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(oo,Ir),Ir|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(oo,Ir),Ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,gt(oo,Ir),Ir|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,gt(oo,Ir),Ir|=s;return ur(e,t,a,r),t.child}function zj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cp(e,t,r,s,a){var i=Tr(r)?di:or.current;return i=Po(t,i),mo(t,a),r=nx(e,t,r,s,i,a),s=sx(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bs(e,t,a)):(bt&&s&&Wg(t),t.flags|=1,ur(e,t,r,a),t.child)}function zy(e,t,r,s,a){if(Tr(r)){var i=!0;uu(t)}else i=!1;if(mo(t,a),t.stateNode===null)Hd(e,t),Ij(t,r,s),op(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ln(d):(d=Tr(r)?di:or.current,d=Po(t,d));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&My(t,o,s,d),Gs=!1;var m=t.memoizedState;o.state=m,gu(t,s,o,a),c=t.memoizedState,l!==s||m!==c||kr.current||Gs?(typeof h=="function"&&(ip(t,r,h,s),c=t.memoizedState),(l=Gs||Oy(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,pj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:pn(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=Tr(r)?di:or.current,c=Po(t,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&My(t,o,s,c),Gs=!1,m=t.memoizedState,o.state=m,gu(t,s,o,a);var g=t.memoizedState;l!==f||m!==g||kr.current||Gs?(typeof p=="function"&&(ip(t,r,p,s),g=t.memoizedState),(d=Gs||Oy(t,r,d,s,m,g,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),o.props=s,o.state=g,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return dp(e,t,r,s,i,a)}function dp(e,t,r,s,a,i){zj(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Cy(t,r,!1),bs(e,t,i);s=t.stateNode,IA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Do(t,e.child,null,i),t.child=Do(t,null,l,i)):ur(e,t,l,i),t.memoizedState=s.state,a&&Cy(t,r,!0),t.child}function Bj(e){var t=e.stateNode;t.pendingContext?Sy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sy(e,t.context,!1),Xg(e,t.containerInfo)}function By(e,t,r,s,a){return Ro(),Gg(a),t.flags|=256,ur(e,t,r,s),t.child}var up={dehydrated:null,treeContext:null,retryLane:0};function hp(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vj(e,t,r){var s=t.pendingProps,a=jt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),gt(jt,a&1),e===null)return sp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nh(o,s,0,null),e=ci(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hp(r),t.memoizedState=up,e):ox(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return LA(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=pa(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=pa(l,i):(i=ci(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?hp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=up,s}return i=e.child,e=i.sibling,s=pa(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ox(e,t){return t=Nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pd(e,t,r,s){return s!==null&&Gg(s),Do(t,e.child,null,r),e=ox(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LA(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=qf(Error(oe(422))),pd(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Nh({mode:"visible",children:s.children},a,0,null),i=ci(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Do(t,e.child,null,o),t.child.memoizedState=hp(o),t.memoizedState=up,i);if(!(t.mode&1))return pd(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(oe(419)),s=qf(i,s,void 0),pd(e,t,o,s)}if(l=(o&e.childLanes)!==0,Er||l){if(s=qt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ws(e,a),Sn(s,e,a,-1))}return fx(),s=qf(Error(oe(421))),pd(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=QA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fr=ua(a.nextSibling),Ur=t,bt=!0,wn=null,e!==null&&(Yr[Qr++]=ds,Yr[Qr++]=us,Yr[Qr++]=ui,ds=e.id,us=e.overflow,ui=t),t=ox(t,s.children),t.flags|=4096,t)}function Vy(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ap(e.return,t,r)}function Wf(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function qj(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(ur(e,t,s.children,r),s=jt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,r,t);else if(e.tag===19)Vy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(gt(jt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Wf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Wf(t,!0,r,null,i);break;case"together":Wf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=pa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $A(e,t,r){switch(t.tag){case 3:Bj(t),Ro();break;case 5:gj(t);break;case 1:Tr(t.type)&&uu(t);break;case 4:Xg(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;gt(mu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(gt(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?Vj(e,t,r):(gt(jt,jt.current&1),e=bs(e,t,r),e!==null?e.sibling:null);gt(jt,jt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return qj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),gt(jt,jt.current),s)break;return null;case 22:case 23:return t.lanes=0,Uj(e,t,r)}return bs(e,t,r)}var Wj,fp,Hj,Gj;Wj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fp=function(){};Hj=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ti(Bn.current);var i=null;switch(r){case"input":a=Mm(e,a),s=Mm(e,s),i=[];break;case"select":a=Nt({},a,{value:void 0}),s=Nt({},s,{value:void 0}),i=[];break;case"textarea":a=$m(e,a),s=$m(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=cu)}Um(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ec.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ec.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&yt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Gj=function(e,t,r,s){r!==s&&(t.flags|=4)};function dl(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function FA(e,t,r){var s=t.pendingProps;switch(Hg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(t),null;case 1:return Tr(t.type)&&du(),rr(t),null;case 3:return s=t.stateNode,Oo(),wt(kr),wt(or),tx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(bp(wn),wn=null))),fp(e,t),rr(t),null;case 5:ex(t);var a=ti(hc.current);if(r=t.type,e!==null&&t.stateNode!=null)Hj(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(oe(166));return rr(t),null}if(e=ti(Bn.current),fd(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[$n]=t,s[dc]=i,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",s),yt("close",s);break;case"iframe":case"object":case"embed":yt("load",s);break;case"video":case"audio":for(a=0;a<wl.length;a++)yt(wl[a],s);break;case"source":yt("error",s);break;case"img":case"image":case"link":yt("error",s),yt("load",s);break;case"details":yt("toggle",s);break;case"input":Jv(s,i),yt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},yt("invalid",s);break;case"textarea":ey(s,i),yt("invalid",s)}Um(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&hd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hd(s.textContent,l,e),a=["children",""+l]):ec.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yt("scroll",s)}switch(r){case"input":sd(s),Xv(s,i,!0);break;case"textarea":sd(s),ty(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=cu)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[$n]=t,e[dc]=s,Wj(e,t,!1,!1),t.stateNode=e;e:{switch(o=zm(r,s),r){case"dialog":yt("cancel",e),yt("close",e),a=s;break;case"iframe":case"object":case"embed":yt("load",e),a=s;break;case"video":case"audio":for(a=0;a<wl.length;a++)yt(wl[a],e);a=s;break;case"source":yt("error",e),a=s;break;case"img":case"image":case"link":yt("error",e),yt("load",e),a=s;break;case"details":yt("toggle",e),a=s;break;case"input":Jv(e,s),a=Mm(e,s),yt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Nt({},s,{value:void 0}),yt("invalid",e);break;case"textarea":ey(e,s),a=$m(e,s),yt("invalid",e);break;default:a=s}Um(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Nb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tc(e,c):typeof c=="number"&&tc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ec.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yt("scroll",e):c!=null&&Pg(e,i,c,o))}switch(r){case"input":sd(e),Xv(e,s,!1);break;case"textarea":sd(e),ty(e);break;case"option":s.value!=null&&e.setAttribute("value",""+wa(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?co(e,!!s.multiple,i,!1):s.defaultValue!=null&&co(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=cu)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rr(t),null;case 6:if(e&&t.stateNode!=null)Gj(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(oe(166));if(r=ti(hc.current),ti(Bn.current),fd(t)){if(s=t.stateNode,r=t.memoizedProps,s[$n]=t,(i=s.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:hd(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hd(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[$n]=t,t.stateNode=s}return rr(t),null;case 13:if(wt(jt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Fr!==null&&t.mode&1&&!(t.flags&128))uj(),Ro(),t.flags|=98560,i=!1;else if(i=fd(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[$n]=t}else Ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rr(t),i=!1}else wn!==null&&(bp(wn),wn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?Ut===0&&(Ut=3):fx())),t.updateQueue!==null&&(t.flags|=4),rr(t),null);case 4:return Oo(),fp(e,t),e===null&&lc(t.stateNode.containerInfo),rr(t),null;case 10:return Qg(t.type._context),rr(t),null;case 17:return Tr(t.type)&&du(),rr(t),null;case 19:if(wt(jt),i=t.memoizedState,i===null)return rr(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)dl(i,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xu(e),o!==null){for(t.flags|=128,dl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gt(jt,jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pt()>Io&&(t.flags|=128,s=!0,dl(i,!1),t.lanes=4194304)}else{if(!s)if(e=xu(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return rr(t),null}else 2*Pt()-i.renderingStartTime>Io&&r!==1073741824&&(t.flags|=128,s=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pt(),t.sibling=null,r=jt.current,gt(jt,s?r&1|2:r&1),t):(rr(t),null);case 22:case 23:return hx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ir&1073741824&&(rr(t),t.subtreeFlags&6&&(t.flags|=8192)):rr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function UA(e,t){switch(Hg(t),t.tag){case 1:return Tr(t.type)&&du(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oo(),wt(kr),wt(or),tx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ex(t),null;case 13:if(wt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(jt),null;case 4:return Oo(),null;case 10:return Qg(t.type._context),null;case 22:case 23:return hx(),null;case 24:return null;default:return null}}var gd=!1,ar=!1,zA=typeof WeakSet=="function"?WeakSet:Set,be=null;function io(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){kt(e,t,s)}else r.current=null}function mp(e,t,r){try{r()}catch(s){kt(e,t,s)}}var qy=!1;function BA(e,t){if(Zm=iu,e=Jb(),qg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++h===s&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jm={focusedElem:e,selectionRange:r},iu=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:pn(t.type,x),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(j){kt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=qy,qy=!1,g}function Ul(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&mp(t,r,i)}a=a.next}while(a!==s)}}function jh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function pp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Kj(e){var t=e.alternate;t!==null&&(e.alternate=null,Kj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[dc],delete t[tp],delete t[NA],delete t[SA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yj(e){return e.tag===5||e.tag===3||e.tag===4}function Wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gp(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cu));else if(s!==4&&(e=e.child,e!==null))for(gp(e,t,r),e=e.sibling;e!==null;)gp(e,t,r),e=e.sibling}function xp(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xp(e,t,r),e=e.sibling;e!==null;)xp(e,t,r),e=e.sibling}var Kt=null,vn=!1;function Os(e,t,r){for(r=r.child;r!==null;)Qj(e,t,r),r=r.sibling}function Qj(e,t,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(mh,r)}catch{}switch(r.tag){case 5:ar||io(r,t);case 6:var s=Kt,a=vn;Kt=null,Os(e,t,r),Kt=s,vn=a,Kt!==null&&(vn?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(vn?(e=Kt,r=r.stateNode,e.nodeType===8?$f(e.parentNode,r):e.nodeType===1&&$f(e,r),ac(e)):$f(Kt,r.stateNode));break;case 4:s=Kt,a=vn,Kt=r.stateNode.containerInfo,vn=!0,Os(e,t,r),Kt=s,vn=a;break;case 0:case 11:case 14:case 15:if(!ar&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mp(r,t,o),a=a.next}while(a!==s)}Os(e,t,r);break;case 1:if(!ar&&(io(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){kt(r,t,l)}Os(e,t,r);break;case 21:Os(e,t,r);break;case 22:r.mode&1?(ar=(s=ar)||r.memoizedState!==null,Os(e,t,r),ar=s):Os(e,t,r);break;default:Os(e,t,r)}}function Hy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zA),t.forEach(function(s){var a=ZA.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function hn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,vn=!1;break e;case 3:Kt=l.stateNode.containerInfo,vn=!0;break e;case 4:Kt=l.stateNode.containerInfo,vn=!0;break e}l=l.return}if(Kt===null)throw Error(oe(160));Qj(i,o,a),Kt=null,vn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){kt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zj(t,e),t=t.sibling}function Zj(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),Dn(e),s&4){try{Ul(3,e,e.return),jh(3,e)}catch(x){kt(e,e.return,x)}try{Ul(5,e,e.return)}catch(x){kt(e,e.return,x)}}break;case 1:hn(t,e),Dn(e),s&512&&r!==null&&io(r,r.return);break;case 5:if(hn(t,e),Dn(e),s&512&&r!==null&&io(r,r.return),e.flags&32){var a=e.stateNode;try{tc(a,"")}catch(x){kt(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yb(a,i),zm(l,o);var d=zm(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Nb(a,f):h==="dangerouslySetInnerHTML"?jb(a,f):h==="children"?tc(a,f):Pg(a,h,f,d)}switch(l){case"input":Im(a,i);break;case"textarea":wb(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?co(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?co(a,!!i.multiple,i.defaultValue,!0):co(a,!!i.multiple,i.multiple?[]:"",!1))}a[dc]=i}catch(x){kt(e,e.return,x)}}break;case 6:if(hn(t,e),Dn(e),s&4){if(e.stateNode===null)throw Error(oe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){kt(e,e.return,x)}}break;case 3:if(hn(t,e),Dn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ac(t.containerInfo)}catch(x){kt(e,e.return,x)}break;case 4:hn(t,e),Dn(e);break;case 13:hn(t,e),Dn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(dx=Pt())),s&4&&Hy(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(ar=(d=ar)||h,hn(t,e),ar=d):hn(t,e),Dn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(be=e,h=e.child;h!==null;){for(f=be=h;be!==null;){switch(m=be,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ul(4,m,m.return);break;case 1:io(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){kt(s,r,x)}}break;case 5:io(m,m.return);break;case 22:if(m.memoizedState!==null){Ky(f);continue}}p!==null?(p.return=m,be=p):Ky(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_b("display",o))}catch(x){kt(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){kt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(t,e),Dn(e),s&4&&Hy(e);break;case 21:break;default:hn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Yj(r)){var s=r;break e}r=r.return}throw Error(oe(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(tc(a,""),s.flags&=-33);var i=Wy(e);xp(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Wy(e);gp(e,l,o);break;default:throw Error(oe(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VA(e,t,r){be=e,Jj(e)}function Jj(e,t,r){for(var s=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||gd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ar;l=gd;var d=ar;if(gd=o,(ar=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Yy(a):c!==null?(c.return=o,be=c):Yy(a);for(;i!==null;)be=i,Jj(i),i=i.sibling;be=a,gd=l,ar=d}Gy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Gy(e)}}function Gy(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ar||jh(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ar)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:pn(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Py(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Py(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ac(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}ar||t.flags&512&&pp(t)}catch(m){kt(t,t.return,m)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Ky(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Yy(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jh(4,t)}catch(c){kt(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){kt(t,a,c)}}var i=t.return;try{pp(t)}catch(c){kt(t,i,c)}break;case 5:var o=t.return;try{pp(t)}catch(c){kt(t,o,c)}}}catch(c){kt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var qA=Math.ceil,wu=Es.ReactCurrentDispatcher,lx=Es.ReactCurrentOwner,tn=Es.ReactCurrentBatchConfig,Je=0,qt=null,Mt=null,Yt=0,Ir=0,oo=Pa(0),Ut=0,gc=null,fi=0,_h=0,cx=0,zl=null,Sr=null,dx=0,Io=1/0,as=null,bu=!1,vp=null,fa=null,xd=!1,aa=null,ju=0,Bl=0,yp=null,Gd=-1,Kd=0;function pr(){return Je&6?Pt():Gd!==-1?Gd:Gd=Pt()}function ma(e){return e.mode&1?Je&2&&Yt!==0?Yt&-Yt:EA.transition!==null?(Kd===0&&(Kd=Ib()),Kd):(e=it,e!==0||(e=window.event,e=e===void 0?16:Vb(e.type)),e):1}function Sn(e,t,r,s){if(50<Bl)throw Bl=0,yp=null,Error(oe(185));Mc(e,r,s),(!(Je&2)||e!==qt)&&(e===qt&&(!(Je&2)&&(_h|=r),Ut===4&&Ys(e,Yt)),Ar(e,s),r===1&&Je===0&&!(t.mode&1)&&(Io=Pt()+500,yh&&Ra()))}function Ar(e,t){var r=e.callbackNode;ET(e,t);var s=au(e,e===qt?Yt:0);if(s===0)r!==null&&sy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&sy(r),t===1)e.tag===0?CA(Qy.bind(null,e)):lj(Qy.bind(null,e)),jA(function(){!(Je&6)&&Ra()}),r=null;else{switch(Lb(s)){case 1:r=Ig;break;case 4:r=Ob;break;case 16:r=su;break;case 536870912:r=Mb;break;default:r=su}r=i_(r,Xj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xj(e,t){if(Gd=-1,Kd=0,Je&6)throw Error(oe(327));var r=e.callbackNode;if(po()&&e.callbackNode!==r)return null;var s=au(e,e===qt?Yt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=_u(e,s);else{t=s;var a=Je;Je|=2;var i=t_();(qt!==e||Yt!==t)&&(as=null,Io=Pt()+500,li(e,t));do try{GA();break}catch(l){e_(e,l)}while(!0);Yg(),wu.current=i,Je=a,Mt!==null?t=0:(qt=null,Yt=0,t=Ut)}if(t!==0){if(t===2&&(a=Hm(e),a!==0&&(s=a,t=wp(e,a))),t===1)throw r=gc,li(e,0),Ys(e,s),Ar(e,Pt()),r;if(t===6)Ys(e,s);else{if(a=e.current.alternate,!(s&30)&&!WA(a)&&(t=_u(e,s),t===2&&(i=Hm(e),i!==0&&(s=i,t=wp(e,i))),t===1))throw r=gc,li(e,0),Ys(e,s),Ar(e,Pt()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(oe(345));case 2:Ka(e,Sr,as);break;case 3:if(Ys(e,s),(s&130023424)===s&&(t=dx+500-Pt(),10<t)){if(au(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){pr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ep(Ka.bind(null,e,Sr,as),t);break}Ka(e,Sr,as);break;case 4:if(Ys(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Nn(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Pt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qA(s/1960))-s,10<s){e.timeoutHandle=ep(Ka.bind(null,e,Sr,as),s);break}Ka(e,Sr,as);break;case 5:Ka(e,Sr,as);break;default:throw Error(oe(329))}}}return Ar(e,Pt()),e.callbackNode===r?Xj.bind(null,e):null}function wp(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=_u(e,t),e!==2&&(t=Sr,Sr=r,t!==null&&bp(t)),e}function bp(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function WA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!En(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~cx,t&=~_h,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nn(t),s=1<<r;e[r]=-1,t&=~s}}function Qy(e){if(Je&6)throw Error(oe(327));po();var t=au(e,0);if(!(t&1))return Ar(e,Pt()),null;var r=_u(e,t);if(e.tag!==0&&r===2){var s=Hm(e);s!==0&&(t=s,r=wp(e,s))}if(r===1)throw r=gc,li(e,0),Ys(e,t),Ar(e,Pt()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ka(e,Sr,as),Ar(e,Pt()),null}function ux(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(Io=Pt()+500,yh&&Ra())}}function mi(e){aa!==null&&aa.tag===0&&!(Je&6)&&po();var t=Je;Je|=1;var r=tn.transition,s=it;try{if(tn.transition=null,it=1,e)return e()}finally{it=s,tn.transition=r,Je=t,!(Je&6)&&Ra()}}function hx(){Ir=oo.current,wt(oo)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bA(r)),Mt!==null)for(r=Mt.return;r!==null;){var s=r;switch(Hg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&du();break;case 3:Oo(),wt(kr),wt(or),tx();break;case 5:ex(s);break;case 4:Oo();break;case 13:wt(jt);break;case 19:wt(jt);break;case 10:Qg(s.type._context);break;case 22:case 23:hx()}r=r.return}if(qt=e,Mt=e=pa(e.current,null),Yt=Ir=t,Ut=0,gc=null,cx=_h=fi=0,Sr=zl=null,ei!==null){for(t=0;t<ei.length;t++)if(r=ei[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}ei=null}return e}function e_(e,t){do{var r=Mt;try{if(Yg(),qd.current=yu,vu){for(var s=_t.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}vu=!1}if(hi=0,Vt=Ft=_t=null,Fl=!1,fc=0,lx.current=null,r===null||r.return===null){Ut=1,gc=t,Mt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ly(o);if(p!==null){p.flags&=-257,$y(p,o,l,i,t),p.mode&1&&Iy(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){Iy(i,d,t),fx();break e}c=Error(oe(426))}}else if(bt&&l.mode&1){var y=Ly(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$y(y,o,l,i,t),Gg(Mo(c,l));break e}}i=c=Mo(c,l),Ut!==4&&(Ut=2),zl===null?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=Lj(i,c,t);Ay(i,w);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fa===null||!fa.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=$j(i,l,t);Ay(i,j);break e}}i=i.return}while(i!==null)}n_(r)}catch(N){t=N,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(!0)}function t_(){var e=wu.current;return wu.current=yu,e===null?yu:e}function fx(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),qt===null||!(fi&268435455)&&!(_h&268435455)||Ys(qt,Yt)}function _u(e,t){var r=Je;Je|=2;var s=t_();(qt!==e||Yt!==t)&&(as=null,li(e,t));do try{HA();break}catch(a){e_(e,a)}while(!0);if(Yg(),Je=r,wu.current=s,Mt!==null)throw Error(oe(261));return qt=null,Yt=0,Ut}function HA(){for(;Mt!==null;)r_(Mt)}function GA(){for(;Mt!==null&&!vT();)r_(Mt)}function r_(e){var t=a_(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,t===null?n_(e):Mt=t,lx.current=null}function n_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=UA(r,t),r!==null){r.flags&=32767,Mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Mt=null;return}}else if(r=FA(r,t,Ir),r!==null){Mt=r;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Ut===0&&(Ut=5)}function Ka(e,t,r){var s=it,a=tn.transition;try{tn.transition=null,it=1,KA(e,t,r,s)}finally{tn.transition=a,it=s}return null}function KA(e,t,r,s){do po();while(aa!==null);if(Je&6)throw Error(oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kT(e,i),e===qt&&(Mt=qt=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xd||(xd=!0,i_(su,function(){return po(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var o=it;it=1;var l=Je;Je|=4,lx.current=null,BA(e,r),Zj(r,e),mA(Jm),iu=!!Zm,Jm=Zm=null,e.current=r,VA(r),yT(),Je=l,it=o,tn.transition=i}else e.current=r;if(xd&&(xd=!1,aa=e,ju=a),i=e.pendingLanes,i===0&&(fa=null),jT(r.stateNode),Ar(e,Pt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(bu)throw bu=!1,e=vp,vp=null,e;return ju&1&&e.tag!==0&&po(),i=e.pendingLanes,i&1?e===yp?Bl++:(Bl=0,yp=e):Bl=0,Ra(),null}function po(){if(aa!==null){var e=Lb(ju),t=tn.transition,r=it;try{if(tn.transition=null,it=16>e?16:e,aa===null)var s=!1;else{if(e=aa,aa=null,ju=0,Je&6)throw Error(oe(331));var a=Je;for(Je|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var h=be;switch(h.tag){case 0:case 11:case 15:Ul(8,h,i)}var f=h.child;if(f!==null)f.return=h,be=f;else for(;be!==null;){h=be;var m=h.sibling,p=h.return;if(Kj(h),h===d){be=null;break}if(m!==null){m.return=p,be=m;break}be=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ul(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,be=w;break e}be=i.return}}var v=e.current;for(be=v;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=v;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jh(9,l)}}catch(N){kt(l,l.return,N)}if(l===o){be=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,be=j;break e}be=l.return}}if(Je=a,Ra(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(mh,e)}catch{}s=!0}return s}finally{it=r,tn.transition=t}}return!1}function Zy(e,t,r){t=Mo(r,t),t=Lj(e,t,1),e=ha(e,t,1),t=pr(),e!==null&&(Mc(e,1,t),Ar(e,t))}function kt(e,t,r){if(e.tag===3)Zy(e,e,r);else for(;t!==null;){if(t.tag===3){Zy(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(fa===null||!fa.has(s))){e=Mo(r,e),e=$j(t,e,1),t=ha(t,e,1),e=pr(),t!==null&&(Mc(t,1,e),Ar(t,e));break}}t=t.return}}function YA(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=pr(),e.pingedLanes|=e.suspendedLanes&r,qt===e&&(Yt&r)===r&&(Ut===4||Ut===3&&(Yt&130023424)===Yt&&500>Pt()-dx?li(e,0):cx|=r),Ar(e,t)}function s_(e,t){t===0&&(e.mode&1?(t=od,od<<=1,!(od&130023424)&&(od=4194304)):t=1);var r=pr();e=ws(e,t),e!==null&&(Mc(e,t,r),Ar(e,r))}function QA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),s_(e,r)}function ZA(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(oe(314))}s!==null&&s.delete(t),s_(e,r)}var a_;a_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kr.current)Er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Er=!1,$A(e,t,r);Er=!!(e.flags&131072)}else Er=!1,bt&&t.flags&1048576&&cj(t,fu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Hd(e,t),e=t.pendingProps;var a=Po(t,or.current);mo(t,r),a=nx(null,t,s,e,a,r);var i=sx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(s)?(i=!0,uu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jg(t),a.updater=bh,t.stateNode=a,a._reactInternals=t,op(t,s,e,r),t=dp(null,t,s,!0,i,r)):(t.tag=0,bt&&i&&Wg(t),ur(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Hd(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=XA(s),e=pn(s,e),a){case 0:t=cp(null,t,s,e,r);break e;case 1:t=zy(null,t,s,e,r);break e;case 11:t=Fy(null,t,s,e,r);break e;case 14:t=Uy(null,t,s,pn(s.type,e),r);break e}throw Error(oe(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pn(s,a),cp(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pn(s,a),zy(e,t,s,a,r);case 3:e:{if(Bj(t),e===null)throw Error(oe(387));s=t.pendingProps,i=t.memoizedState,a=i.element,pj(e,t),gu(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Mo(Error(oe(423)),t),t=By(e,t,s,r,a);break e}else if(s!==a){a=Mo(Error(oe(424)),t),t=By(e,t,s,r,a);break e}else for(Fr=ua(t.stateNode.containerInfo.firstChild),Ur=t,bt=!0,wn=null,r=fj(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ro(),s===a){t=bs(e,t,r);break e}ur(e,t,s,r)}t=t.child}return t;case 5:return gj(t),e===null&&sp(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Xm(s,a)?o=null:i!==null&&Xm(s,i)&&(t.flags|=32),zj(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&sp(t),null;case 13:return Vj(e,t,r);case 4:return Xg(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Do(t,null,s,r):ur(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pn(s,a),Fy(e,t,s,a,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,gt(mu,s._currentValue),s._currentValue=o,i!==null)if(En(i.value,o)){if(i.children===a.children&&!kr.current){t=bs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=ms(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ap(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ap(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ur(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,mo(t,r),a=ln(a),s=s(a),t.flags|=1,ur(e,t,s,r),t.child;case 14:return s=t.type,a=pn(s,t.pendingProps),a=pn(s.type,a),Uy(e,t,s,a,r);case 15:return Fj(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:pn(s,a),Hd(e,t),t.tag=1,Tr(s)?(e=!0,uu(t)):e=!1,mo(t,r),Ij(t,s,a),op(t,s,a,r),dp(null,t,s,!0,e,r);case 19:return qj(e,t,r);case 22:return Uj(e,t,r)}throw Error(oe(156,t.tag))};function i_(e,t){return Db(e,t)}function JA(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,r,s){return new JA(e,t,r,s)}function mx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XA(e){if(typeof e=="function")return mx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dg)return 11;if(e===Og)return 14}return 2}function pa(e,t){var r=e.alternate;return r===null?(r=en(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yd(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")mx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zi:return ci(r.children,a,i,t);case Rg:o=8,a|=8;break;case Pm:return e=en(12,r,t,a|2),e.elementType=Pm,e.lanes=i,e;case Rm:return e=en(13,r,t,a),e.elementType=Rm,e.lanes=i,e;case Dm:return e=en(19,r,t,a),e.elementType=Dm,e.lanes=i,e;case gb:return Nh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mb:o=10;break e;case pb:o=9;break e;case Dg:o=11;break e;case Og:o=14;break e;case Hs:o=16,s=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=en(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ci(e,t,r,s){return e=en(7,e,s,t),e.lanes=r,e}function Nh(e,t,r,s){return e=en(22,e,s,t),e.elementType=gb,e.lanes=r,e.stateNode={isHidden:!1},e}function Hf(e,t,r){return e=en(6,e,null,t),e.lanes=r,e}function Gf(e,t,r){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eP(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function px(e,t,r,s,a,i,o,l,c){return e=new eP(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=en(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(i),e}function tP(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function o_(e){if(!e)return ba;e=e._reactInternals;e:{if(_i(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(Tr(r))return oj(e,r,t)}return t}function l_(e,t,r,s,a,i,o,l,c){return e=px(r,s,!0,e,a,i,o,l,c),e.context=o_(null),r=e.current,s=pr(),a=ma(r),i=ms(s,a),i.callback=t??null,ha(r,i,a),e.current.lanes=a,Mc(e,a,s),Ar(e,s),e}function Sh(e,t,r,s){var a=t.current,i=pr(),o=ma(a);return r=o_(r),t.context===null?t.context=r:t.pendingContext=r,t=ms(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ha(a,t,o),e!==null&&(Sn(e,a,o,i),Vd(e,a,o)),o}function Nu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gx(e,t){Jy(e,t),(e=e.alternate)&&Jy(e,t)}function rP(){return null}var c_=typeof reportError=="function"?reportError:function(e){console.error(e)};function xx(e){this._internalRoot=e}Ch.prototype.render=xx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Sh(e,t,null,null)};Ch.prototype.unmount=xx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mi(function(){Sh(null,e,null,null)}),t[ys]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ub();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ks.length&&t!==0&&t<Ks[r].priority;r++);Ks.splice(r,0,e),r===0&&Bb(e)}};function vx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xy(){}function nP(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Nu(o);i.call(d)}}var o=l_(t,s,e,0,null,!1,!1,"",Xy);return e._reactRootContainer=o,e[ys]=o.current,lc(e.nodeType===8?e.parentNode:e),mi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Nu(c);l.call(d)}}var c=px(e,0,!1,null,null,!1,!1,"",Xy);return e._reactRootContainer=c,e[ys]=c.current,lc(e.nodeType===8?e.parentNode:e),mi(function(){Sh(t,c,r,s)}),c}function kh(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Nu(o);l.call(c)}}Sh(t,o,e,a)}else o=nP(r,t,e,a,s);return Nu(o)}$b=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yl(t.pendingLanes);r!==0&&(Lg(t,r|1),Ar(t,Pt()),!(Je&6)&&(Io=Pt()+500,Ra()))}break;case 13:mi(function(){var s=ws(e,1);if(s!==null){var a=pr();Sn(s,e,1,a)}}),gx(e,1)}};$g=function(e){if(e.tag===13){var t=ws(e,134217728);if(t!==null){var r=pr();Sn(t,e,134217728,r)}gx(e,134217728)}};Fb=function(e){if(e.tag===13){var t=ma(e),r=ws(e,t);if(r!==null){var s=pr();Sn(r,e,t,s)}gx(e,t)}};Ub=function(){return it};zb=function(e,t){var r=it;try{return it=e,t()}finally{it=r}};Vm=function(e,t,r){switch(t){case"input":if(Im(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=vh(s);if(!a)throw Error(oe(90));vb(s),Im(s,a)}}}break;case"textarea":wb(e,r);break;case"select":t=r.value,t!=null&&co(e,!!r.multiple,t,!1)}};Eb=ux;kb=mi;var sP={usingClientEntryPoint:!1,Events:[Lc,to,vh,Sb,Cb,ux]},ul={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aP={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||rP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{mh=vd.inject(aP),zn=vd}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sP;Vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vx(t))throw Error(oe(200));return tP(e,t,null,r)};Vr.createRoot=function(e,t){if(!vx(e))throw Error(oe(299));var r=!1,s="",a=c_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=px(e,1,!1,null,null,r,!1,s,a),e[ys]=t.current,lc(e.nodeType===8?e.parentNode:e),new xx(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Pb(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return mi(e)};Vr.hydrate=function(e,t,r){if(!Eh(t))throw Error(oe(200));return kh(null,e,t,!0,r)};Vr.hydrateRoot=function(e,t,r){if(!vx(e))throw Error(oe(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=c_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=l_(t,null,e,1,r??null,a,!1,i,o),e[ys]=t.current,lc(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ch(t)};Vr.render=function(e,t,r){if(!Eh(t))throw Error(oe(200));return kh(null,e,t,!1,r)};Vr.unmountComponentAtNode=function(e){if(!Eh(e))throw Error(oe(40));return e._reactRootContainer?(mi(function(){kh(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};Vr.unstable_batchedUpdates=ux;Vr.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Eh(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return kh(e,t,r,!1,s)};Vr.version="18.3.1-next-f1338f8080-20240426";function d_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d_)}catch(e){console.error(e)}}d_(),db.exports=Vr;var Da=db.exports;const yx=J0(Da);var u_,ew=Da;u_=ew.createRoot,ew.hydrateRoot;const iP=1,oP=1e6;let Kf=0;function lP(){return Kf=(Kf+1)%Number.MAX_SAFE_INTEGER,Kf.toString()}const Yf=new Map,tw=e=>{if(Yf.has(e))return;const t=setTimeout(()=>{Yf.delete(e),Vl({type:"REMOVE_TOAST",toastId:e})},oP);Yf.set(e,t)},cP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,iP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?tw(r):e.toasts.forEach(s=>{tw(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Qd=[];let Zd={toasts:[]};function Vl(e){Zd=cP(Zd,e),Qd.forEach(t=>{t(Zd)})}function ia({...e}){const t=lP(),r=a=>Vl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Vl({type:"DISMISS_TOAST",toastId:t});return Vl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function lr(){const[e,t]=u.useState(Zd);return u.useEffect(()=>(Qd.push(t),()=>{const r=Qd.indexOf(t);r>-1&&Qd.splice(r,1)}),[e]),{...e,toast:ia,dismiss:r=>Vl({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function dP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function h_(...e){return t=>e.forEach(r=>dP(r,t))}function Ke(...e){return u.useCallback(h_(...e),e)}function uP(e,t=[]){let r=[];function s(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:p,...g}=f,x=(m==null?void 0:m[e][c])||l,y=u.useMemo(()=>g,Object.values(g));return n.jsx(x.Provider,{value:y,children:p})}function h(f,m){const p=(m==null?void 0:m[e][c])||l,g=u.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,hP(a,...t)]}function hP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ja=u.forwardRef((e,t)=>{const{children:r,...s}=e,a=u.Children.toArray(r),i=a.find(fP);if(i){const o=i.props.children,l=a.map(c=>c===i?u.Children.count(o)>1?u.Children.only(null):u.isValidElement(o)?o.props.children:null:c);return n.jsx(jp,{...s,ref:t,children:u.isValidElement(o)?u.cloneElement(o,void 0,l):null})}return n.jsx(jp,{...s,ref:t,children:r})});ja.displayName="Slot";var jp=u.forwardRef((e,t)=>{const{children:r,...s}=e;if(u.isValidElement(r)){const a=pP(r);return u.cloneElement(r,{...mP(s,r.props),ref:t?h_(t,a):a})}return u.Children.count(r)>1?u.Children.only(null):null});jp.displayName="SlotClone";var wx=({children:e})=>n.jsx(n.Fragment,{children:e});function fP(e){return u.isValidElement(e)&&e.type===wx}function mP(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pP(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bx(e){const t=e+"CollectionProvider",[r,s]=uP(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:x}=p,y=X.useRef(null),w=X.useRef(new Map).current;return n.jsx(a,{scope:g,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=X.forwardRef((p,g)=>{const{scope:x,children:y}=p,w=i(l,x),v=Ke(g,w.collectionRef);return n.jsx(ja,{ref:v,children:y})});c.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=X.forwardRef((p,g)=>{const{scope:x,children:y,...w}=p,v=X.useRef(null),b=Ke(g,v),j=i(d,x);return X.useEffect(()=>(j.itemMap.set(v,{ref:v,...w}),()=>void j.itemMap.delete(v))),n.jsx(ja,{[h]:"",ref:b,children:y})});f.displayName=d;function m(p){const g=i(e+"CollectionConsumer",p);return X.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((j,N)=>w.indexOf(j.ref.current)-w.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}function gP(e,t){const r=u.createContext(t),s=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=u.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Yn(e,t=[]){let r=[];function s(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=f=>{var w;const{scope:m,children:p,...g}=f,x=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=u.useMemo(()=>g,Object.values(g));return n.jsx(x.Provider,{value:y,children:p})};d.displayName=i+"Provider";function h(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,g=u.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,xP(a,...t)]}function xP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var vP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=vP.reduce((e,t)=>{const r=u.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?ja:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function f_(e,t){e&&Da.flushSync(()=>e.dispatchEvent(t))}function At(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function yP(e,t=globalThis==null?void 0:globalThis.document){const r=At(e);u.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var wP="DismissableLayer",_p="dismissableLayer.update",bP="dismissableLayer.pointerDownOutside",jP="dismissableLayer.focusOutside",rw,m_=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fc=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(m_),[h,f]=u.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),g=Ke(t,_=>f(_)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),v=h?x.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=w,N=NP(_=>{const k=_.target,E=[...d.branches].some(M=>M.contains(k));!j||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),C=SP(_=>{const k=_.target;[...d.branches].some(M=>M.contains(k))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return yP(_=>{v===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),u.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(rw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),nw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=rw)}},[h,m,r,d]),u.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),nw())},[h,d]),u.useEffect(()=>{const _=()=>p({});return document.addEventListener(_p,_),()=>document.removeEventListener(_p,_)},[]),n.jsx(Te.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,N.onPointerDownCapture)})});Fc.displayName=wP;var _P="DismissableLayerBranch",p_=u.forwardRef((e,t)=>{const r=u.useContext(m_),s=u.useRef(null),a=Ke(t,s);return u.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Te.div,{...e,ref:a})});p_.displayName=_P;function NP(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),s=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){g_(bP,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function SP(e,t=globalThis==null?void 0:globalThis.document){const r=At(e),s=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!s.current&&g_(jP,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function nw(){const e=new CustomEvent(_p);document.dispatchEvent(e)}function g_(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?f_(a,i):a.dispatchEvent(i)}var CP=Fc,EP=p_,zt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},kP="Portal",Th=u.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=u.useState(!1);zt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yx.createPortal(n.jsx(Te.div,{...s,ref:t}),o):null});Th.displayName=kP;function TP(e,t){return u.useReducer((r,s)=>t[r][s]??r,e)}var dn=e=>{const{present:t,children:r}=e,s=AP(t),a=typeof r=="function"?r({present:s.isPresent}):u.Children.only(r),i=Ke(s.ref,PP(a));return typeof r=="function"||s.isPresent?u.cloneElement(a,{ref:i}):null};dn.displayName="Presence";function AP(e){const[t,r]=u.useState(),s=u.useRef({}),a=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=TP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=yd(s.current);i.current=l==="mounted"?d:"none"},[l]),zt(()=>{const d=s.current,h=a.current;if(h!==e){const m=i.current,p=yd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),zt(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,f=p=>{const x=yd(s.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(i.current=yd(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function yd(e){return(e==null?void 0:e.animationName)||"none"}function PP(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _a({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=RP({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=At(r),c=u.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function RP({defaultProp:e,onChange:t}){const r=u.useState(e),[s]=r,a=u.useRef(s),i=At(t);return u.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var DP="VisuallyHidden",Uc=u.forwardRef((e,t)=>n.jsx(Te.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Uc.displayName=DP;var OP=Uc,jx="ToastProvider",[_x,MP,IP]=bx("Toast"),[x_,iz]=Yn("Toast",[IP]),[LP,Ah]=x_(jx),v_=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=u.useState(null),[d,h]=u.useState(0),f=u.useRef(!1),m=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jx}\`. Expected non-empty \`string\`.`),n.jsx(_x.Provider,{scope:t,children:n.jsx(LP,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>h(p=>p+1),[]),onToastRemove:u.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};v_.displayName=jx;var y_="ToastViewport",$P=["F8"],Np="toast.viewportPause",Sp="toast.viewportResume",w_=u.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=$P,label:a="Notifications ({hotkey})",...i}=e,o=Ah(y_,r),l=MP(r),c=u.useRef(null),d=u.useRef(null),h=u.useRef(null),f=u.useRef(null),m=Ke(t,f,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;u.useEffect(()=>{const y=w=>{var b;s.length!==0&&s.every(j=>w[j]||w.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[s]),u.useEffect(()=>{const y=c.current,w=f.current;if(g&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Np);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Sp);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},j=C=>{!y.contains(C.relatedTarget)&&b()},N=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",j),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:y})=>{const v=l().map(b=>{const j=b.ref.current,N=[j,...ZP(j)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return u.useEffect(()=>{const y=f.current;if(y){const w=v=>{var N,C,_;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const k=document.activeElement,E=v.shiftKey;if(v.target===y&&E){(N=d.current)==null||N.focus();return}const A=x({tabbingDirection:E?"backwards":"forwards"}),P=A.findIndex(T=>T===k);Qf(A.slice(P+1))?v.preventDefault():E?(C=d.current)==null||C.focus():(_=h.current)==null||_.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,x]),n.jsxs(EP,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&n.jsx(Cp,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});Qf(y)}}),n.jsx(_x.Slot,{scope:r,children:n.jsx(Te.ol,{tabIndex:-1,...i,ref:m})}),g&&n.jsx(Cp,{ref:h,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});Qf(y)}})]})});w_.displayName=y_;var b_="ToastFocusProxy",Cp=u.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Ah(b_,r);return n.jsx(Uc,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Cp.displayName=b_;var Ph="Toast",FP="toast.swipeStart",UP="toast.swipeMove",zP="toast.swipeCancel",BP="toast.swipeEnd",j_=u.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=_a({prop:s,defaultProp:a,onChange:i});return n.jsx(dn,{present:r||l,children:n.jsx(WP,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:At(e.onPause),onResume:At(e.onResume),onSwipeStart:Ne(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});j_.displayName=Ph;var[VP,qP]=x_(Ph,{onClose(){}}),WP=u.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...g}=e,x=Ah(Ph,r),[y,w]=u.useState(null),v=Ke(t,T=>w(T)),b=u.useRef(null),j=u.useRef(null),N=a||x.duration,C=u.useRef(0),_=u.useRef(N),k=u.useRef(0),{onToastAdd:E,onToastRemove:M}=x,H=At(()=>{var R;(y==null?void 0:y.contains(document.activeElement))&&((R=x.viewport)==null||R.focus()),o()}),A=u.useCallback(T=>{!T||T===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(H,T))},[H]);u.useEffect(()=>{const T=x.viewport;if(T){const R=()=>{A(_.current),d==null||d()},F=()=>{const D=new Date().getTime()-C.current;_.current=_.current-D,window.clearTimeout(k.current),c==null||c()};return T.addEventListener(Np,F),T.addEventListener(Sp,R),()=>{T.removeEventListener(Np,F),T.removeEventListener(Sp,R)}}},[x.viewport,N,c,d,A]),u.useEffect(()=>{i&&!x.isClosePausedRef.current&&A(N)},[i,N,x.isClosePausedRef,A]),u.useEffect(()=>(E(),()=>M()),[E,M]);const P=u.useMemo(()=>y?T_(y):null,[y]);return x.viewport?n.jsxs(n.Fragment,{children:[P&&n.jsx(HP,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),n.jsx(VP,{scope:r,onClose:H,children:Da.createPortal(n.jsx(_x.ItemSlot,{scope:r,children:n.jsx(CP,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||H(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Ne(e.onPointerDown,T=>{T.button===0&&(b.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ne(e.onPointerMove,T=>{if(!b.current)return;const R=T.clientX-b.current.x,F=T.clientY-b.current.y,D=!!j.current,O=["left","right"].includes(x.swipeDirection),L=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Y=O?L(0,R):0,B=O?0:L(0,F),Q=T.pointerType==="touch"?10:2,ue={x:Y,y:B},pe={originalEvent:T,delta:ue};D?(j.current=ue,wd(UP,f,pe,{discrete:!1})):sw(ue,x.swipeDirection,Q)?(j.current=ue,wd(FP,h,pe,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(R)>Q||Math.abs(F)>Q)&&(b.current=null)}),onPointerUp:Ne(e.onPointerUp,T=>{const R=j.current,F=T.target;if(F.hasPointerCapture(T.pointerId)&&F.releasePointerCapture(T.pointerId),j.current=null,b.current=null,R){const D=T.currentTarget,O={originalEvent:T,delta:R};sw(R,x.swipeDirection,x.swipeThreshold)?wd(BP,p,O,{discrete:!0}):wd(zP,m,O,{discrete:!0}),D.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),HP=e=>{const{__scopeToast:t,children:r,...s}=e,a=Ah(Ph,t),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return YP(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Th,{asChild:!0,children:n.jsx(Uc,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},GP="ToastTitle",__=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Te.div,{...s,ref:t})});__.displayName=GP;var KP="ToastDescription",N_=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Te.div,{...s,ref:t})});N_.displayName=KP;var S_="ToastAction",C_=u.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(k_,{altText:r,asChild:!0,children:n.jsx(Nx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${S_}\`. Expected non-empty \`string\`.`),null)});C_.displayName=S_;var E_="ToastClose",Nx=u.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=qP(E_,r);return n.jsx(k_,{asChild:!0,children:n.jsx(Te.button,{type:"button",...s,ref:t,onClick:Ne(e.onClick,a.onClose)})})});Nx.displayName=E_;var k_=u.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function T_(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),QP(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...T_(s))}}),t}function wd(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?f_(a,i):a.dispatchEvent(i)}var sw=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function YP(e=()=>{}){const t=At(e);zt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function QP(e){return e.nodeType===e.ELEMENT_NODE}function ZP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var JP=v_,A_=w_,P_=j_,R_=__,D_=N_,O_=C_,M_=Nx;function I_(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=I_(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function L_(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=I_(e))&&(s&&(s+=" "),s+=t);return s}const aw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iw=L_,Rh=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return iw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const h=r==null?void 0:r[d],f=i==null?void 0:i[d];if(h===null)return null;const m=aw(h)||aw(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(g=>{let[x,y]=g;return Array.isArray(y)?y.includes({...i,...l}[x]):{...i,...l}[x]===y})?[...d,f,m]:d},[]);return iw(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$_=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...e4,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:$_("lucide",a),...l},[...o.map(([d,h])=>u.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const r=u.forwardRef(({className:s,...a},i)=>u.createElement(t4,{ref:i,iconNode:t,className:$_(`lucide-${XP(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=me("BellDot",[["path",{d:"M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3",key:"xcehk"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["circle",{cx:"18",cy:"8",r:"3",key:"1g0gzu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=me("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=me("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=me("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=me("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=me("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=me("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=me("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=me("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=me("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=me("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=me("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=me("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ax="-",T4=e=>{const t=P4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Ax);return l[0]===""&&l.length!==1&&l.shift(),q_(l,t)||A4(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},q_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?q_(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ax);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},dw=/^\[(.+)\]$/,A4=e=>{if(dw.test(e)){const t=dw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},P4=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return D4(Object.entries(e.classGroups),r).forEach(([i,o])=>{Dp(o,s,i,t)}),s},Dp=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:uw(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(R4(a)){Dp(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Dp(o,uw(t,i),r,s)})})},uw=(e,t)=>{let r=e;return t.split(Ax).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},R4=e=>e.isThemeGetter,D4=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,O4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},W_="!",M4=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,h=0,f;for(let y=0;y<l.length;y++){let w=l[y];if(d===0){if(w===a&&(s||l.slice(y,y+i)===t)){c.push(l.slice(h,y)),h=y+i;continue}if(w==="/"){f=y;continue}}w==="["?d++:w==="]"&&d--}const m=c.length===0?l:l.substring(h),p=m.startsWith(W_),g=p?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},I4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},L4=e=>({cache:O4(e.cacheSize),parseClassName:M4(e),...T4(e)}),$4=/\s+/,F4=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split($4);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let g=!!p,x=s(g?m.substring(0,p):m);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=s(m),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const y=I4(h).join(":"),w=f?y+W_:y,v=w+x;if(i.includes(v))continue;i.push(v);const b=a(x,g);for(let j=0;j<b.length;++j){const N=b[j];i.push(w+N)}l=d+(l.length>0?" "+l:l)}return l};function U4(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=H_(t))&&(s&&(s+=" "),s+=r);return s}const H_=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=H_(e[s]))&&(r&&(r+=" "),r+=t);return r};function z4(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((h,f)=>f(h),e());return r=L4(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const h=F4(c,r);return a(c,h),h}return function(){return i(U4.apply(null,arguments))}}const vt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},G_=/^\[(?:([a-z-]+):)?(.+)\]$/i,B4=/^\d+\/\d+$/,V4=new Set(["px","full","screen"]),q4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,es=e=>go(e)||V4.has(e)||B4.test(e),Ms=e=>Yo(e,"length",rR),go=e=>!!e&&!Number.isNaN(Number(e)),Xf=e=>Yo(e,"number",go),hl=e=>!!e&&Number.isInteger(Number(e)),Y4=e=>e.endsWith("%")&&go(e.slice(0,-1)),ze=e=>G_.test(e),Is=e=>q4.test(e),Q4=new Set(["length","size","percentage"]),Z4=e=>Yo(e,Q4,K_),J4=e=>Yo(e,"position",K_),X4=new Set(["image","url"]),eR=e=>Yo(e,X4,sR),tR=e=>Yo(e,"",nR),fl=()=>!0,Yo=(e,t,r)=>{const s=G_.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},rR=e=>W4.test(e)&&!H4.test(e),K_=()=>!1,nR=e=>G4.test(e),sR=e=>K4.test(e),aR=()=>{const e=vt("colors"),t=vt("spacing"),r=vt("blur"),s=vt("brightness"),a=vt("borderColor"),i=vt("borderRadius"),o=vt("borderSpacing"),l=vt("borderWidth"),c=vt("contrast"),d=vt("grayscale"),h=vt("hueRotate"),f=vt("invert"),m=vt("gap"),p=vt("gradientColorStops"),g=vt("gradientColorStopPositions"),x=vt("inset"),y=vt("margin"),w=vt("opacity"),v=vt("padding"),b=vt("saturate"),j=vt("scale"),N=vt("sepia"),C=vt("skew"),_=vt("space"),k=vt("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",ze,t],A=()=>[ze,t],P=()=>["",es,Ms],T=()=>["auto",go,ze],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ze],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[go,ze];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[es,Ms],blur:["none","",Is,ze],brightness:B(),borderColor:[e],borderRadius:["none","","full",Is,ze],borderSpacing:A(),borderWidth:P(),contrast:B(),grayscale:L(),hueRotate:B(),invert:L(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Y4,Ms],inset:H(),margin:H(),opacity:B(),padding:A(),saturate:B(),scale:B(),sepia:L(),skew:B(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),ze]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,ze]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",hl,ze]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,ze]},ze]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,ze]},ze]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,t]}],"min-w":[{"min-w":[ze,t,"min","max","fit"]}],"max-w":[{"max-w":[ze,t,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xf]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",go,Xf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",es,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",es,Ms]}],"underline-offset":[{"underline-offset":["auto",es,ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),J4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Z4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[es,ze]}],"outline-w":[{outline:[es,Ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[es,Ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Is,tR]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Is,ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[hl,ze]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[es,Ms,Xf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iR=z4(aR);function je(...e){return iR(L_(e))}const oR=JP,Y_=u.forwardRef(({className:e,...t},r)=>n.jsx(A_,{ref:r,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Y_.displayName=A_.displayName;const lR=Rh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Q_=u.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(P_,{ref:s,className:je(lR({variant:t}),e),...r}));Q_.displayName=P_.displayName;const cR=u.forwardRef(({className:e,...t},r)=>n.jsx(O_,{ref:r,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));cR.displayName=O_.displayName;const Z_=u.forwardRef(({className:e,...t},r)=>n.jsx(M_,{ref:r,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Ni,{className:"h-4 w-4"})}));Z_.displayName=M_.displayName;const J_=u.forwardRef(({className:e,...t},r)=>n.jsx(R_,{ref:r,className:je("text-sm font-semibold",e),...t}));J_.displayName=R_.displayName;const X_=u.forwardRef(({className:e,...t},r)=>n.jsx(D_,{ref:r,className:je("text-sm opacity-90",e),...t}));X_.displayName=D_.displayName;function dR(){const{toasts:e}=lr();return n.jsxs(oR,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(Q_,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(J_,{children:r}),s&&n.jsx(X_,{children:s})]}),a,n.jsx(Z_,{})]},t)}),n.jsx(Y_,{})]})}var hw=["light","dark"],uR="(prefers-color-scheme: dark)",hR=u.createContext(void 0),fR={setTheme:e=>{},themes:[]},mR=()=>{var e;return(e=u.useContext(hR))!=null?e:fR};u.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?hw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,x=!1,y=!0)=>{let w=o?o[g]:g,v=x?g+"|| ''":`'${w}'`,b="";return a&&y&&!x&&hw.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?x||w?b+=`c.add(${v})`:b+="null":w&&(b+=`d[s](n,${v})`),b},p=e?`!function(){${h}${m(e)}}()`:s?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${uR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var pR=e=>{switch(e){case"success":return vR;case"info":return wR;case"warning":return yR;case"error":return bR;default:return null}},gR=Array(12).fill(0),xR=({visible:e})=>X.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},X.createElement("div",{className:"sonner-spinner"},gR.map((t,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jR=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Op=1,_R=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Op++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(SR(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Op++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Mr=new _R,NR=(e,t)=>{let r=(t==null?void 0:t.id)||Op++;return Mr.addToast({title:e,...t,id:r}),r},SR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",CR=NR,ER=()=>Mr.toasts;Object.assign(CR,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:ER});function kR(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}kR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jd(e){return e.label!==void 0}var TR=3,AR="32px",PR=4e3,RR=356,DR=14,OR=20,MR=200;function IR(...e){return e.filter(Boolean).join(" ")}var LR=e=>{var t,r,s,a,i,o,l,c,d,h;let{invert:f,toast:m,unstyled:p,interacting:g,setHeights:x,visibleToasts:y,heights:w,index:v,toasts:b,expanded:j,removeToast:N,defaultRichColors:C,closeButton:_,style:k,cancelButtonStyle:E,actionButtonStyle:M,className:H="",descriptionClassName:A="",duration:P,position:T,gap:R,loadingIcon:F,expandByDefault:D,classNames:O,icons:L,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:B,cn:Q}=e,[ue,pe]=X.useState(!1),[Oe,I]=X.useState(!1),[K,ce]=X.useState(!1),[ve,_e]=X.useState(!1),[V,ne]=X.useState(0),[Ce,Se]=X.useState(0),xt=X.useRef(null),Ot=X.useRef(null),Wt=v===0,$=v+1<=y,W=m.type,G=m.dismissible!==!1,q=m.className||"",ae=m.descriptionClassName||"",se=X.useMemo(()=>w.findIndex(Le=>Le.toastId===m.id)||0,[w,m.id]),we=X.useMemo(()=>{var Le;return(Le=m.closeButton)!=null?Le:_},[m.closeButton,_]),Ae=X.useMemo(()=>m.duration||P||PR,[m.duration,P]),ht=X.useRef(0),ot=X.useRef(0),Ht=X.useRef(0),Gt=X.useRef(null),[As,Jn]=T.split("-"),Ai=X.useMemo(()=>w.reduce((Le,ft,lt)=>lt>=se?Le:Le+ft.height,0),[w,se]),Ua=jR(),za=m.invert||f,Ps=W==="loading";ot.current=X.useMemo(()=>se*R+Ai,[se,Ai]),X.useEffect(()=>{pe(!0)},[]),X.useLayoutEffect(()=>{if(!ue)return;let Le=Ot.current,ft=Le.style.height;Le.style.height="auto";let lt=Le.getBoundingClientRect().height;Le.style.height=ft,Se(lt),x(Wr=>Wr.find(Hr=>Hr.toastId===m.id)?Wr.map(Hr=>Hr.toastId===m.id?{...Hr,height:lt}:Hr):[{toastId:m.id,height:lt,position:m.position},...Wr])},[ue,m.title,m.description,x,m.id]);let Rn=X.useCallback(()=>{I(!0),ne(ot.current),x(Le=>Le.filter(ft=>ft.toastId!==m.id)),setTimeout(()=>{N(m)},MR)},[m,N,x,ot]);X.useEffect(()=>{if(m.promise&&W==="loading"||m.duration===1/0||m.type==="loading")return;let Le,ft=Ae;return j||g||B&&Ua?(()=>{if(Ht.current<ht.current){let lt=new Date().getTime()-ht.current;ft=ft-lt}Ht.current=new Date().getTime()})():ft!==1/0&&(ht.current=new Date().getTime(),Le=setTimeout(()=>{var lt;(lt=m.onAutoClose)==null||lt.call(m,m),Rn()},ft)),()=>clearTimeout(Le)},[j,g,D,m,Ae,Rn,m.promise,W,B,Ua]),X.useEffect(()=>{let Le=Ot.current;if(Le){let ft=Le.getBoundingClientRect().height;return Se(ft),x(lt=>[{toastId:m.id,height:ft,position:m.position},...lt]),()=>x(lt=>lt.filter(Wr=>Wr.toastId!==m.id))}},[x,m.id]),X.useEffect(()=>{m.delete&&Rn()},[Rn,m.delete]);function pf(){return L!=null&&L.loading?X.createElement("div",{className:"sonner-loader","data-visible":W==="loading"},L.loading):F?X.createElement("div",{className:"sonner-loader","data-visible":W==="loading"},F):X.createElement(xR,{visible:W==="loading"})}return X.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ot,className:Q(H,q,O==null?void 0:O.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[W],(r=m==null?void 0:m.classNames)==null?void 0:r[W]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:C,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":ue,"data-promise":!!m.promise,"data-removed":Oe,"data-visible":$,"data-y-position":As,"data-x-position":Jn,"data-index":v,"data-front":Wt,"data-swiping":K,"data-dismissible":G,"data-type":W,"data-invert":za,"data-swipe-out":ve,"data-expanded":!!(j||D&&ue),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${Oe?V:ot.current}px`,"--initial-height":D?"auto":`${Ce}px`,...k,...m.style},onPointerDown:Le=>{Ps||!G||(xt.current=new Date,ne(ot.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(ce(!0),Gt.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,ft,lt,Wr;if(ve||!G)return;Gt.current=null;let Hr=Number(((Le=Ot.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Pi=new Date().getTime()-((ft=xt.current)==null?void 0:ft.getTime()),gf=Math.abs(Hr)/Pi;if(Math.abs(Hr)>=OR||gf>.11){ne(ot.current),(lt=m.onDismiss)==null||lt.call(m,m),Rn(),_e(!0);return}(Wr=Ot.current)==null||Wr.style.setProperty("--swipe-amount","0px"),ce(!1)},onPointerMove:Le=>{var ft;if(!Gt.current||!G)return;let lt=Le.clientY-Gt.current.y,Wr=Le.clientX-Gt.current.x,Hr=(As==="top"?Math.min:Math.max)(0,lt),Pi=Le.pointerType==="touch"?10:2;Math.abs(Hr)>Pi?(ft=Ot.current)==null||ft.style.setProperty("--swipe-amount",`${lt}px`):Math.abs(Wr)>Pi&&(Gt.current=null)}},we&&!m.jsx?X.createElement("button",{"aria-label":Y,"data-disabled":Ps,"data-close-button":!0,onClick:Ps||!G?()=>{}:()=>{var Le;Rn(),(Le=m.onDismiss)==null||Le.call(m,m)},className:Q(O==null?void 0:O.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||X.isValidElement(m.title)?m.jsx||m.title:X.createElement(X.Fragment,null,W||m.icon||m.promise?X.createElement("div",{"data-icon":"",className:Q(O==null?void 0:O.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||pf():null,m.type!=="loading"?m.icon||(L==null?void 0:L[W])||pR(W):null):null,X.createElement("div",{"data-content":"",className:Q(O==null?void 0:O.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},X.createElement("div",{"data-title":"",className:Q(O==null?void 0:O.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?X.createElement("div",{"data-description":"",className:Q(A,ae,O==null?void 0:O.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),X.isValidElement(m.cancel)?m.cancel:m.cancel&&jd(m.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:Le=>{var ft,lt;jd(m.cancel)&&G&&((lt=(ft=m.cancel).onClick)==null||lt.call(ft,Le),Rn())},className:Q(O==null?void 0:O.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,X.isValidElement(m.action)?m.action:m.action&&jd(m.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||M,onClick:Le=>{var ft,lt;jd(m.action)&&(Le.defaultPrevented||((lt=(ft=m.action).onClick)==null||lt.call(ft,Le),Rn()))},className:Q(O==null?void 0:O.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function fw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var $R=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:h,style:f,visibleToasts:m=TR,toastOptions:p,dir:g=fw(),gap:x=DR,loadingIcon:y,icons:w,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:j=IR}=e,[N,C]=X.useState([]),_=X.useMemo(()=>Array.from(new Set([r].concat(N.filter(B=>B.position).map(B=>B.position)))),[N,r]),[k,E]=X.useState([]),[M,H]=X.useState(!1),[A,P]=X.useState(!1),[T,R]=X.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=X.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=X.useRef(null),L=X.useRef(!1),Y=X.useCallback(B=>{var Q;(Q=N.find(ue=>ue.id===B.id))!=null&&Q.delete||Mr.dismiss(B.id),C(ue=>ue.filter(({id:pe})=>pe!==B.id))},[N]);return X.useEffect(()=>Mr.subscribe(B=>{if(B.dismiss){C(Q=>Q.map(ue=>ue.id===B.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{yx.flushSync(()=>{C(Q=>{let ue=Q.findIndex(pe=>pe.id===B.id);return ue!==-1?[...Q.slice(0,ue),{...Q[ue],...B},...Q.slice(ue+1)]:[B,...Q]})})})}),[]),X.useEffect(()=>{if(c!=="system"){R(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{R(B?"dark":"light")})},[c]),X.useEffect(()=>{N.length<=1&&H(!1)},[N]),X.useEffect(()=>{let B=Q=>{var ue,pe;s.every(Oe=>Q[Oe]||Q.code===Oe)&&(H(!0),(ue=F.current)==null||ue.focus()),Q.code==="Escape"&&(document.activeElement===F.current||(pe=F.current)!=null&&pe.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),X.useEffect(()=>{if(F.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[F.current]),N.length?X.createElement("section",{"aria-label":`${v} ${D}`,tabIndex:-1},_.map((B,Q)=>{var ue;let[pe,Oe]=B.split("-");return X.createElement("ol",{key:B,dir:g==="auto"?fw():g,tabIndex:-1,ref:F,className:o,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":pe,"data-x-position":Oe,style:{"--front-toast-height":`${((ue=k[0])==null?void 0:ue.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||AR,"--width":`${RR}px`,"--gap":`${x}px`,...f},onBlur:I=>{L.current&&!I.currentTarget.contains(I.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=I.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{A||H(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},N.filter(I=>!I.position&&Q===0||I.position===B).map((I,K)=>{var ce,ve;return X.createElement(LR,{key:I.id,icons:w,index:K,toast:I,defaultRichColors:d,duration:(ce=p==null?void 0:p.duration)!=null?ce:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:m,closeButton:(ve=p==null?void 0:p.closeButton)!=null?ve:i,interacting:A,position:B,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Y,toasts:N.filter(_e=>_e.position==I.position),heights:k.filter(_e=>_e.position==I.position),setHeights:E,expandByDefault:a,gap:x,loadingIcon:y,expanded:M,pauseWhenPageIsHidden:b,cn:j})}))})):null};const FR=({...e})=>{const{theme:t="system"}=mR();return n.jsx($R,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var UR=fh.useId||(()=>{}),zR=0;function xa(e){const[t,r]=u.useState(UR());return zt(()=>{r(s=>s??String(zR++))},[e]),t?`radix-${t}`:""}const BR=["top","right","bottom","left"],Na=Math.min,Lr=Math.max,Tu=Math.round,_d=Math.floor,Sa=e=>({x:e,y:e}),VR={left:"right",right:"left",bottom:"top",top:"bottom"},qR={start:"end",end:"start"};function Mp(e,t,r){return Lr(e,Na(t,r))}function js(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function Qo(e){return e.split("-")[1]}function Px(e){return e==="x"?"y":"x"}function Rx(e){return e==="y"?"height":"width"}function Ca(e){return["top","bottom"].includes(_s(e))?"y":"x"}function Dx(e){return Px(Ca(e))}function WR(e,t,r){r===void 0&&(r=!1);const s=Qo(e),a=Dx(e),i=Rx(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Au(o)),[o,Au(o)]}function HR(e){const t=Au(e);return[Ip(e),t,Ip(t)]}function Ip(e){return e.replace(/start|end/g,t=>qR[t])}function GR(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function KR(e,t,r,s){const a=Qo(e);let i=GR(_s(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Ip)))),i}function Au(e){return e.replace(/left|right|bottom|top/g,t=>VR[t])}function YR(e){return{top:0,right:0,bottom:0,left:0,...e}}function eN(e){return typeof e!="number"?YR(e):{top:e,right:e,bottom:e,left:e}}function Pu(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function mw(e,t,r){let{reference:s,floating:a}=e;const i=Ca(t),o=Dx(t),l=Rx(o),c=_s(t),d=i==="y",h=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:h,y:s.y-a.height};break;case"bottom":p={x:h,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-a.width,y:f};break;default:p={x:s.x,y:s.y}}switch(Qo(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const QR=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:f}=mw(d,s,c),m=s,p={},g=0;for(let x=0;x<l.length;x++){const{name:y,fn:w}=l[x],{x:v,y:b,data:j,reset:N}=await w({x:h,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});h=v??h,f=b??f,p={...p,[y]:{...p[y],...j}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:h,y:f}=mw(d,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:a,middlewareData:p}};async function vc(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=js(t,e),g=eN(p),y=l[m?f==="floating"?"reference":"floating":f],w=Pu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Pu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(w.top-N.top+g.top)/j.y,bottom:(N.bottom-w.bottom+g.bottom)/j.y,left:(w.left-N.left+g.left)/j.x,right:(N.right-w.right+g.right)/j.x}}const ZR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=js(e,t)||{};if(d==null)return{};const f=eN(h),m={x:r,y:s},p=Dx(a),g=Rx(p),x=await o.getDimensions(d),y=p==="y",w=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[p]-m[p]-i.floating[g],N=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=C?C[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=l.floating[b]||i.floating[g]);const k=j/2-N/2,E=_/2-x[g]/2-1,M=Na(f[w],E),H=Na(f[v],E),A=M,P=_-x[g]-H,T=_/2-x[g]/2+k,R=Mp(A,T,P),F=!c.arrow&&Qo(a)!=null&&T!==R&&i.reference[g]/2-(T<A?M:H)-x[g]/2<0,D=F?T<A?T-A:T-P:0;return{[p]:m[p]+D,data:{[p]:R,centerOffset:T-R-D,...F&&{alignmentOffset:D}},reset:F}}}),JR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=js(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=_s(a),v=Ca(l),b=_s(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(b||!x?[Au(l)]:HR(l)),C=g!=="none";!m&&C&&N.push(...KR(l,x,g,j));const _=[l,...N],k=await vc(t,y),E=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&E.push(k[w]),f){const T=WR(a,o,j);E.push(k[T[0]],k[T[1]])}if(M=[...M,{placement:a,overflows:E}],!E.every(T=>T<=0)){var H,A;const T=(((H=i.flip)==null?void 0:H.index)||0)+1,R=_[T];if(R)return{data:{index:T,overflows:M},reset:{placement:R}};let F=(A=M.filter(D=>D.overflows[0]<=0).sort((D,O)=>D.overflows[1]-O.overflows[1])[0])==null?void 0:A.placement;if(!F)switch(p){case"bestFit":{var P;const D=(P=M.filter(O=>{if(C){const L=Ca(O.placement);return L===v||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,Y)=>L+Y,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:P[0];D&&(F=D);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function pw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gw(e){return BR.some(t=>e[t]>=0)}const XR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=js(e,t);switch(s){case"referenceHidden":{const i=await vc(t,{...a,elementContext:"reference"}),o=pw(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gw(o)}}}case"escaped":{const i=await vc(t,{...a,altBoundary:!0}),o=pw(i,r.floating);return{data:{escapedOffsets:o,escaped:gw(o)}}}default:return{}}}}};async function eD(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=_s(r),l=Qo(r),c=Ca(r)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,f=js(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*h,y:m*d}:{x:m*d,y:p*h}}const tD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await eD(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},rD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...c}=js(e,t),d={x:r,y:s},h=await vc(t,c),f=Ca(_s(a)),m=Px(f);let p=d[m],g=d[f];if(i){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=p+h[y],b=p-h[w];p=Mp(v,p,b)}if(o){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=g+h[y],b=g-h[w];g=Mp(v,g,b)}const x=l.fn({...t,[m]:p,[f]:g});return{...x,data:{x:x.x-r,y:x.y-s,enabled:{[m]:i,[f]:o}}}}}},nD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=js(e,t),h={x:r,y:s},f=Ca(a),m=Px(f);let p=h[m],g=h[f];const x=js(l,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",j=i.reference[m]-i.floating[b]+y.mainAxis,N=i.reference[m]+i.reference[b]-y.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var w,v;const b=m==="y"?"width":"height",j=["top","left"].includes(_s(a)),N=i.reference[f]-i.floating[b]+(j&&((w=o.offset)==null?void 0:w[f])||0)+(j?0:y.crossAxis),C=i.reference[f]+i.reference[b]+(j?0:((v=o.offset)==null?void 0:v[f])||0)-(j?y.crossAxis:0);g<N?g=N:g>C&&(g=C)}return{[m]:p,[f]:g}}}},sD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=js(e,t),h=await vc(t,d),f=_s(a),m=Qo(a),p=Ca(a)==="y",{width:g,height:x}=i.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,y=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,b=g-h.left-h.right,j=Na(x-h[y],v),N=Na(g-h[w],b),C=!t.middlewareData.shift;let _=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=v),C&&!m){const M=Lr(h.left,0),H=Lr(h.right,0),A=Lr(h.top,0),P=Lr(h.bottom,0);p?k=g-2*(M!==0||H!==0?M+H:Lr(h.left,h.right)):_=x-2*(A!==0||P!==0?A+P:Lr(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:_});const E=await o.getDimensions(l.floating);return g!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function Mh(){return typeof window<"u"}function Zo(e){return tN(e)?(e.nodeName||"").toLowerCase():"#document"}function zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qn(e){var t;return(t=(tN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tN(e){return Mh()?e instanceof Node||e instanceof zr(e).Node:!1}function kn(e){return Mh()?e instanceof Element||e instanceof zr(e).Element:!1}function Gn(e){return Mh()?e instanceof HTMLElement||e instanceof zr(e).HTMLElement:!1}function xw(e){return!Mh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zr(e).ShadowRoot}function Vc(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Tn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function aD(e){return["table","td","th"].includes(Zo(e))}function Ih(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ox(e){const t=Mx(),r=kn(e)?Tn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function iD(e){let t=Ea(e);for(;Gn(t)&&!Fo(t);){if(Ox(t))return t;if(Ih(t))return null;t=Ea(t)}return null}function Mx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fo(e){return["html","body","#document"].includes(Zo(e))}function Tn(e){return zr(e).getComputedStyle(e)}function Lh(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ea(e){if(Zo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xw(e)&&e.host||Qn(e);return xw(t)?t.host:t}function rN(e){const t=Ea(e);return Fo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gn(t)&&Vc(t)?t:rN(t)}function yc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=rN(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=zr(a);if(i){const l=Lp(o);return t.concat(o,o.visualViewport||[],Vc(a)?a:[],l&&r?yc(l):[])}return t.concat(a,yc(a,[],r))}function Lp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nN(e){const t=Tn(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Gn(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Tu(r)!==i||Tu(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Ix(e){return kn(e)?e:e.contextElement}function xo(e){const t=Ix(e);if(!Gn(t))return Sa(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=nN(t);let o=(i?Tu(r.width):r.width)/s,l=(i?Tu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oD=Sa(0);function sN(e){const t=zr(e);return!Mx()||!t.visualViewport?oD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zr(e)?!1:t}function gi(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Ix(e);let o=Sa(1);t&&(s?kn(s)&&(o=xo(s)):o=xo(e));const l=lD(i,r,s)?sN(i):Sa(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,h=a.width/o.x,f=a.height/o.y;if(i){const m=zr(i),p=s&&kn(s)?zr(s):s;let g=m,x=Lp(g);for(;x&&s&&p!==g;){const y=xo(x),w=x.getBoundingClientRect(),v=Tn(x),b=w.left+(x.clientLeft+parseFloat(v.paddingLeft))*y.x,j=w.top+(x.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,d*=y.y,h*=y.x,f*=y.y,c+=b,d+=j,g=zr(x),x=Lp(g)}}return Pu({width:h,height:f,x:c,y:d})}function cD(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Qn(s),l=t?Ih(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Sa(1);const h=Sa(0),f=Gn(s);if((f||!f&&!i)&&((Zo(s)!=="body"||Vc(o))&&(c=Lh(s)),Gn(s))){const m=gi(s);d=xo(s),h.x=m.x+s.clientLeft,h.y=m.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x,y:r.y*d.y-c.scrollTop*d.y+h.y}}function dD(e){return Array.from(e.getClientRects())}function $p(e,t){const r=Lh(e).scrollLeft;return t?t.left+r:gi(Qn(e)).left+r}function uD(e){const t=Qn(e),r=Lh(e),s=e.ownerDocument.body,a=Lr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Lr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+$p(e);const l=-r.scrollTop;return Tn(s).direction==="rtl"&&(o+=Lr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function hD(e,t){const r=zr(e),s=Qn(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Mx();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function fD(e,t){const r=gi(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Gn(e)?xo(e):Sa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function vw(e,t,r){let s;if(t==="viewport")s=hD(e,r);else if(t==="document")s=uD(Qn(e));else if(kn(t))s=fD(t,r);else{const a=sN(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return Pu(s)}function aN(e,t){const r=Ea(e);return r===t||!kn(r)||Fo(r)?!1:Tn(r).position==="fixed"||aN(r,t)}function mD(e,t){const r=t.get(e);if(r)return r;let s=yc(e,[],!1).filter(l=>kn(l)&&Zo(l)!=="body"),a=null;const i=Tn(e).position==="fixed";let o=i?Ea(e):e;for(;kn(o)&&!Fo(o);){const l=Tn(o),c=Ox(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Vc(o)&&!c&&aN(e,o))?s=s.filter(h=>h!==o):a=l,o=Ea(o)}return t.set(e,s),s}function pD(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Ih(t)?[]:mD(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,h)=>{const f=vw(t,h,a);return d.top=Lr(f.top,d.top),d.right=Na(f.right,d.right),d.bottom=Na(f.bottom,d.bottom),d.left=Lr(f.left,d.left),d},vw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gD(e){const{width:t,height:r}=nN(e);return{width:t,height:r}}function xD(e,t,r){const s=Gn(t),a=Qn(t),i=r==="fixed",o=gi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Sa(0);if(s||!s&&!i)if((Zo(t)!=="body"||Vc(a))&&(l=Lh(t)),s){const p=gi(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=$p(a));let d=0,h=0;if(a&&!s&&!i){const p=a.getBoundingClientRect();h=p.top+l.scrollTop,d=p.left+l.scrollLeft-$p(a,p)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-h;return{x:f,y:m,width:o.width,height:o.height}}function em(e){return Tn(e).position==="static"}function yw(e,t){if(!Gn(e)||Tn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qn(e)===r&&(r=r.ownerDocument.body),r}function iN(e,t){const r=zr(e);if(Ih(e))return r;if(!Gn(e)){let a=Ea(e);for(;a&&!Fo(a);){if(kn(a)&&!em(a))return a;a=Ea(a)}return r}let s=yw(e,t);for(;s&&aD(s)&&em(s);)s=yw(s,t);return s&&Fo(s)&&em(s)&&!Ox(s)?r:s||iD(e)||r}const vD=async function(e){const t=this.getOffsetParent||iN,r=this.getDimensions,s=await r(e.floating);return{reference:xD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function yD(e){return Tn(e).direction==="rtl"}const wD={convertOffsetParentRelativeRectToViewportRelativeRect:cD,getDocumentElement:Qn,getClippingRect:pD,getOffsetParent:iN,getElementRects:vD,getClientRects:dD,getDimensions:gD,getScale:xo,isElement:kn,isRTL:yD};function bD(e,t){let r=null,s;const a=Qn(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:h,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const p=_d(h),g=_d(a.clientWidth-(d+f)),x=_d(a.clientHeight-(h+m)),y=_d(d),v={rootMargin:-p+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Lr(0,Na(1,c))||1};let b=!0;function j(N){const C=N[0].intersectionRatio;if(C!==c){if(!b)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return o(!0),i}function oN(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Ix(e),h=a||i?[...d?yc(d):[],...yc(t)]:[];h.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=d&&l?bD(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let g,x=c?gi(e):null;c&&y();function y(){const w=gi(e);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&r(),x=w,g=requestAnimationFrame(y)}return r(),()=>{var w;h.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const jD=tD,_D=rD,ND=JR,SD=sD,CD=XR,ww=ZR,ED=nD,kD=(e,t,r)=>{const s=new Map,a={platform:wD,...r},i={...a.platform,_c:s};return QR(e,t,{...a,platform:i})};var Jd=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Ru(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Ru(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function lN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bw(e,t){const r=lN(e);return Math.round(t*r)/r}function tm(e){const t=u.useRef(e);return Jd(()=>{t.current=e}),t}function cN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,f]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=u.useState(s);Ru(m,s)||p(s);const[g,x]=u.useState(null),[y,w]=u.useState(null),v=u.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),b=u.useCallback(O=>{O!==_.current&&(_.current=O,w(O))},[]),j=i||g,N=o||y,C=u.useRef(null),_=u.useRef(null),k=u.useRef(h),E=c!=null,M=tm(c),H=tm(a),A=tm(d),P=u.useCallback(()=>{if(!C.current||!_.current)return;const O={placement:t,strategy:r,middleware:m};H.current&&(O.platform=H.current),kD(C.current,_.current,O).then(L=>{const Y={...L,isPositioned:A.current!==!1};T.current&&!Ru(k.current,Y)&&(k.current=Y,Da.flushSync(()=>{f(Y)}))})},[m,t,r,H,A]);Jd(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[d]);const T=u.useRef(!1);Jd(()=>(T.current=!0,()=>{T.current=!1}),[]),Jd(()=>{if(j&&(C.current=j),N&&(_.current=N),j&&N){if(M.current)return M.current(j,N,P);P()}},[j,N,P,M,E]);const R=u.useMemo(()=>({reference:C,floating:_,setReference:v,setFloating:b}),[v,b]),F=u.useMemo(()=>({reference:j,floating:N}),[j,N]),D=u.useMemo(()=>{const O={position:r,left:0,top:0};if(!F.floating)return O;const L=bw(F.floating,h.x),Y=bw(F.floating,h.y);return l?{...O,transform:"translate("+L+"px, "+Y+"px)",...lN(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:Y}},[r,l,F.floating,h.x,h.y]);return u.useMemo(()=>({...h,update:P,refs:R,elements:F,floatingStyles:D}),[h,P,R,F,D])}const TD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?ww({element:s.current,padding:a}).fn(r):{}:s?ww({element:s,padding:a}).fn(r):{}}}},dN=(e,t)=>({...jD(e),options:[e,t]}),uN=(e,t)=>({..._D(e),options:[e,t]}),hN=(e,t)=>({...ED(e),options:[e,t]}),fN=(e,t)=>({...ND(e),options:[e,t]}),mN=(e,t)=>({...SD(e),options:[e,t]}),pN=(e,t)=>({...CD(e),options:[e,t]}),gN=(e,t)=>({...TD(e),options:[e,t]});var AD="Arrow",xN=u.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(Te.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});xN.displayName=AD;var PD=xN;function RD(e,t=[]){let r=[];function s(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:p,...g}=f,x=(m==null?void 0:m[e][c])||l,y=u.useMemo(()=>g,Object.values(g));return n.jsx(x.Provider,{value:y,children:p})}function h(f,m){const p=(m==null?void 0:m[e][c])||l,g=u.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,DD(a,...t)]}function DD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Lx(e){const[t,r]=u.useState(void 0);return zt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var $x="Popper",[vN,$h]=RD($x),[OD,yN]=vN($x),wN=e=>{const{__scopePopper:t,children:r}=e,[s,a]=u.useState(null);return n.jsx(OD,{scope:t,anchor:s,onAnchorChange:a,children:r})};wN.displayName=$x;var bN="PopperAnchor",jN=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=yN(bN,r),o=u.useRef(null),l=Ke(t,o);return u.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(Te.div,{...a,ref:l})});jN.displayName=bN;var Fx="PopperContent",[MD,ID]=vN(Fx),_N=u.forwardRef((e,t)=>{var K,ce,ve,_e,V,ne;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,y=yN(Fx,r),[w,v]=u.useState(null),b=Ke(t,Ce=>v(Ce)),[j,N]=u.useState(null),C=Lx(j),_=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,E=s+(i!=="center"?"-"+i:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},H=Array.isArray(d)?d:[d],A=H.length>0,P={padding:M,boundary:H.filter($D),altBoundary:A},{refs:T,floatingStyles:R,placement:F,isPositioned:D,middlewareData:O}=cN({strategy:"fixed",placement:E,whileElementsMounted:(...Ce)=>oN(...Ce,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[dN({mainAxis:a+k,alignmentAxis:o}),c&&uN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hN():void 0,...P}),c&&fN({...P}),mN({...P,apply:({elements:Ce,rects:Se,availableWidth:xt,availableHeight:Ot})=>{const{width:Wt,height:$}=Se.reference,W=Ce.floating.style;W.setProperty("--radix-popper-available-width",`${xt}px`),W.setProperty("--radix-popper-available-height",`${Ot}px`),W.setProperty("--radix-popper-anchor-width",`${Wt}px`),W.setProperty("--radix-popper-anchor-height",`${$}px`)}}),j&&gN({element:j,padding:l}),FD({arrowWidth:_,arrowHeight:k}),m&&pN({strategy:"referenceHidden",...P})]}),[L,Y]=CN(F),B=At(g);zt(()=>{D&&(B==null||B())},[D,B]);const Q=(K=O.arrow)==null?void 0:K.x,ue=(ce=O.arrow)==null?void 0:ce.y,pe=((ve=O.arrow)==null?void 0:ve.centerOffset)!==0,[Oe,I]=u.useState();return zt(()=>{w&&I(window.getComputedStyle(w).zIndex)},[w]),n.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:D?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(_e=O.transformOrigin)==null?void 0:_e.x,(V=O.transformOrigin)==null?void 0:V.y].join(" "),...((ne=O.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(MD,{scope:r,placedSide:L,onArrowChange:N,arrowX:Q,arrowY:ue,shouldHideArrow:pe,children:n.jsx(Te.div,{"data-side":L,"data-align":Y,...x,ref:b,style:{...x.style,animation:D?void 0:"none"}})})})});_N.displayName=Fx;var NN="PopperArrow",LD={top:"bottom",right:"left",bottom:"top",left:"right"},SN=u.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=ID(NN,s),o=LD[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(PD,{...a,ref:r,style:{...a.style,display:"block"}})})});SN.displayName=NN;function $D(e){return e!==null}var FD=e=>({name:"transformOrigin",options:e,fn(t){var y,w,v;const{placement:r,rects:s,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=CN(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=o?f:`${m}px`,x=`${-c}px`):d==="top"?(g=o?f:`${m}px`,x=`${s.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=o?f:`${p}px`):d==="left"&&(g=`${s.floating.width+c}px`,x=o?f:`${p}px`),{data:{x:g,y:x}}}});function CN(e){const[t,r="center"]=e.split("-");return[t,r]}var UD=wN,EN=jN,kN=_N,TN=SN,[Fh,oz]=Yn("Tooltip",[$h]),Ux=$h(),AN="TooltipProvider",zD=700,jw="tooltip.open",[BD,PN]=Fh(AN),RN=e=>{const{__scopeTooltip:t,delayDuration:r=zD,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=u.useState(!0),c=u.useRef(!1),d=u.useRef(0);return u.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),n.jsx(BD,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:u.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:i})};RN.displayName=AN;var DN="Tooltip",[lz,Uh]=Fh(DN),Fp="TooltipTrigger",VD=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Uh(Fp,r),i=PN(Fp,r),o=Ux(r),l=u.useRef(null),c=Ke(t,l,a.onTriggerChange),d=u.useRef(!1),h=u.useRef(!1),f=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(EN,{asChild:!0,...o,children:n.jsx(Te.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});VD.displayName=Fp;var qD="TooltipPortal",[cz,WD]=Fh(qD,{forceMount:void 0}),Uo="TooltipContent",ON=u.forwardRef((e,t)=>{const r=WD(Uo,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Uh(Uo,e.__scopeTooltip);return n.jsx(dn,{present:s||o.open,children:o.disableHoverableContent?n.jsx(MN,{side:a,...i,ref:t}):n.jsx(HD,{side:a,...i,ref:t})})}),HD=u.forwardRef((e,t)=>{const r=Uh(Uo,e.__scopeTooltip),s=PN(Uo,e.__scopeTooltip),a=u.useRef(null),i=Ke(t,a),[o,l]=u.useState(null),{trigger:c,onClose:d}=r,h=a.current,{onPointerInTransitChange:f}=s,m=u.useCallback(()=>{l(null),f(!1)},[f]),p=u.useCallback((g,x)=>{const y=g.currentTarget,w={x:g.clientX,y:g.clientY},v=QD(w,y.getBoundingClientRect()),b=ZD(w,v),j=JD(x.getBoundingClientRect()),N=eO([...b,...j]);l(N),f(!0)},[f]);return u.useEffect(()=>()=>m(),[m]),u.useEffect(()=>{if(c&&h){const g=y=>p(y,h),x=y=>p(y,c);return c.addEventListener("pointerleave",g),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",x)}}},[c,h,p,m]),u.useEffect(()=>{if(o){const g=x=>{const y=x.target,w={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(y))||(h==null?void 0:h.contains(y)),b=!XD(w,o);v?m():b&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,h,o,d,m]),n.jsx(MN,{...e,ref:i})}),[GD,KD]=Fh(DN,{isInside:!1}),MN=u.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Uh(Uo,r),d=Ux(r),{onClose:h}=c;return u.useEffect(()=>(document.addEventListener(jw,h),()=>document.removeEventListener(jw,h)),[h]),u.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),n.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:n.jsxs(kN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(wx,{children:s}),n.jsx(GD,{scope:r,isInside:!0,children:n.jsx(OP,{id:c.contentId,role:"tooltip",children:a||s})})]})})});ON.displayName=Uo;var IN="TooltipArrow",YD=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Ux(r);return KD(IN,r).isInside?null:n.jsx(TN,{...a,...s,ref:t})});YD.displayName=IN;function QD(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ZD(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function JD(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function XD(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,h=t[o].y;c>s!=h>s&&r<(d-l)*(s-c)/(h-c)+l&&(a=!a)}return a}function eO(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),tO(t)}function tO(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var rO=RN,LN=ON;const nO=rO,sO=u.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(LN,{ref:s,sideOffset:t,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));sO.displayName=LN.displayName;var zh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bh=typeof window>"u"||"Deno"in globalThis;function gn(){}function aO(e,t){return typeof e=="function"?e(t):e}function iO(e){return typeof e=="number"&&e>=0&&e!==1/0}function oO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _w(e,t){return typeof e=="function"?e(t):e}function lO(e,t){return typeof e=="function"?e(t):e}function Nw(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==zx(o,t.options))return!1}else if(!bc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Sw(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(wc(t.options.mutationKey)!==wc(i))return!1}else if(!bc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function zx(e,t){return((t==null?void 0:t.queryKeyHashFn)||wc)(e)}function wc(e){return JSON.stringify(e,(t,r)=>Up(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function bc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!bc(e[r],t[r])):!1}function $N(e,t){if(e===t)return e;const r=Cw(e)&&Cw(t);if(r||Up(e)&&Up(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&s.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=$N(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Cw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Up(e){if(!Ew(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ew(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ew(e){return Object.prototype.toString.call(e)==="[object Object]"}function cO(e){return new Promise(t=>{setTimeout(t,e)})}function dO(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$N(e,t):t}function uO(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function hO(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Bx=Symbol();function FN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var si,Xs,bo,q0,fO=(q0=class extends zh{constructor(){super();et(this,si);et(this,Xs);et(this,bo);Be(this,bo,t=>{if(!Bh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Xs)||this.setEventListener(te(this,bo))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Xs))==null||t.call(this),Be(this,Xs,void 0))}setEventListener(t){var r;Be(this,bo,t),(r=te(this,Xs))==null||r.call(this),Be(this,Xs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){te(this,si)!==t&&(Be(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,si)=="boolean"?te(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,Xs=new WeakMap,bo=new WeakMap,q0),UN=new fO,jo,ea,_o,W0,mO=(W0=class extends zh{constructor(){super();et(this,jo,!0);et(this,ea);et(this,_o);Be(this,_o,t=>{if(!Bh&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){te(this,ea)||this.setEventListener(te(this,_o))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ea))==null||t.call(this),Be(this,ea,void 0))}setEventListener(t){var r;Be(this,_o,t),(r=te(this,ea))==null||r.call(this),Be(this,ea,t(this.setOnline.bind(this)))}setOnline(t){te(this,jo)!==t&&(Be(this,jo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return te(this,jo)}},jo=new WeakMap,ea=new WeakMap,_o=new WeakMap,W0),Du=new mO;function pO(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function gO(e){return Math.min(1e3*2**e,3e4)}function zN(e){return(e??"online")==="online"?Du.isOnline():!0}var BN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rm(e){return e instanceof BN}function VN(e){let t=!1,r=0,s=!1,a;const i=pO(),o=x=>{var y;s||(m(new BN(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>UN.isFocused()&&(e.networkMode==="always"||Du.isOnline())&&e.canRun(),h=()=>zN(e.networkMode)&&e.canRun(),f=x=>{var y;s||(s=!0,(y=e.onSuccess)==null||y.call(e,x),a==null||a(),i.resolve(x))},m=x=>{var y;s||(s=!0,(y=e.onError)==null||y.call(e,x),a==null||a(),i.reject(x))},p=()=>new Promise(x=>{var y;a=w=>{(s||d())&&x(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;a=void 0,s||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(s)return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var C;if(s)return;const v=e.retry??(Bh?0:3),b=e.retryDelay??gO,j=typeof b=="function"?b(r,w):b,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,w);if(t||!N){m(w);return}r++,(C=e.onFail)==null||C.call(e,r,w),cO(j).then(()=>d()?void 0:p()).then(()=>{t?m(w):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?g():p().then(g),i)}}function xO(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var fr=xO(),ai,H0,qN=(H0=class{constructor(){et(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iO(this.gcTime)&&Be(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bh?1/0:5*60*1e3))}clearGcTimeout(){te(this,ai)&&(clearTimeout(te(this,ai)),Be(this,ai,void 0))}},ai=new WeakMap,H0),No,So,Gr,sr,Rc,ii,xn,rs,G0,vO=(G0=class extends qN{constructor(t){super();et(this,xn);et(this,No);et(this,So);et(this,Gr);et(this,sr);et(this,Rc);et(this,ii);Be(this,ii,!1),Be(this,Rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Be(this,Gr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Be(this,No,wO(this.options)),this.state=t.state??te(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,sr))==null?void 0:t.promise}setOptions(t){this.options={...te(this,Rc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Gr).remove(this)}setData(t,r){const s=dO(this.state.data,t,this.options);return er(this,xn,rs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){er(this,xn,rs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=te(this,sr))==null?void 0:s.promise;return(a=te(this,sr))==null||a.cancel(t),r?r.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,No))}isActive(){return this.observers.some(t=>lO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!oO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,sr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,sr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,sr)&&(te(this,ii)?te(this,sr).cancel({revert:!0}):te(this,sr).cancelRetry()),this.scheduleGc()),te(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||er(this,xn,rs).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,sr))return te(this,sr).continueRetry(),te(this,sr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Be(this,ii,!0),s.signal)})},i=()=>{const f=FN(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),Be(this,ii,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Be(this,So,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&er(this,xn,rs).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,p,g,x;rm(f)&&f.silent||er(this,xn,rs).call(this,{type:"error",error:f}),rm(f)||((p=(m=te(this,Gr).config).onError)==null||p.call(m,f,this),(x=(g=te(this,Gr).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return Be(this,sr,VN({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,p,g,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(p=(m=te(this,Gr).config).onSuccess)==null||p.call(m,f,this),(x=(g=te(this,Gr).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{er(this,xn,rs).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{er(this,xn,rs).call(this,{type:"pause"})},onContinue:()=>{er(this,xn,rs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),te(this,sr).start()}},No=new WeakMap,So=new WeakMap,Gr=new WeakMap,sr=new WeakMap,Rc=new WeakMap,ii=new WeakMap,xn=new WeakSet,rs=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...yO(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return rm(a)&&a.revert&&te(this,So)?{...te(this,So),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),fr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),te(this,Gr).notify({query:this,type:"updated",action:t})})},G0);function yO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mn,K0,bO=(K0=class extends zh{constructor(t={}){super();et(this,Mn);this.config=t,Be(this,Mn,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??zx(a,r);let o=this.get(i);return o||(o=new vO({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){te(this,Mn).has(t.queryHash)||(te(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,Mn).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,Mn).get(t)}getAll(){return[...te(this,Mn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Nw(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Nw(t,s)):r}notify(t){fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,K0),In,dr,oi,Ln,$s,Y0,jO=(Y0=class extends qN{constructor(t){super();et(this,Ln);et(this,In);et(this,dr);et(this,oi);this.mutationId=t.mutationId,Be(this,dr,t.mutationCache),Be(this,In,[]),this.state=t.state||_O(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,In).includes(t)||(te(this,In).push(t),this.clearGcTimeout(),te(this,dr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Be(this,In,te(this,In).filter(r=>r!==t)),this.scheduleGc(),te(this,dr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,In).length||(this.state.status==="pending"?this.scheduleGc():te(this,dr).remove(this))}continue(){var t;return((t=te(this,oi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,h,f,m,p,g,x,y,w,v,b,j,N,C,_;Be(this,oi,VN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{er(this,Ln,$s).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{er(this,Ln,$s).call(this,{type:"pause"})},onContinue:()=>{er(this,Ln,$s).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,dr).canRun(this)}));const r=this.state.status==="pending",s=!te(this,oi).canStart();try{if(!r){er(this,Ln,$s).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=te(this,dr).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&er(this,Ln,$s).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const k=await te(this,oi).start();return await((d=(c=te(this,dr).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,t,this.state.context)),await((p=(m=te(this,dr).config).onSettled)==null?void 0:p.call(m,k,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,k,null,t,this.state.context)),er(this,Ln,$s).call(this,{type:"success",data:k}),k}catch(k){try{throw await((w=(y=te(this,dr).config).onError)==null?void 0:w.call(y,k,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,k,t,this.state.context)),await((N=(j=te(this,dr).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,k,t,this.state.context)),k}finally{er(this,Ln,$s).call(this,{type:"error",error:k})}}finally{te(this,dr).runNext(this)}}},In=new WeakMap,dr=new WeakMap,oi=new WeakMap,Ln=new WeakSet,$s=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),fr.batch(()=>{te(this,In).forEach(s=>{s.onMutationUpdate(t)}),te(this,dr).notify({mutation:this,type:"updated",action:t})})},Y0);function _O(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,Dc,Q0,NO=(Q0=class extends zh{constructor(t={}){super();et(this,Or);et(this,Dc);this.config=t,Be(this,Or,new Map),Be(this,Dc,Date.now())}build(t,r,s){const a=new jO({mutationCache:this,mutationId:++td(this,Dc)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=Nd(t),s=te(this,Or).get(r)??[];s.push(t),te(this,Or).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Nd(t);if(te(this,Or).has(r)){const a=(s=te(this,Or).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?te(this,Or).delete(r):te(this,Or).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=te(this,Or).get(Nd(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=te(this,Or).get(Nd(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...te(this,Or).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Sw(r,s))}findAll(t={}){return this.getAll().filter(r=>Sw(t,r))}notify(t){fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return fr.batch(()=>Promise.all(t.map(r=>r.continue().catch(gn))))}},Or=new WeakMap,Dc=new WeakMap,Q0);function Nd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function kw(e){return{onFetch:(t,r)=>{var h,f,m,p,g;const s=t.options,a=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=FN(t.options,t.fetchOptions),v=async(b,j,N)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};y(C);const _=await w(C),{maxPages:k}=t.options,E=N?hO:uO;return{pages:E(b.pages,_,k),pageParams:E(b.pageParams,j,k)}};if(a&&i.length){const b=a==="backward",j=b?SO:Tw,N={pages:i,pageParams:o},C=j(s,N);l=await v(N,C,b)}else{const b=e??i.length;do{const j=c===0?o[0]??s.initialPageParam:Tw(s,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Tw(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function SO(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ct,ta,ra,Co,Eo,na,ko,To,Z0,CO=(Z0=class{constructor(e={}){et(this,Ct);et(this,ta);et(this,ra);et(this,Co);et(this,Eo);et(this,na);et(this,ko);et(this,To);Be(this,Ct,e.queryCache||new bO),Be(this,ta,e.mutationCache||new NO),Be(this,ra,e.defaultOptions||{}),Be(this,Co,new Map),Be(this,Eo,new Map),Be(this,na,0)}mount(){td(this,na)._++,te(this,na)===1&&(Be(this,ko,UN.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Ct).onFocus())})),Be(this,To,Du.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Ct).onOnline())})))}unmount(){var e,t;td(this,na)._--,te(this,na)===0&&((e=te(this,ko))==null||e.call(this),Be(this,ko,void 0),(t=te(this,To))==null||t.call(this),Be(this,To,void 0))}isFetching(e){return te(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,ta).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Ct).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=te(this,Ct).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(_w(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return te(this,Ct).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=te(this,Ct).get(s.queryHash),i=a==null?void 0:a.state.data,o=aO(t,i);if(o!==void 0)return te(this,Ct).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return fr.batch(()=>te(this,Ct).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Ct).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,Ct);fr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,Ct),s={type:"active",...e};return fr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=fr.batch(()=>te(this,Ct).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(gn).catch(gn)}invalidateQueries(e={},t={}){return fr.batch(()=>{if(te(this,Ct).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=fr.batch(()=>te(this,Ct).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(gn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(gn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,Ct).build(this,t);return r.isStaleByTime(_w(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gn).catch(gn)}fetchInfiniteQuery(e){return e.behavior=kw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gn).catch(gn)}ensureInfiniteQueryData(e){return e.behavior=kw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Du.isOnline()?te(this,ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Ct)}getMutationCache(){return te(this,ta)}getDefaultOptions(){return te(this,ra)}setDefaultOptions(e){Be(this,ra,e)}setQueryDefaults(e,t){te(this,Co).set(wc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,Co).values()];let r={};return t.forEach(s=>{bc(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){te(this,Eo).set(wc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,Eo).values()];let r={};return t.forEach(s=>{bc(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,ra).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Bx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,ra).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,Ct).clear(),te(this,ta).clear()}},Ct=new WeakMap,ta=new WeakMap,ra=new WeakMap,Co=new WeakMap,Eo=new WeakMap,na=new WeakMap,ko=new WeakMap,To=new WeakMap,Z0),EO=u.createContext(void 0),kO=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(EO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jc.apply(this,arguments)}var oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oa||(oa={}));const Aw="popstate";function TO(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return zp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Ou(a)}return PO(t,r,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AO(){return Math.random().toString(36).substr(2,8)}function Pw(e,t){return{usr:e.state,key:e.key,idx:t}}function zp(e,t,r,s){return r===void 0&&(r=null),jc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jo(t):t,{state:r,key:t&&t.key||s||AO()})}function Ou(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Jo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function PO(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=oa.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(jc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=oa.Pop;let y=h(),w=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:w})}function m(y,w){l=oa.Push;let v=zp(x.location,y,w);d=h()+1;let b=Pw(v,d),j=x.createHref(v);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function p(y,w){l=oa.Replace;let v=zp(x.location,y,w);d=h();let b=Pw(v,d),j=x.createHref(v);o.replaceState(b,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let w=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:Ou(y);return v=v.replace(/ $/,"%20"),Rt(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let x={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Aw,f),c=y,()=>{a.removeEventListener(Aw,f),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return o.go(y)}};return x}var Rw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rw||(Rw={}));function RO(e,t,r){return r===void 0&&(r="/"),DO(e,t,r,!1)}function DO(e,t,r,s){let a=typeof t=="string"?Jo(t):t,i=Vx(a.pathname||"/",r);if(i==null)return null;let o=HN(e);OO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=WO(i);l=VO(o[c],d,s)}return l}function HN(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=va([s,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),HN(i.children,t,h,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:zO(d,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of GN(i.path))a(i,o,c)}),t}function GN(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=GN(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function OO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BO(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const MO=/^:[\w-]+$/,IO=3,LO=2,$O=1,FO=10,UO=-2,Dw=e=>e==="*";function zO(e,t){let r=e.split("/"),s=r.length;return r.some(Dw)&&(s+=UO),t&&(s+=LO),r.filter(a=>!Dw(a)).reduce((a,i)=>a+(MO.test(i)?IO:i===""?$O:FO),s)}function BO(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function VO(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Ow({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=Ow({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:va([i,f.pathname]),pathnameBase:YO(va([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=va([i,f.pathnameBase]))}return o}function Ow(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=qO(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function qO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),WN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function WO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function HO(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Jo(e):e;return{pathname:r?r.startsWith("/")?r:GO(r,t):t,search:QO(s),hash:ZO(a)}}function GO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function nm(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qx(e,t){let r=KO(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Wx(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Jo(e):(a=jc({},e),Rt(!a.pathname||!a.pathname.includes("?"),nm("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),nm("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),nm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=HO(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const va=e=>e.join("/").replace(/\/\/+/g,"/"),YO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KN=["post","put","patch","delete"];new Set(KN);const XO=["get",...KN];new Set(XO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_c.apply(this,arguments)}const Hx=u.createContext(null),eM=u.createContext(null),Oa=u.createContext(null),Vh=u.createContext(null),ks=u.createContext({outlet:null,matches:[],isDataRoute:!1}),YN=u.createContext(null);function tM(e,t){let{relative:r}=t===void 0?{}:t;Xo()||Rt(!1);let{basename:s,navigator:a}=u.useContext(Oa),{hash:i,pathname:o,search:l}=ZN(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:va([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Xo(){return u.useContext(Vh)!=null}function Si(){return Xo()||Rt(!1),u.useContext(Vh).location}function QN(e){u.useContext(Oa).static||u.useLayoutEffect(e)}function Ci(){let{isDataRoute:e}=u.useContext(ks);return e?mM():rM()}function rM(){Xo()||Rt(!1);let e=u.useContext(Hx),{basename:t,future:r,navigator:s}=u.useContext(Oa),{matches:a}=u.useContext(ks),{pathname:i}=Si(),o=JSON.stringify(qx(a,r.v7_relativeSplatPath)),l=u.useRef(!1);return QN(()=>{l.current=!0}),u.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=Wx(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:va([t,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[t,s,o,i,e])}function Gx(){let{matches:e}=u.useContext(ks),t=e[e.length-1];return t?t.params:{}}function ZN(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=u.useContext(Oa),{matches:a}=u.useContext(ks),{pathname:i}=Si(),o=JSON.stringify(qx(a,s.v7_relativeSplatPath));return u.useMemo(()=>Wx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function nM(e,t){return sM(e,t)}function sM(e,t,r,s){Xo()||Rt(!1);let{navigator:a}=u.useContext(Oa),{matches:i}=u.useContext(ks),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Si(),h;if(t){var f;let y=typeof t=="string"?Jo(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Rt(!1),h=y}else h=d;let m=h.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=RO(e,{pathname:p}),x=cM(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:va([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:va([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,s);return t&&x?u.createElement(Vh.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:oa.Pop}},x):x}function aM(){let e=fM(),t=JO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:a},r):null,null)}const iM=u.createElement(aM,null);class oM extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?u.createElement(ks.Provider,{value:this.props.routeContext},u.createElement(YN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lM(e){let{routeContext:t,match:r,children:s}=e,a=u.useContext(Hx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(ks.Provider,{value:t},s)}function cM(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Rt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:p}=r,g=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let p,g=!1,x=null,y=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||iM,c&&(d<0&&m===0?(g=!0,y=null):d===m&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),v=()=>{let b;return p?b=x:g?b=y:f.route.Component?b=u.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,u.createElement(lM,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?u.createElement(oM,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var JN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(JN||{}),Mu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mu||{});function dM(e){let t=u.useContext(Hx);return t||Rt(!1),t}function uM(e){let t=u.useContext(eM);return t||Rt(!1),t}function hM(e){let t=u.useContext(ks);return t||Rt(!1),t}function XN(e){let t=hM(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function fM(){var e;let t=u.useContext(YN),r=uM(Mu.UseRouteError),s=XN(Mu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function mM(){let{router:e}=dM(JN.UseNavigateStable),t=XN(Mu.UseNavigateStable),r=u.useRef(!1);return QN(()=>{r.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_c({fromRouteId:t},i)))},[e,t])}function pM(e){let{to:t,replace:r,state:s,relative:a}=e;Xo()||Rt(!1);let{future:i,static:o}=u.useContext(Oa),{matches:l}=u.useContext(ks),{pathname:c}=Si(),d=Ci(),h=Wx(t,qx(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(h);return u.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function St(e){Rt(!1)}function gM(e){let{basename:t="/",children:r=null,location:s,navigationType:a=oa.Pop,navigator:i,static:o=!1,future:l}=e;Xo()&&Rt(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:o,future:_c({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Jo(s));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:g="default"}=s,x=u.useMemo(()=>{let y=Vx(h,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:g},navigationType:a}},[c,h,f,m,p,g,a]);return x==null?null:u.createElement(Oa.Provider,{value:d},u.createElement(Vh.Provider,{children:r,value:x}))}function xM(e){let{children:t,location:r}=e;return nM(Bp(t),r)}new Promise(()=>{});function Bp(e,t){t===void 0&&(t=[]);let r=[];return u.Children.forEach(e,(s,a)=>{if(!u.isValidElement(s))return;let i=[...t,a];if(s.type===u.Fragment){r.push.apply(r,Bp(s.props.children,i));return}s.type!==St&&Rt(!1),!s.props.index||!s.props.children||Rt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Bp(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vp.apply(this,arguments)}function vM(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function yM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wM(e,t){return e.button===0&&(!t||t==="_self")&&!yM(e)}const bM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jM="6";try{window.__reactRouterVersion=jM}catch{}const _M="startTransition",Mw=fh[_M];function NM(e){let{basename:t,children:r,future:s,window:a}=e,i=u.useRef();i.current==null&&(i.current=TO({window:a,v5Compat:!0}));let o=i.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},h=u.useCallback(f=>{d&&Mw?Mw(()=>c(f)):c(f)},[c,d]);return u.useLayoutEffect(()=>o.listen(h),[o,h]),u.createElement(gM,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const SM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=u.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=t,m=vM(t,bM),{basename:p}=u.useContext(Oa),g,x=!1;if(typeof d=="string"&&CM.test(d)&&(g=d,SM))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=Vx(j.pathname,p);j.origin===b.origin&&N!=null?d=N+j.search+j.hash:x=!0}catch{}let y=tM(d,{relative:a}),w=EM(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:f});function v(b){s&&s(b),b.defaultPrevented||w(b)}return u.createElement("a",Vp({},m,{href:g||y,onClick:x||i?s:v,ref:r,target:c}))});var Iw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Iw||(Iw={}));var Lw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lw||(Lw={}));function EM(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ci(),d=Si(),h=ZN(e,{relative:o});return u.useCallback(f=>{if(wM(f,r)){f.preventDefault();let m=s!==void 0?s:Ou(d)===Ou(h);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,s,a,r,e,i,o,l])}const kM="modulepreload",TM=function(e){return"/"+e},$w={},el=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=TM(c),c in $w)return;$w[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":kM,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},AM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>el(async()=>{const{default:s}=await Promise.resolve().then(()=>tl);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class Kx extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class PM extends Kx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Fw extends Kx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Uw extends Kx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qp||(qp={}));var RM=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class DM{constructor(t,{headers:r={},customFetch:s,region:a=qp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=AM(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return RM(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:h}).catch(x=>{throw new PM(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Fw(f);if(!f.ok)throw new Uw(f);let p=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Uw||a instanceof Fw?a.context:void 0}}})}}var Cr={},Yx={},qh={},qc={},Wh={},Hh={},OM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zo=OM();const MM=zo.fetch,e1=zo.fetch.bind(zo),t1=zo.Headers,IM=zo.Request,LM=zo.Response,tl=Object.freeze(Object.defineProperty({__proto__:null,Headers:t1,Request:IM,Response:LM,default:e1,fetch:MM},Symbol.toStringTag,{value:"Module"})),$M=Ok(tl);var Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});let FM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gh.default=FM;var r1=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hh,"__esModule",{value:!0});const UM=r1($M),zM=r1(Gh);let BM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,h=null,f=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=w:h=JSON.parse(w))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,m=200,p="OK")}catch{i.status===404&&x===""?(m=204,p="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new zM.default(d)}return{error:d,data:h,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Hh.default=BM;var VM=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wh,"__esModule",{value:!0});const qM=VM(Hh);let WM=class extends qM.default{select(t){let r=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wh.default=WM;var HM=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qc,"__esModule",{value:!0});const GM=HM(Wh);let KM=class extends GM.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};qc.default=KM;var YM=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qh,"__esModule",{value:!0});const ml=YM(qc);let QM=class{constructor(t,{headers:r={},schema:s,fetch:a}){this.url=t,this.headers=r,this.schema=s,this.fetch=a}select(t,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new ml.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ml.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new ml.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new ml.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new ml.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qh.default=QM;var Kh={},Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.version=void 0;Yh.version="0.0.0-automated";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.DEFAULT_HEADERS=void 0;const ZM=Yh;Kh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZM.version}`};var n1=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yx,"__esModule",{value:!0});const JM=n1(qh),XM=n1(qc),eI=Kh;let tI=class s1{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},eI.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new JM.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new s1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new XM.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Yx.default=tI;var rl=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.PostgrestError=Cr.PostgrestBuilder=Cr.PostgrestTransformBuilder=Cr.PostgrestFilterBuilder=Cr.PostgrestQueryBuilder=Cr.PostgrestClient=void 0;const a1=rl(Yx);Cr.PostgrestClient=a1.default;const i1=rl(qh);Cr.PostgrestQueryBuilder=i1.default;const o1=rl(qc);Cr.PostgrestFilterBuilder=o1.default;const l1=rl(Wh);Cr.PostgrestTransformBuilder=l1.default;const c1=rl(Hh);Cr.PostgrestBuilder=c1.default;const d1=rl(Gh);Cr.PostgrestError=d1.default;var rI=Cr.default={PostgrestClient:a1.default,PostgrestQueryBuilder:i1.default,PostgrestFilterBuilder:o1.default,PostgrestTransformBuilder:l1.default,PostgrestBuilder:c1.default,PostgrestError:d1.default};const{PostgrestClient:nI,PostgrestQueryBuilder:pz,PostgrestFilterBuilder:gz,PostgrestTransformBuilder:xz,PostgrestBuilder:vz,PostgrestError:yz}=rI;class sI{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);if(s>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const a=this.dynamicRequire("undici");if(a&&a.WebSocket)return{type:"native",constructor:a.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const a=this.dynamicRequire("ws");if(a)return{type:"ws",constructor:(r=a.WebSocket)!==null&&r!==void 0?r:a};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${s} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const aI="2.15.0",iI=`realtime-js/${aI}`,oI="1.0.0",Wp=1e4,lI=1e3,cI=100;var Wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wl||(Wl={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yn||(yn={}));var Hp;(function(e){e.websocket="websocket"})(Hp||(Hp={}));var Za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Za||(Za={}));class dI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class u1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const zw=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=uI(o,e,t,a),i),{})},uI=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?h1(i,o):Gp(o)},h1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pI(t,r)}switch(e){case pt.bool:return hI(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return fI(t);case pt.json:case pt.jsonb:return mI(t);case pt.timestamp:return gI(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Gp(t);default:return Gp(t)}},Gp=e=>e,hI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>h1(t,l))}return e},gI=e=>typeof e=="string"?e.replace(" ","T"):e,f1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class sm{constructor(t,r,s={},a=Wp){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bw||(Bw={}));class Hl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Hl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Hl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const f=i[d];if(f){const m=h.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=h.filter(y=>p.indexOf(y.presence_ref)<0),x=f.filter(y=>m.indexOf(y.presence_ref)<0);g.length>0&&(l[d]=g),x.length>0&&(c[d]=x)}else l[d]=h}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(p=>p.presence_ref),m=h.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}s(l,h,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vw||(Vw={}));var Gl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gl||(Gl={}));var is;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class Qx{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sm(this,yn.join,this.params,this.timeout),this.rejoinTimer=new u1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Hl(this),this.broadcastEndpointURL=f1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Gl.PRESENCE]&&this.bindings[Gl.PRESENCE].length>0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(is.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(is.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(is.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,y=[];for(let w=0;w<x;w++){const v=g[w],{filter:{event:b,schema:j,table:N,filter:C}}=v,_=m&&m[w];if(_&&_.event===b&&_.schema===j&&_.table===N&&_.filter===C)y.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=Lt.errored,t==null||t(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(is.SUBSCRIBED);return}}).receive("error",m=>{this.state=Lt.errored,t==null||t(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===Lt.joined&&t===Gl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new sm(this,yn.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new sm(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=yn;if(s&&[l,c,d,h].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,x,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(x=p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,x,y,w,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,N=(g=p.filter)===null||g===void 0?void 0:g.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:x,table:y,commit_timestamp:w,type:v,errors:b}=g;m=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(m,s)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Qx.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yn.close,{},t)}_onError(t){this._on(yn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zw(t.columns,t.old_record)),r}}const qw=()=>{},Sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xI=[1e3,2e3,5e3,1e4],vI=1e4,yI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wI{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wp,this.transport=null,this.heartbeatIntervalMs=Sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qw,this.ref=0,this.reconnectTimer=null,this.logger=qw,this.conn=null,this.sendBuffer=[],this.serializer=new dI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>el(async()=>{const{default:l}=await Promise.resolve().then(()=>tl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Hp.websocket}`,this.httpEndpoint=f1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sI.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Wl.connecting:return Za.Connecting;case Wl.open:return Za.Open;case Wl.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Qx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([yI],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:iI};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new u1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:Wp,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Sd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>xI[h-1]||vI,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bI extends Zx{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kp extends Zx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jI=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const m1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>el(async()=>{const{default:s}=await Promise.resolve().then(()=>tl);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},_I=()=>jI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield el(()=>Promise.resolve().then(()=>tl),void 0)).Response:Response}),Yp=e=>{if(Array.isArray(e))return e.map(r=>Yp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Yp(s)}),t},NI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ei=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const am=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SI=(e,t,r)=>Ei(void 0,void 0,void 0,function*(){const s=yield _I();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new bI(am(a),i,o))}).catch(a=>{t(new Kp(am(a),a))}):t(new Kp(am(e),e))}),CI=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(NI(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),r))};function Wc(e,t,r,s,a,i){return Ei(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,CI(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>SI(c,l,s))})})}function Iu(e,t,r,s){return Ei(this,void 0,void 0,function*(){return Wc(e,"GET",t,r,s)})}function os(e,t,r,s,a){return Ei(this,void 0,void 0,function*(){return Wc(e,"POST",t,s,a,r)})}function Qp(e,t,r,s,a){return Ei(this,void 0,void 0,function*(){return Wc(e,"PUT",t,s,a,r)})}function EI(e,t,r,s){return Ei(this,void 0,void 0,function*(){return Wc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function p1(e,t,r,s,a){return Ei(this,void 0,void 0,function*(){return Wc(e,"DELETE",t,s,a,r)})}var jr=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const kI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ww={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TI{constructor(t,r={},s,a){this.url=t,this.headers=r,this.bucketId=s,this.fetch=m1(a)}uploadOrUpdate(t,r,s,a){return jr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ww),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),f=yield(t=="PUT"?Qp:os)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}upload(t,r,s){return jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return jr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Ww.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const f=yield Qp(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(Bt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return jr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield os(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}update(t,r,s){return jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return jr(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}copy(t,r,s){return jr(this,void 0,void 0,function*(){try{return{data:{path:(yield os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return jr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield os(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return jr(this,void 0,void 0,function*(){try{const a=yield os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}download(t,r){return jr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Iu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Bt(l))return{data:null,error:l};throw l}})}info(t){return jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Iu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yp(s),error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}exists(t){return jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield EI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Bt(s)&&s instanceof Kp){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return jr(this,void 0,void 0,function*(){try{return{data:yield p1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}list(t,r,s){return jr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},kI),r),{prefix:t||""});return{data:yield os(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Bt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const AI="2.10.4",PI={"X-Client-Info":`storage-js/${AI}`};var Oi=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class RI{constructor(t,r={},s,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},PI),r),this.fetch=m1(s)}listBuckets(){return Oi(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}getBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Oi(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Oi(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Oi(this,void 0,void 0,function*(){try{return{data:yield p1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}}class DI extends RI{constructor(t,r={},s,a){super(t,r,s,a)}from(t){return new TI(this.url,this.headers,t,this.fetch)}}const OI="2.54.0";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const MI={"X-Client-Info":`supabase-js-${bl}/${OI}`},II={headers:MI},LI={schema:"public"},$I={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FI={};var UI=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const zI=e=>{let t;return e?t=e:typeof fetch>"u"?t=e1:t=fetch,(...r)=>t(...r)},BI=()=>typeof Headers>"u"?t1:Headers,VI=(e,t,r)=>{const s=zI(r),a=BI();return(i,o)=>UI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var qI=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function WI(e){return e.endsWith("/")?e:e+"/"}function HI(e,t){var r,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:h,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>qI(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const g1="2.71.1",Gi=30*1e3,Zp=3,im=Zp*Gi,GI="http://localhost:9999",KI="supabase.auth.token",YI={"X-Client-Info":`gotrue-js/${g1}`},Jp="X-Supabase-Api-Version",x1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZI=10*60*1e3;class Jx extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JI extends Jx{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function XI(e){return Fe(e)&&e.name==="AuthApiError"}class v1 extends Jx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ma extends Jx{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class Fs extends Ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e3(e){return Fe(e)&&e.name==="AuthSessionMissingError"}class Cd extends Ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ed extends Ma{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kd extends Ma{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t3(e){return Fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hw extends Ma{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xp extends Ma{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function om(e){return Fe(e)&&e.name==="AuthRetryableFetchError"}class Gw extends Ma{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class eg extends Ma{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kw=` 	
\r=`.split(""),r3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kw.length;t+=1)e[Kw[t].charCodeAt(0)]=-2;for(let t=0;t<Lu.length;t+=1)e[Lu[t].charCodeAt(0)]=t;return e})();function Yw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Lu[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Lu[s]),t.queuedBits-=6}}function y1(e,t,r){const s=r3[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{a3(o,s,r)};for(let o=0;o<e.length;o+=1)y1(e.charCodeAt(o),a,i);return t.join("")}function n3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function s3(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}n3(s,t)}}function a3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function i3(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)y1(e.charCodeAt(a),r,s);return new Uint8Array(t)}function o3(e){const t=[];return s3(e,r=>t.push(r)),new Uint8Array(t)}function l3(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>Yw(a,r,s)),Yw(null,r,s),t.join("")}function c3(e){return Math.round(Date.now()/1e3)+e}function d3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fn=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},w1=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function u3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const b1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>el(async()=>{const{default:s}=await Promise.resolve().then(()=>tl);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},h3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ki=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ls=async(e,t)=>{await e.removeItem(t)};class Qh{constructor(){this.promise=new Qh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Qh.promiseConstructor=Promise;function lm(e){const t=e.split(".");if(t.length!==3)throw new eg("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!QI.test(t[s]))throw new eg("JWT not in base64url format");return{header:JSON.parse(Qw(t[0])),payload:JSON.parse(Qw(t[1])),signature:i3(t[2]),raw:{header:t[0],payload:t[1]}}}async function f3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function m3(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function p3(e){return("0"+e.toString(16)).substr(-2)}function g3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,p3).join("")}async function x3(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function v3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await x3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mi(e,t,r=!1){const s=g3();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Ki(e,`${t}-code-verifier`,a);const i=await v3(s);return[i,s===i?"plain":"s256"]}const y3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function w3(e){const t=e.headers.get(Jp);if(!t||!t.match(y3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function b3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function j3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ii(e){if(!_3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zw(e){return JSON.parse(JSON.stringify(e))}var N3=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};const Ya=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),S3=[502,503,504];async function Jw(e){var t;if(!h3(e))throw new Xp(Ya(e),0);if(S3.includes(e.status))throw new Xp(Ya(e),e.status);let r;try{r=await e.json()}catch(i){throw new v1(Ya(i),i)}let s;const a=w3(e);if(a&&a.getTime()>=x1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Gw(Ya(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Fs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Gw(Ya(r),e.status,r.weak_password.reasons);throw new JI(Ya(r),e.status||500,s)}const C3=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function qe(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[Jp]||(i[Jp]=x1["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await E3(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function E3(e,t,r,s,a,i){const o=C3(t,s,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Xp(Ya(c),0)}if(l.ok||await Jw(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Jw(c)}}function ns(e){var t;let r=null;P3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=c3(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Xw(e){const t=ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function k3(e){return{data:e,error:null}}function T3(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=N3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function A3(e){return e}function P3(e){return e.access_token&&e.refresh_token&&e.expires_in}const dm=["global","local","others"];var R3=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};class D3{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=b1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=dm[0]){if(dm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dm.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=R3(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:T3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qs})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:A3});if(h.error)throw h.error;const f=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);d[`${y}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Fe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ii(t);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qs})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ii(t);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Ii(t);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ii(t.userId);try{const{data:r,error:s}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ii(t.userId),Ii(t.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}function e0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function O3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Li={debug:!!(globalThis&&w1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class M3 extends j1{}async function I3(e,t,r){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new M3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Li.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}O3();const L3={url:GI,storageKey:KI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t0(e,t,r){return await r()}const $i={};class Nc{constructor(t){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nc.nextInstanceID,Nc.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},L3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new D3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=b1(a.fetch),this.lock=a.lock||t0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:fn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=I3:this.lock=t0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:w1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=e0(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=$i[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$i[this.storageKey]=Object.assign(Object.assign({},$i[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$i[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$i[this.storageKey]=Object.assign(Object.assign({},$i[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${g1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=u3(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),fn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),t3(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Fe(r)?{error:r}:{error:new v1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ns}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:h,password:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Mi(this.storage,this.storageKey)),i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},xform:ns})}else if("phone"in t){const{phone:h,password:f,options:m}=t;i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ns})}else throw new Ed("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xw})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xw})}else throw new Ed("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Cd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,s,a,i,o,l,c,d,h,f,m,p;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:y,wallet:w,statement:v,options:b}=t;let j;if(fn())if(typeof w=="object")j=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))j=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const C=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let _;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")_=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)_=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(h=b==null?void 0:b.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const C=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:y,error:w}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:l3(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ns});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Cd}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(Fe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:ns});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Fe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ns}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Mi(this.storage,this.storageKey));const{error:f}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Ed("You must provide either an email or phone number.")}catch(l){if(Fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ns});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Mi(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:k3})}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Fs;const{error:a}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ed("You must provide either an email or phone number and a type")}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<im:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Wa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=cm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qs}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fs}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Qs})})}catch(r){if(Fe(r))return e3(r)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Fs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mi(this.storage,this.storageKey));const{data:d,error:h}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qs});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fs;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=lm(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Fs;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!fn())throw new kd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hw("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new kd("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let m=h+f;c&&(m=parseInt(c));const p=m-h;p*1e3<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=m-f;h-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,h):h-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,h);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(s){if(Fe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(XI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=d3(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Mi(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,h;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return fn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Fe(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await m3(async a=>(a>0&&await f3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ns})),(a,i)=>{const o=200*Math.pow(2,a);return i&&om(i)&&Date.now()+o-s<Gi})}catch(s){if(this._debug(r,"error",s),Fe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),fn()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Wa(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Ki(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:cm()}else if(a&&!a.user&&!a.user){const o=await Wa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ls(this.storage,this.storageKey+"-user"),await Ki(this.storage,this.storageKey,a)):a.user=cm()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<im;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${im}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),om(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Qh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Fs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Fe(i)){const o={session:null,error:i};return om(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ki(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Zw(a);await Ki(this.storage,this.storageKey,i)}else{const a=Zw(r);await Ki(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ls(this.storage,this.storageKey),await Ls(this.storage,this.storageKey+"-code-verifier"),await Ls(this.storage,this.storageKey+"-user"),this.userStorage&&await Ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Gi}ms, refresh threshold is ${Zp} ticks`),a<=Zp&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=lm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+ZI>a)return s;const{data:i,error:o}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};s=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=lm(s);r!=null&&r.allowExpired||b3(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const h=j3(a.alg),f=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,o3(`${l}.${c}`)))throw new eg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}}Nc.nextInstanceID=0;const $3=Nc;class F3 extends $3{constructor(t){super(t)}}var U3=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class z3{constructor(t,r,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=WI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:LI,realtime:FI,auth:Object.assign(Object.assign({},$I),{storageKey:d}),global:II},f=HI(s??{},h);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=VI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new nI(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new DI(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new DM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return U3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F3({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new wI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const B3=(e,t,r)=>new z3(e,t,r);function V3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}V3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q3="https://vicodmtuupfklbxlriod.supabase.co",W3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpY29kbXR1dXBma2xieGxyaW9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NjU4MDMsImV4cCI6MjA3MDU0MTgwM30.ZYpheNCF2P6H2dY-mJdN9_5oQ3-uEH7TFoBbKvpY8fs",U=B3(q3,W3,{auth:{persistSession:!1,autoRefreshToken:!1}}),um="bracu_session";class H3{constructor(){wf(this,"currentUser",null);wf(this,"sessionToken",null);this.loadFromStorage()}loadFromStorage(){try{console.log("AuthService - Loading session from storage...");const t=localStorage.getItem(um);if(console.log("AuthService - Stored session data:",t?"Found":"Not found"),t){const r=JSON.parse(t);console.log("AuthService - Parsed session data:",r),console.log("AuthService - Loading user from storage"),this.currentUser=r.user,this.sessionToken=r.session_token}else console.log("AuthService - No stored session found")}catch(t){console.error("Error loading session from storage:",t),this.clearSession()}}saveToStorage(t){try{localStorage.setItem(um,JSON.stringify(t))}catch(r){console.error("Error saving session to storage:",r)}}clearSession(){localStorage.removeItem(um),this.currentUser=null,this.sessionToken=null,this.clearCurrentUserContext()}async setCurrentUserContext(t){try{await U.rpc("set_session_context",{user_id:t})}catch(r){console.error("Error setting user context:",r)}}async clearCurrentUserContext(){try{await U.rpc("clear_session_context")}catch(t){console.error("Error clearing user context:",t)}}getCurrentUser(){return this.currentUser}isAuthenticated(){return this.currentUser!==null&&this.sessionToken!==null}async signup(t){try{const r=t.role==="university-staff"||t.role==="faculty"?"faculty":"student",{data:s,error:a}=await U.rpc("create_user",{user_email:t.email,user_password:t.password,user_full_name:`${t.firstName} ${t.lastName}`,user_department:t.department,user_student_id:t.studentId||null,user_employee_id:t.employeeId||null,user_role:r});return a?(console.error("Signup error:",a),{success:!1,error:a.message}):s!=null&&s.success?{success:!0}:{success:!1,error:(s==null?void 0:s.error)||"Failed to create account"}}catch(r){return console.error("Signup error:",r),{success:!1,error:"An unexpected error occurred"}}}async signin(t,r){console.log("AuthService - Attempting signin for:",t);try{const{data:s,error:a}=await U.rpc("authenticate_user",{user_email:t,user_password:r});if(console.log("AuthService - Signin RPC response:",{data:s,error:a}),s!=null&&s.success&&(s!=null&&s.user)){console.log("AuthService - Signin successful, user data:",s.user);let i=s.user;try{const{data:o,error:l}=await U.from("users").select("club_admin").eq("id",i.id).single();!l&&o&&(i={...i,club_admin:o.club_admin},console.log("AuthService - Fetched club_admin:",o.club_admin))}catch(o){console.warn("Could not fetch additional user data:",o)}if(this.currentUser=i,s.session_token){this.sessionToken=s.session_token;const o={user:i,session_token:s.session_token,expires_at:s.expires_at||new Date(Date.now()+7*24*60*60*1e3).toISOString()};this.saveToStorage(o)}return console.log("AuthService - Complete user data stored with club_admin:",i.club_admin),{success:!0,user:i,session_token:s.session_token,expires_at:s.expires_at}}}catch{console.warn("AuthService - Database authentication failed, using fallback")}if(t==="test@test.com"&&r==="password"){const s={id:"test-user-id",email:"test@test.com",full_name:"Test User",department:"Computer Science",student_id:"20101234",role:"student",user_status:"active",is_active:!0,email_verified:!0};this.currentUser=s,this.sessionToken="test-session-token";const a={user:s,session_token:"test-session-token",expires_at:new Date(Date.now()+7*24*60*60*1e3).toISOString()};return this.saveToStorage(a),console.log("AuthService - Test user created and stored"),{success:!0,user:s,session_token:"test-session-token",expires_at:a.expires_at}}return console.log("AuthService - Signin failed"),{success:!1,error:"Invalid credentials"}}async signout(){try{this.sessionToken&&await U.rpc("logout_user",{token:this.sessionToken})}catch(t){console.error("Signout error:",t)}finally{this.clearSession()}}async validateSession(){return console.log("AuthService - Simple validation, user exists:",!!this.currentUser),!!this.currentUser}hasRole(t){var r;return((r=this.currentUser)==null?void 0:r.role)===t}isAdmin(){return this.hasRole("admin")}isFaculty(){return this.hasRole("faculty")}isStudent(){return this.hasRole("student")}async refreshUserData(){if(this.currentUser)try{const{data:t,error:r}=await U.from("users").select("club_admin, role, user_status, is_active").eq("id",this.currentUser.id).single();if(!r&&t){if(this.currentUser={...this.currentUser,club_admin:t.club_admin,role:t.role,user_status:t.user_status,is_active:t.is_active},this.sessionToken){const s={user:this.currentUser,session_token:this.sessionToken,expires_at:new Date(Date.now()+6048e5).toISOString()};this.saveToStorage(s)}console.log("AuthService - User data refreshed, club_admin:",this.currentUser.club_admin)}}catch(t){console.error("Error refreshing user data:",t)}}}const Fi=new H3,_1=u.createContext(void 0),Ye=()=>{const e=u.useContext(_1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},G3=({children:e})=>{const[t,r]=u.useState(null),[s,a]=u.useState(!0);u.useEffect(()=>{console.log("AuthContext - Initializing auth...");const h=Fi.getCurrentUser();console.log("AuthContext - Current user from service:",h),r(h),a(!1)},[]);const d={user:t,isAuthenticated:!!t,loading:s,login:async(h,f)=>{console.log("AuthContext - Attempting login for:",h);const m=await Fi.signin(h,f);return console.log("AuthContext - Login response:",m),m.success&&m.user?(console.log("AuthContext - Login successful, setting user:",m.user),r(m.user),{}):(console.log("AuthContext - Login failed:",m.error),{error:{message:m.error||"Login failed"}})},signup:async h=>{try{const f=await Fi.signup(h);return f.success?{}:{error:{message:f.error||"Signup failed"}}}catch{return{error:{message:"An unexpected error occurred"}}}},logout:async()=>{try{await Fi.signout(),r(null)}catch(h){console.error("Logout error:",h),r(null)}},refreshUser:async()=>{try{await Fi.refreshUserData();const h=Fi.getCurrentUser();r(h),console.log("AuthContext - User data refreshed:",h)}catch(h){console.error("Error refreshing user:",h)}}};return n.jsx(_1.Provider,{value:d,children:e})},nr=({children:e,requireAuth:t=!0})=>{const{isAuthenticated:r,loading:s}=Ye(),a=Si();return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t&&!r?n.jsx(pM,{to:"/signin",state:{from:a},replace:!0}):n.jsx(n.Fragment,{children:e})},Xx=Rh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-hero text-primary-foreground hover:shadow-lg hover:scale-105 border-0",accent:"bg-gradient-accent text-accent-foreground hover:shadow-lg hover:scale-105 border-0",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=u.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?ja:"button";return n.jsx(o,{className:je(Xx({variant:t,size:r,className:e})),ref:i,...a})});z.displayName="Button";var ev="Avatar",[K3,wz]=Yn(ev),[Y3,N1]=K3(ev),S1=u.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=u.useState("idle");return n.jsx(Y3,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(Te.span,{...s,ref:t})})});S1.displayName=ev;var C1="AvatarImage",E1=u.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=N1(C1,r),l=Q3(s,i.referrerPolicy),c=At(d=>{a(d),o.onImageLoadingStatusChange(d)});return zt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(Te.img,{...i,ref:t,src:s}):null});E1.displayName=C1;var k1="AvatarFallback",T1=u.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=N1(k1,r),[o,l]=u.useState(s===void 0);return u.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(Te.span,{...a,ref:t}):null});T1.displayName=k1;function Q3(e,t){const[r,s]=u.useState("idle");return zt(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var A1=S1,P1=E1,R1=T1;const rn=u.forwardRef(({className:e,...t},r)=>n.jsx(A1,{ref:r,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));rn.displayName=A1.displayName;const qn=u.forwardRef(({className:e,...t},r)=>n.jsx(P1,{ref:r,className:je("aspect-square h-full w-full",e),...t}));qn.displayName=P1.displayName;const nn=u.forwardRef(({className:e,...t},r)=>n.jsx(R1,{ref:r,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));nn.displayName=R1.displayName;function Qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function r0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Zh(...e){return t=>{let r=!1;const s=e.map(a=>{const i=r0(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():r0(e[a],null)}}}}function Rr(...e){return u.useCallback(Zh(...e),e)}function Hc(e,t=[]){let r=[];function s(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=f=>{var w;const{scope:m,children:p,...g}=f,x=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=u.useMemo(()=>g,Object.values(g));return n.jsx(x.Provider,{value:y,children:p})};d.displayName=i+"Provider";function h(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,g=u.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Z3(a,...t)]}function Z3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ka=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},J3=fh[" useInsertionEffect ".trim().toString()]||ka;function D1({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=X3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const h=u.useRef(e!==void 0);u.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const d=u.useCallback(h=>{var f;if(l){const m=eL(h)?h(e):h;m!==e&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,e,i,o]);return[c,d]}function X3({defaultProp:e,onChange:t}){const[r,s]=u.useState(e),a=u.useRef(r),i=u.useRef(t);return J3(()=>{i.current=t},[t]),u.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function eL(e){return typeof e=="function"}function $u(e){const t=tL(e),r=u.forwardRef((s,a)=>{const{children:i,...o}=s,l=u.Children.toArray(i),c=l.find(nL);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function tL(e){const t=u.forwardRef((r,s)=>{const{children:a,...i}=r;if(u.isValidElement(a)){const o=aL(a),l=sL(i,a.props);return a.type!==u.Fragment&&(l.ref=s?Zh(s,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rL=Symbol("radix.slottable");function nL(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rL}function sL(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function aL(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yr=iL.reduce((e,t)=>{const r=$u(`Primitive.${t}`),s=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function O1(e,t){e&&Da.flushSync(()=>e.dispatchEvent(t))}function M1(e){const t=e+"CollectionProvider",[r,s]=Hc(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:w}=x,v=X.useRef(null),b=X.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:b,collectionRef:v,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=$u(l),d=X.forwardRef((x,y)=>{const{scope:w,children:v}=x,b=i(l,w),j=Rr(y,b.collectionRef);return n.jsx(c,{ref:j,children:v})});d.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=$u(h),p=X.forwardRef((x,y)=>{const{scope:w,children:v,...b}=x,j=X.useRef(null),N=Rr(y,j),C=i(h,w);return X.useEffect(()=>(C.itemMap.set(j,{ref:j,...b}),()=>void C.itemMap.delete(j))),n.jsx(m,{[f]:"",ref:N,children:v})});p.displayName=h;function g(x){const y=i(e+"CollectionConsumer",x);return X.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,_)=>b.indexOf(C.ref.current)-b.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,s]}var oL=u.createContext(void 0);function I1(e){const t=u.useContext(oL);return e||t||"ltr"}function Ns(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function lL(e,t=globalThis==null?void 0:globalThis.document){const r=Ns(e);u.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var cL="DismissableLayer",tg="dismissableLayer.update",dL="dismissableLayer.pointerDownOutside",uL="dismissableLayer.focusOutside",n0,L1=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$1=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(L1),[h,f]=u.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),g=Rr(t,_=>f(_)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),v=h?x.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=w,N=mL(_=>{const k=_.target,E=[...d.branches].some(M=>M.contains(k));!j||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),C=pL(_=>{const k=_.target;[...d.branches].some(M=>M.contains(k))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return lL(_=>{v===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),u.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(n0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),s0(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=n0)}},[h,m,r,d]),u.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),s0())},[h,d]),u.useEffect(()=>{const _=()=>p({});return document.addEventListener(tg,_),()=>document.removeEventListener(tg,_)},[]),n.jsx(yr.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,N.onPointerDownCapture)})});$1.displayName=cL;var hL="DismissableLayerBranch",fL=u.forwardRef((e,t)=>{const r=u.useContext(L1),s=u.useRef(null),a=Rr(t,s);return u.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(yr.div,{...e,ref:a})});fL.displayName=hL;function mL(e,t=globalThis==null?void 0:globalThis.document){const r=Ns(e),s=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){F1(dL,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function pL(e,t=globalThis==null?void 0:globalThis.document){const r=Ns(e),s=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!s.current&&F1(uL,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function s0(){const e=new CustomEvent(tg);document.dispatchEvent(e)}function F1(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?O1(a,i):a.dispatchEvent(i)}var hm=0;function gL(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a0()),document.body.insertAdjacentElement("beforeend",e[1]??a0()),hm++,()=>{hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hm--}},[])}function a0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fm="focusScope.autoFocusOnMount",mm="focusScope.autoFocusOnUnmount",i0={bubbles:!1,cancelable:!0},xL="FocusScope",U1=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=Ns(a),h=Ns(i),f=u.useRef(null),m=Rr(t,x=>c(x)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let x=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Us(f.current,{select:!0})},y=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Us(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Us(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),v.disconnect()}}},[s,l,p.paused]),u.useEffect(()=>{if(l){l0.add(p);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(fm,i0);l.addEventListener(fm,d),l.dispatchEvent(w),w.defaultPrevented||(vL(_L(z1(l)),{select:!0}),document.activeElement===x&&Us(l))}return()=>{l.removeEventListener(fm,d),setTimeout(()=>{const w=new CustomEvent(mm,i0);l.addEventListener(mm,h),l.dispatchEvent(w),w.defaultPrevented||Us(x??document.body,{select:!0}),l.removeEventListener(mm,h),l0.remove(p)},0)}}},[l,d,h,p]);const g=u.useCallback(x=>{if(!r&&!s||p.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const v=x.currentTarget,[b,j]=yL(v);b&&j?!x.shiftKey&&w===j?(x.preventDefault(),r&&Us(b,{select:!0})):x.shiftKey&&w===b&&(x.preventDefault(),r&&Us(j,{select:!0})):w===v&&x.preventDefault()}},[r,s,p.paused]);return n.jsx(yr.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});U1.displayName=xL;function vL(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Us(s,{select:t}),document.activeElement!==r)return}function yL(e){const t=z1(e),r=o0(t,e),s=o0(t.reverse(),e);return[r,s]}function z1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function o0(e,t){for(const r of e)if(!wL(r,{upTo:t}))return r}function wL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bL(e){return e instanceof HTMLInputElement&&"select"in e}function Us(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&bL(e)&&t&&e.select()}}var l0=jL();function jL(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=c0(e,t),e.unshift(t)},remove(t){var r;e=c0(e,t),(r=e[0])==null||r.resume()}}}function c0(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function _L(e){return e.filter(t=>t.tagName!=="A")}var NL=fh[" useId ".trim().toString()]||(()=>{}),SL=0;function rg(e){const[t,r]=u.useState(NL());return ka(()=>{r(s=>s??String(SL++))},[e]),t?`radix-${t}`:""}var CL="Arrow",B1=u.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(yr.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});B1.displayName=CL;var EL=B1;function kL(e){const[t,r]=u.useState(void 0);return ka(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var tv="Popper",[V1,q1]=Hc(tv),[TL,W1]=V1(tv),H1=e=>{const{__scopePopper:t,children:r}=e,[s,a]=u.useState(null);return n.jsx(TL,{scope:t,anchor:s,onAnchorChange:a,children:r})};H1.displayName=tv;var G1="PopperAnchor",K1=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=W1(G1,r),o=u.useRef(null),l=Rr(t,o);return u.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(yr.div,{...a,ref:l})});K1.displayName=G1;var rv="PopperContent",[AL,PL]=V1(rv),Y1=u.forwardRef((e,t)=>{var K,ce,ve,_e,V,ne;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,y=W1(rv,r),[w,v]=u.useState(null),b=Rr(t,Ce=>v(Ce)),[j,N]=u.useState(null),C=kL(j),_=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,E=s+(i!=="center"?"-"+i:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},H=Array.isArray(d)?d:[d],A=H.length>0,P={padding:M,boundary:H.filter(DL),altBoundary:A},{refs:T,floatingStyles:R,placement:F,isPositioned:D,middlewareData:O}=cN({strategy:"fixed",placement:E,whileElementsMounted:(...Ce)=>oN(...Ce,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[dN({mainAxis:a+k,alignmentAxis:o}),c&&uN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hN():void 0,...P}),c&&fN({...P}),mN({...P,apply:({elements:Ce,rects:Se,availableWidth:xt,availableHeight:Ot})=>{const{width:Wt,height:$}=Se.reference,W=Ce.floating.style;W.setProperty("--radix-popper-available-width",`${xt}px`),W.setProperty("--radix-popper-available-height",`${Ot}px`),W.setProperty("--radix-popper-anchor-width",`${Wt}px`),W.setProperty("--radix-popper-anchor-height",`${$}px`)}}),j&&gN({element:j,padding:l}),OL({arrowWidth:_,arrowHeight:k}),m&&pN({strategy:"referenceHidden",...P})]}),[L,Y]=J1(F),B=Ns(g);ka(()=>{D&&(B==null||B())},[D,B]);const Q=(K=O.arrow)==null?void 0:K.x,ue=(ce=O.arrow)==null?void 0:ce.y,pe=((ve=O.arrow)==null?void 0:ve.centerOffset)!==0,[Oe,I]=u.useState();return ka(()=>{w&&I(window.getComputedStyle(w).zIndex)},[w]),n.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:D?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(_e=O.transformOrigin)==null?void 0:_e.x,(V=O.transformOrigin)==null?void 0:V.y].join(" "),...((ne=O.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(AL,{scope:r,placedSide:L,onArrowChange:N,arrowX:Q,arrowY:ue,shouldHideArrow:pe,children:n.jsx(yr.div,{"data-side":L,"data-align":Y,...x,ref:b,style:{...x.style,animation:D?void 0:"none"}})})})});Y1.displayName=rv;var Q1="PopperArrow",RL={top:"bottom",right:"left",bottom:"top",left:"right"},Z1=u.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=PL(Q1,s),o=RL[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(EL,{...a,ref:r,style:{...a.style,display:"block"}})})});Z1.displayName=Q1;function DL(e){return e!==null}var OL=e=>({name:"transformOrigin",options:e,fn(t){var y,w,v;const{placement:r,rects:s,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=J1(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=o?f:`${m}px`,x=`${-c}px`):d==="top"?(g=o?f:`${m}px`,x=`${s.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=o?f:`${p}px`):d==="left"&&(g=`${s.floating.width+c}px`,x=o?f:`${p}px`),{data:{x:g,y:x}}}});function J1(e){const[t,r="center"]=e.split("-");return[t,r]}var ML=H1,IL=K1,LL=Y1,$L=Z1,FL="Portal",X1=u.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=u.useState(!1);ka(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yx.createPortal(n.jsx(yr.div,{...s,ref:t}),o):null});X1.displayName=FL;function UL(e,t){return u.useReducer((r,s)=>t[r][s]??r,e)}var Gc=e=>{const{present:t,children:r}=e,s=zL(t),a=typeof r=="function"?r({present:s.isPresent}):u.Children.only(r),i=Rr(s.ref,BL(a));return typeof r=="function"||s.isPresent?u.cloneElement(a,{ref:i}):null};Gc.displayName="Presence";function zL(e){const[t,r]=u.useState(),s=u.useRef(null),a=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=UL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Td(s.current);i.current=l==="mounted"?d:"none"},[l]),ka(()=>{const d=s.current,h=a.current;if(h!==e){const m=i.current,p=Td(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ka(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,f=p=>{const x=Td(s.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(i.current=Td(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function Td(e){return(e==null?void 0:e.animationName)||"none"}function BL(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pm="rovingFocusGroup.onEntryFocus",VL={bubbles:!1,cancelable:!0},Kc="RovingFocusGroup",[ng,eS,qL]=M1(Kc),[WL,tS]=Hc(Kc,[qL]),[HL,GL]=WL(Kc),rS=u.forwardRef((e,t)=>n.jsx(ng.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(ng.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(KL,{...e,ref:t})})}));rS.displayName=Kc;var KL=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=e,m=u.useRef(null),p=Rr(t,m),g=I1(i),[x,y]=D1({prop:o,defaultProp:l??null,onChange:c,caller:Kc}),[w,v]=u.useState(!1),b=Ns(d),j=eS(r),N=u.useRef(!1),[C,_]=u.useState(0);return u.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(pm,b),()=>k.removeEventListener(pm,b)},[b]),n.jsx(HL,{scope:r,orientation:s,dir:g,loop:a,currentTabStopId:x,onItemFocus:u.useCallback(k=>y(k),[y]),onItemShiftTab:u.useCallback(()=>v(!0),[]),onFocusableItemAdd:u.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:u.useCallback(()=>_(k=>k-1),[]),children:n.jsx(yr.div,{tabIndex:w||C===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{N.current=!0}),onFocus:Qe(e.onFocus,k=>{const E=!N.current;if(k.target===k.currentTarget&&E&&!w){const M=new CustomEvent(pm,VL);if(k.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=j().filter(F=>F.focusable),A=H.find(F=>F.active),P=H.find(F=>F.id===x),R=[A,P,...H].filter(Boolean).map(F=>F.ref.current);aS(R,h)}}N.current=!1}),onBlur:Qe(e.onBlur,()=>v(!1))})})}),nS="RovingFocusGroupItem",sS=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=rg(),d=i||c,h=GL(nS,r),f=h.currentTabStopId===d,m=eS(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:x}=h;return u.useEffect(()=>{if(s)return p(),()=>g()},[s,p,g]),n.jsx(ng.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(yr.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Qe(e.onMouseDown,y=>{s?h.onItemFocus(d):y.preventDefault()}),onFocus:Qe(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:Qe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=ZL(y,h.orientation,h.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=h.loop?JL(b,j+1):b.slice(j+1)}setTimeout(()=>aS(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});sS.displayName=nS;var YL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZL(e,t,r){const s=QL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return YL[s]}function aS(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function JL(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var XL=rS,e$=sS,t$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ui=new WeakMap,Ad=new WeakMap,Pd={},gm=0,iS=function(e){return e&&(e.host||iS(e.parentNode))},r$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=iS(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},n$=function(e,t,r,s){var a=r$(t,Array.isArray(e)?e:[e]);Pd[r]||(Pd[r]=new WeakMap);var i=Pd[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(s),g=p!==null&&p!=="false",x=(Ui.get(m)||0)+1,y=(i.get(m)||0)+1;Ui.set(m,x),i.set(m,y),o.push(m),x===1&&g&&Ad.set(m,!0),y===1&&m.setAttribute(r,"true"),g||m.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(t),l.clear(),gm++,function(){o.forEach(function(f){var m=Ui.get(f)-1,p=i.get(f)-1;Ui.set(f,m),i.set(f,p),m||(Ad.has(f)||f.removeAttribute(s),Ad.delete(f)),p||f.removeAttribute(r)}),gm--,gm||(Ui=new WeakMap,Ui=new WeakMap,Ad=new WeakMap,Pd={})}},nv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t$(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),n$(s,a,r,"aria-hidden")):function(){return null}},ir=function(){return ir=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ir.apply(this,arguments)};function sv(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function bz(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(f){o(f)}}function c(h){try{d(s.throw(h))}catch(f){o(f)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})}function jz(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return c([d,h])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(h){d=[6,h],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function oS(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Kl="right-scroll-bar-position",Yl="width-before-scroll-bar",s$="with-scroll-bars-hidden",a$="--removed-body-scroll-bar-size";function xm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function i$(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var o$=typeof window<"u"?u.useLayoutEffect:u.useEffect,d0=new WeakMap;function lS(e,t){var r=i$(null,function(s){return e.forEach(function(a){return xm(a,s)})});return o$(function(){var s=d0.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||xm(l,null)}),i.forEach(function(l){a.has(l)||xm(l,o)})}d0.set(r,e)},[e]),r}function l$(e){return e}function c$(e,t){t===void 0&&(t=l$);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),r}}}};return a}function cS(e){e===void 0&&(e={});var t=c$(null);return t.options=ir({async:!0,ssr:!1},e),t}var dS=function(e){var t=e.sideCar,r=sv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return u.createElement(s,ir({},r))};dS.isSideCarExport=!0;function uS(e,t){return e.useMedium(t),dS}var hS=cS(),vm=function(){},Jh=u.forwardRef(function(e,t){var r=u.useRef(null),s=u.useState({onScrollCapture:vm,onWheelCapture:vm,onTouchMoveCapture:vm}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,b=e.gapMode,j=sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=lS([r,t]),_=ir(ir({},j),a);return u.createElement(u.Fragment,null,h&&u.createElement(N,{sideCar:hS,removeScrollBar:d,shards:f,noRelative:p,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:b}),o?u.cloneElement(u.Children.only(l),ir(ir({},_),{ref:C})):u.createElement(v,ir({},_,{className:c,ref:C}),l))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:Yl,zeroRight:Kl};var d$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=d$();return t&&e.setAttribute("nonce",t),e}function h$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function f$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var m$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=u$())&&(h$(t,r),f$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},p$=function(){var e=m$();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},av=function(){var e=p$(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},g$={left:0,top:0,right:0,gap:0},ym=function(e){return parseInt(e||"",10)||0},x$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ym(r),ym(s),ym(a)]},v$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return g$;var t=x$(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},y$=av(),vo="data-scroll-locked",w$=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(s$,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(vo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kl,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Yl,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(vo,`] {
    `).concat(a$,": ").concat(l,`px;
  }
`)},u0=function(){var e=parseInt(document.body.getAttribute(vo)||"0",10);return isFinite(e)?e:0},b$=function(){u.useEffect(function(){return document.body.setAttribute(vo,(u0()+1).toString()),function(){var e=u0()-1;e<=0?document.body.removeAttribute(vo):document.body.setAttribute(vo,e.toString())}},[])},fS=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;b$();var i=u.useMemo(function(){return v$(a)},[a]);return u.createElement(y$,{styles:w$(i,!t,a,r?"":"!important")})},sg=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return sg=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{sg=!1}var zi=sg?{passive:!1}:!1,j$=function(e){return e.tagName==="TEXTAREA"},mS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!j$(e)&&r[t]==="visible")},_$=function(e){return mS(e,"overflowY")},N$=function(e){return mS(e,"overflowX")},h0=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=pS(e,s);if(a){var i=gS(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},S$=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},C$=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},pS=function(e,t){return e==="v"?_$(t):N$(t)},gS=function(e,t){return e==="v"?S$(t):C$(t)},E$=function(e,t){return e==="h"&&t==="rtl"?-1:1},k$=function(e,t,r,s,a){var i=E$(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,h=o>0,f=0,m=0;do{if(!l)break;var p=gS(e,l),g=p[0],x=p[1],y=p[2],w=x-y-i*g;(g||w)&&pS(e,l)&&(f+=w,m+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!a)||!h&&(Math.abs(m)<1||!a))&&(d=!0),d},Dd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},f0=function(e){return[e.deltaX,e.deltaY]},m0=function(e){return e&&"current"in e?e.current:e},T$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},A$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},P$=0,Bi=[];function R$(e){var t=u.useRef([]),r=u.useRef([0,0]),s=u.useRef(),a=u.useState(P$++)[0],i=u.useState(av)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=oS([e.lockRef.current],(e.shards||[]).map(m0),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=Dd(x),v=r.current,b="deltaX"in x?x.deltaX:v[0]-w[0],j="deltaY"in x?x.deltaY:v[1]-w[1],N,C=x.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&C.type==="range")return!1;var k=h0(_,C);if(!k)return!0;if(k?N=_:(N=_==="v"?"h":"v",k=h0(_,C)),!k)return!1;if(!s.current&&"changedTouches"in x&&(b||j)&&(s.current=N),!N)return!0;var E=s.current||N;return k$(E,y,x,E==="h"?b:j,!0)},[]),c=u.useCallback(function(x){var y=x;if(!(!Bi.length||Bi[Bi.length-1]!==i)){var w="deltaY"in y?f0(y):Dd(y),v=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&T$(N.delta,w)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(m0).filter(Boolean).filter(function(N){return N.contains(y.target)}),j=b.length>0?l(y,b[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),d=u.useCallback(function(x,y,w,v){var b={name:x,delta:y,target:w,should:v,shadowParent:D$(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),h=u.useCallback(function(x){r.current=Dd(x),s.current=void 0},[]),f=u.useCallback(function(x){d(x.type,f0(x),x.target,l(x,e.lockRef.current))},[]),m=u.useCallback(function(x){d(x.type,Dd(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return Bi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,zi),document.addEventListener("touchmove",c,zi),document.addEventListener("touchstart",h,zi),function(){Bi=Bi.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,zi),document.removeEventListener("touchmove",c,zi),document.removeEventListener("touchstart",h,zi)}},[]);var p=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(i,{styles:A$(a)}):null,p?u.createElement(fS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function D$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const O$=uS(hS,R$);var xS=u.forwardRef(function(e,t){return u.createElement(Jh,ir({},e,{ref:t,sideCar:O$}))});xS.classNames=Jh.classNames;var ag=["Enter"," "],M$=["ArrowDown","PageUp","Home"],vS=["ArrowUp","PageDown","End"],I$=[...M$,...vS],L$={ltr:[...ag,"ArrowRight"],rtl:[...ag,"ArrowLeft"]},$$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yc="Menu",[Sc,F$,U$]=M1(Yc),[ki,yS]=Hc(Yc,[U$,q1,tS]),Xh=q1(),wS=tS(),[z$,Ti]=ki(Yc),[B$,Qc]=ki(Yc),bS=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=Xh(t),[c,d]=u.useState(null),h=u.useRef(!1),f=Ns(i),m=I1(a);return u.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),n.jsx(ML,{...l,children:n.jsx(z$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(B$,{scope:t,onClose:u.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:s})})})};bS.displayName=Yc;var V$="MenuAnchor",iv=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Xh(r);return n.jsx(IL,{...a,...s,ref:t})});iv.displayName=V$;var ov="MenuPortal",[q$,jS]=ki(ov,{forceMount:void 0}),_S=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Ti(ov,t);return n.jsx(q$,{scope:t,forceMount:r,children:n.jsx(Gc,{present:r||i.open,children:n.jsx(X1,{asChild:!0,container:a,children:s})})})};_S.displayName=ov;var sn="MenuContent",[W$,lv]=ki(sn),NS=u.forwardRef((e,t)=>{const r=jS(sn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ti(sn,e.__scopeMenu),o=Qc(sn,e.__scopeMenu);return n.jsx(Sc.Provider,{scope:e.__scopeMenu,children:n.jsx(Gc,{present:s||i.open,children:n.jsx(Sc.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(H$,{...a,ref:t}):n.jsx(G$,{...a,ref:t})})})})}),H$=u.forwardRef((e,t)=>{const r=Ti(sn,e.__scopeMenu),s=u.useRef(null),a=Rr(t,s);return u.useEffect(()=>{const i=s.current;if(i)return nv(i)},[]),n.jsx(cv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Qe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),G$=u.forwardRef((e,t)=>{const r=Ti(sn,e.__scopeMenu);return n.jsx(cv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),K$=$u("MenuContent.ScrollLock"),cv=u.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...x}=e,y=Ti(sn,r),w=Qc(sn,r),v=Xh(r),b=wS(r),j=F$(r),[N,C]=u.useState(null),_=u.useRef(null),k=Rr(t,_,y.onContentChange),E=u.useRef(0),M=u.useRef(""),H=u.useRef(0),A=u.useRef(null),P=u.useRef("right"),T=u.useRef(0),R=g?xS:u.Fragment,F=g?{as:K$,allowPinchZoom:!0}:void 0,D=L=>{var K,ce;const Y=M.current+L,B=j().filter(ve=>!ve.disabled),Q=document.activeElement,ue=(K=B.find(ve=>ve.ref.current===Q))==null?void 0:K.textValue,pe=B.map(ve=>ve.textValue),Oe=iF(pe,Y,ue),I=(ce=B.find(ve=>ve.textValue===Oe))==null?void 0:ce.ref.current;(function ve(_e){M.current=_e,window.clearTimeout(E.current),_e!==""&&(E.current=window.setTimeout(()=>ve(""),1e3))})(Y),I&&setTimeout(()=>I.focus())};u.useEffect(()=>()=>window.clearTimeout(E.current),[]),gL();const O=u.useCallback(L=>{var B,Q;return P.current===((B=A.current)==null?void 0:B.side)&&lF(L,(Q=A.current)==null?void 0:Q.area)},[]);return n.jsx(W$,{scope:r,searchRef:M,onItemEnter:u.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:u.useCallback(L=>{var Y;O(L)||((Y=_.current)==null||Y.focus(),C(null))},[O]),onTriggerLeave:u.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:H,onPointerGraceIntentChange:u.useCallback(L=>{A.current=L},[]),children:n.jsx(R,{...F,children:n.jsx(U1,{asChild:!0,trapped:a,onMountAutoFocus:Qe(i,L=>{var Y;L.preventDefault(),(Y=_.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx($1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:n.jsx(XL,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:Qe(c,L=>{w.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(LL,{role:"menu","aria-orientation":"vertical","data-state":US(y.open),"data-radix-menu-content":"",dir:w.dir,...v,...x,ref:k,style:{outline:"none",...x.style},onKeyDown:Qe(x.onKeyDown,L=>{const B=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Q=L.ctrlKey||L.altKey||L.metaKey,ue=L.key.length===1;B&&(L.key==="Tab"&&L.preventDefault(),!Q&&ue&&D(L.key));const pe=_.current;if(L.target!==pe||!I$.includes(L.key))return;L.preventDefault();const I=j().filter(K=>!K.disabled).map(K=>K.ref.current);vS.includes(L.key)&&I.reverse(),sF(I)}),onBlur:Qe(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(E.current),M.current="")}),onPointerMove:Qe(e.onPointerMove,Cc(L=>{const Y=L.target,B=T.current!==L.clientX;if(L.currentTarget.contains(Y)&&B){const Q=L.clientX>T.current?"right":"left";P.current=Q,T.current=L.clientX}}))})})})})})})});NS.displayName=sn;var Y$="MenuGroup",dv=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(yr.div,{role:"group",...s,ref:t})});dv.displayName=Y$;var Q$="MenuLabel",SS=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(yr.div,{...s,ref:t})});SS.displayName=Q$;var Fu="MenuItem",p0="menu.itemSelect",ef=u.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=u.useRef(null),o=Qc(Fu,e.__scopeMenu),l=lv(Fu,e.__scopeMenu),c=Rr(t,i),d=u.useRef(!1),h=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(p0,{bubbles:!0,cancelable:!0});f.addEventListener(p0,p=>s==null?void 0:s(p),{once:!0}),O1(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(CS,{...a,ref:c,disabled:r,onClick:Qe(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:Qe(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Qe(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||ag.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ef.displayName=Fu;var CS=u.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=lv(Fu,r),l=wS(r),c=u.useRef(null),d=Rr(t,c),[h,f]=u.useState(!1),[m,p]=u.useState("");return u.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),n.jsx(Sc.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(e$,{asChild:!0,...l,focusable:!s,children:n.jsx(yr.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:Qe(e.onPointerMove,Cc(g=>{s?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(e.onPointerLeave,Cc(g=>o.onItemLeave(g))),onFocus:Qe(e.onFocus,()=>f(!0)),onBlur:Qe(e.onBlur,()=>f(!1))})})})}),Z$="MenuCheckboxItem",ES=u.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(RS,{scope:e.__scopeMenu,checked:r,children:n.jsx(ef,{role:"menuitemcheckbox","aria-checked":Uu(r)?"mixed":r,...a,ref:t,"data-state":hv(r),onSelect:Qe(a.onSelect,()=>s==null?void 0:s(Uu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ES.displayName=Z$;var kS="MenuRadioGroup",[J$,X$]=ki(kS,{value:void 0,onValueChange:()=>{}}),TS=u.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Ns(s);return n.jsx(J$,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(dv,{...a,ref:t})})});TS.displayName=kS;var AS="MenuRadioItem",PS=u.forwardRef((e,t)=>{const{value:r,...s}=e,a=X$(AS,e.__scopeMenu),i=r===a.value;return n.jsx(RS,{scope:e.__scopeMenu,checked:i,children:n.jsx(ef,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":hv(i),onSelect:Qe(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});PS.displayName=AS;var uv="MenuItemIndicator",[RS,eF]=ki(uv,{checked:!1}),DS=u.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=eF(uv,r);return n.jsx(Gc,{present:s||Uu(i.checked)||i.checked===!0,children:n.jsx(yr.span,{...a,ref:t,"data-state":hv(i.checked)})})});DS.displayName=uv;var tF="MenuSeparator",OS=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(yr.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});OS.displayName=tF;var rF="MenuArrow",MS=u.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=Xh(r);return n.jsx($L,{...a,...s,ref:t})});MS.displayName=rF;var nF="MenuSub",[_z,IS]=ki(nF),jl="MenuSubTrigger",LS=u.forwardRef((e,t)=>{const r=Ti(jl,e.__scopeMenu),s=Qc(jl,e.__scopeMenu),a=IS(jl,e.__scopeMenu),i=lv(jl,e.__scopeMenu),o=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},h=u.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return u.useEffect(()=>h,[h]),u.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(iv,{asChild:!0,...d,children:n.jsx(CS,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":US(r.open),...e,ref:Zh(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Qe(e.onPointerMove,Cc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Qe(e.onPointerLeave,Cc(f=>{var p,g;h();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(g=r.content)==null?void 0:g.dataset.side,y=x==="right",w=y?-5:5,v=m[y?"left":"right"],b=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||L$[s.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});LS.displayName=jl;var $S="MenuSubContent",FS=u.forwardRef((e,t)=>{const r=jS(sn,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ti(sn,e.__scopeMenu),o=Qc(sn,e.__scopeMenu),l=IS($S,e.__scopeMenu),c=u.useRef(null),d=Rr(t,c);return n.jsx(Sc.Provider,{scope:e.__scopeMenu,children:n.jsx(Gc,{present:s||i.open,children:n.jsx(Sc.Slot,{scope:e.__scopeMenu,children:n.jsx(cv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Qe(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Qe(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Qe(e.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=$$[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});FS.displayName=$S;function US(e){return e?"open":"closed"}function Uu(e){return e==="indeterminate"}function hv(e){return Uu(e)?"indeterminate":e?"checked":"unchecked"}function sF(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function aF(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function iF(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=aF(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function oF(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,h=l.y,f=c.x,m=c.y;h>s!=m>s&&r<(f-d)*(s-h)/(m-h)+d&&(a=!a)}return a}function lF(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return oF(r,t)}function Cc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cF=bS,dF=iv,uF=_S,hF=NS,fF=dv,mF=SS,pF=ef,gF=ES,xF=TS,vF=PS,yF=DS,wF=OS,bF=MS,jF=LS,_F=FS,tf="DropdownMenu",[NF,Nz]=Hc(tf,[yS]),wr=yS(),[SF,zS]=NF(tf),BS=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=wr(t),d=u.useRef(null),[h,f]=D1({prop:a,defaultProp:i??!1,onChange:o,caller:tf});return n.jsx(SF,{scope:t,triggerId:rg(),triggerRef:d,contentId:rg(),open:h,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(cF,{...c,open:h,onOpenChange:f,dir:s,modal:l,children:r})})};BS.displayName=tf;var VS="DropdownMenuTrigger",qS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=zS(VS,r),o=wr(r);return n.jsx(dF,{asChild:!0,...o,children:n.jsx(yr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Zh(t,i.triggerRef),onPointerDown:Qe(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Qe(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});qS.displayName=VS;var CF="DropdownMenuPortal",WS=e=>{const{__scopeDropdownMenu:t,...r}=e,s=wr(t);return n.jsx(uF,{...s,...r})};WS.displayName=CF;var HS="DropdownMenuContent",GS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=zS(HS,r),i=wr(r),o=u.useRef(!1);return n.jsx(hF,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Qe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Qe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GS.displayName=HS;var EF="DropdownMenuGroup",KS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(fF,{...a,...s,ref:t})});KS.displayName=EF;var kF="DropdownMenuLabel",YS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(mF,{...a,...s,ref:t})});YS.displayName=kF;var TF="DropdownMenuItem",QS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(pF,{...a,...s,ref:t})});QS.displayName=TF;var AF="DropdownMenuCheckboxItem",ZS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(gF,{...a,...s,ref:t})});ZS.displayName=AF;var PF="DropdownMenuRadioGroup",RF=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(xF,{...a,...s,ref:t})});RF.displayName=PF;var DF="DropdownMenuRadioItem",JS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(vF,{...a,...s,ref:t})});JS.displayName=DF;var OF="DropdownMenuItemIndicator",XS=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(yF,{...a,...s,ref:t})});XS.displayName=OF;var MF="DropdownMenuSeparator",eC=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(wF,{...a,...s,ref:t})});eC.displayName=MF;var IF="DropdownMenuArrow",LF=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(bF,{...a,...s,ref:t})});LF.displayName=IF;var $F="DropdownMenuSubTrigger",tC=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(jF,{...a,...s,ref:t})});tC.displayName=$F;var FF="DropdownMenuSubContent",rC=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=wr(r);return n.jsx(_F,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rC.displayName=FF;var UF=BS,zF=qS,BF=WS,nC=GS,VF=KS,sC=YS,aC=QS,iC=ZS,oC=JS,lC=XS,cC=eC,dC=tC,uC=rC;const zu=UF,Bu=zF,g0=VF,qF=u.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(dC,{ref:a,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(a4,{className:"ml-auto h-4 w-4"})]}));qF.displayName=dC.displayName;const WF=u.forwardRef(({className:e,...t},r)=>n.jsx(uC,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));WF.displayName=uC.displayName;const Ec=u.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(BF,{children:n.jsx(nC,{ref:s,sideOffset:t,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ec.displayName=nC.displayName;const $r=u.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(aC,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));$r.displayName=aC.displayName;const HF=u.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(iC,{ref:a,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(lC,{children:n.jsx(Dh,{className:"h-4 w-4"})})}),t]}));HF.displayName=iC.displayName;const GF=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(oC,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(lC,{children:n.jsx(o4,{className:"h-2 w-2 fill-current"})})}),t]}));GF.displayName=oC.displayName;const Ql=u.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(sC,{ref:s,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Ql.displayName=sC.displayName;const ri=u.forwardRef(({className:e,...t},r)=>n.jsx(cC,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));ri.displayName=cC.displayName;const KF=Rh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function he({className:e,variant:t,...r}){return n.jsx("div",{className:je(KF({variant:t}),e),...r})}var YF=u.createContext(void 0);function rf(e){const t=u.useContext(YF);return e||t||"ltr"}function ig(e,[t,r]){return Math.min(r,Math.max(t,e))}function QF(e,t){return u.useReducer((r,s)=>t[r][s]??r,e)}var fv="ScrollArea",[hC,Sz]=Yn(fv),[ZF,un]=hC(fv),fC=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=u.useState(null),[d,h]=u.useState(null),[f,m]=u.useState(null),[p,g]=u.useState(null),[x,y]=u.useState(null),[w,v]=u.useState(0),[b,j]=u.useState(0),[N,C]=u.useState(!1),[_,k]=u.useState(!1),E=Ke(t,H=>c(H)),M=rf(a);return n.jsx(ZF,{scope:r,type:s,dir:M,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:j,children:n.jsx(Te.div,{dir:M,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});fC.displayName=fv;var mC="ScrollAreaViewport",pC=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:i,...o}=e,l=un(mC,r),c=u.useRef(null),d=Ke(t,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),n.jsx(Te.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o5({asChild:a,children:s},h=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});pC.displayName=mC;var Zn="ScrollAreaScrollbar",mv=u.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=un(Zn,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return u.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(JF,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(XF,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(gC,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(pv,{...s,ref:t}):null});mv.displayName=Zn;var JF=u.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=un(Zn,e.__scopeScrollArea),[i,o]=u.useState(!1);return u.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(dn,{present:r||i,children:n.jsx(gC,{"data-state":i?"visible":"hidden",...s,ref:t})})}),XF=u.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=un(Zn,e.__scopeScrollArea),i=e.orientation==="horizontal",o=sf(()=>c("SCROLL_END"),100),[l,c]=QF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),u.useEffect(()=>{const d=a.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const m=()=>{const p=d[h];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(dn,{present:r||l!=="hidden",children:n.jsx(pv,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gC=u.forwardRef((e,t)=>{const r=un(Zn,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=u.useState(!1),l=e.orientation==="horizontal",c=sf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:h)}},10);return Bo(r.viewport,c),Bo(r.content,c),n.jsx(dn,{present:s||i,children:n.jsx(pv,{"data-state":i?"visible":"hidden",...a,ref:t})})}),pv=u.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=un(Zn,e.__scopeScrollArea),i=u.useRef(null),o=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=bC(l.viewport,l.content),h={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return a5(m,o.current,l,p)}return r==="horizontal"?n.jsx(e5,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=x0(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(t5,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=x0(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),e5=u.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=un(Zn,e.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Ke(t,c,i.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(vC,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nf(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),_C(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:qu(o.paddingLeft),paddingEnd:qu(o.paddingRight)}})}})}),t5=u.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=un(Zn,e.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Ke(t,c,i.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(vC,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nf(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),_C(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:qu(o.paddingTop),paddingEnd:qu(o.paddingBottom)}})}})}),[r5,xC]=hC(Zn),vC=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...m}=e,p=un(Zn,r),[g,x]=u.useState(null),y=Ke(t,E=>x(E)),w=u.useRef(null),v=u.useRef(""),b=p.viewport,j=s.content-s.viewport,N=At(h),C=At(c),_=sf(f,10);function k(E){if(w.current){const M=E.clientX-w.current.left,H=E.clientY-w.current.top;d({x:M,y:H})}}return u.useEffect(()=>{const E=M=>{const H=M.target;(g==null?void 0:g.contains(H))&&N(M,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,g,j,N]),u.useEffect(C,[s,C]),Bo(g,_),Bo(p.content,_),n.jsx(r5,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:At(i),onThumbPointerUp:At(o),onThumbPositionChange:C,onThumbPointerDown:At(l),children:n.jsx(Te.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:Ne(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),w.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:Ne(e.onPointerMove,k),onPointerUp:Ne(e.onPointerUp,E=>{const M=E.target;M.hasPointerCapture(E.pointerId)&&M.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Vu="ScrollAreaThumb",yC=u.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=xC(Vu,e.__scopeScrollArea);return n.jsx(dn,{present:r||a.hasThumb,children:n.jsx(n5,{ref:t,...s})})}),n5=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=un(Vu,r),o=xC(Vu,r),{onThumbPositionChange:l}=o,c=Ke(t,f=>o.onThumbChange(f)),d=u.useRef(),h=sf(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!d.current){const p=i5(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),n.jsx(Te.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,x=f.clientY-p.top;o.onThumbPointerDown({x:g,y:x})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});yC.displayName=Vu;var gv="ScrollAreaCorner",wC=u.forwardRef((e,t)=>{const r=un(gv,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(s5,{...e,ref:t}):null});wC.displayName=gv;var s5=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=un(gv,r),[i,o]=u.useState(0),[l,c]=u.useState(0),d=!!(i&&l);return Bo(a.scrollbarX,()=>{var f;const h=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(h),c(h)}),Bo(a.scrollbarY,()=>{var f;const h=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(h),o(h)}),d?n.jsx(Te.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function qu(e){return e?parseInt(e,10):0}function bC(e,t){const r=e/t;return isNaN(r)?0:r}function nf(e){const t=bC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function a5(e,t,r,s="ltr"){const a=nf(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=s==="ltr"?[0,h]:[h*-1,0];return jC([c,d],f)(e)}function x0(e,t,r="ltr"){const s=nf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=ig(e,c);return jC([0,o],[0,l])(d)}function jC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function _C(e,t){return e>0&&e<t}var i5=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function sf(e,t){const r=At(e),s=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(s.current),[]),u.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Bo(e,t){const r=At(t);zt(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function o5(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=u.Children.only(s);return u.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var NC=fC,l5=pC,c5=wC;const xv=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(NC,{ref:s,className:je("relative overflow-hidden",e),...r,children:[n.jsx(l5,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(SC,{}),n.jsx(c5,{})]}));xv.displayName=NC.displayName;const SC=u.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(mv,{ref:s,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(yC,{className:"relative flex-1 rounded-full bg-border"})}));SC.displayName=mv.displayName;const d5=e=>{const[t,r]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState(null),[l,c]=u.useState(0),d=async()=>{if(!e){a(!1);return}try{a(!0);const{data:p,error:g}=await U.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(g){console.error("Error fetching notifications:",g),o(g.message);return}r(p||[]),c((p==null?void 0:p.filter(x=>!x.is_read).length)||0),o(null)}catch(p){console.error("Error in fetchNotifications:",p),o(p instanceof Error?p.message:"Failed to fetch notifications")}finally{a(!1)}},h=async p=>{try{const{error:g}=await U.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",p);return g?(console.error("Error marking notification as read:",g),!1):(r(x=>x.map(y=>y.id===p?{...y,is_read:!0,updated_at:new Date().toISOString()}:y)),c(x=>Math.max(0,x-1)),!0)}catch(g){return console.error("Error in markAsRead:",g),!1}},f=async()=>{if(!e)return!1;try{const{error:p}=await U.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("user_id",e).eq("is_read",!1);return p?(console.error("Error marking all notifications as read:",p),!1):(r(g=>g.map(x=>({...x,is_read:!0,updated_at:new Date().toISOString()}))),c(0),!0)}catch(p){return console.error("Error in markAllAsRead:",p),!1}},m=async p=>{try{const{error:g}=await U.from("notifications").delete().eq("id",p);if(g)return console.error("Error deleting notification:",g),!1;const x=t.find(y=>y.id===p);return r(y=>y.filter(w=>w.id!==p)),x&&!x.is_read&&c(y=>Math.max(0,y-1)),!0}catch(g){return console.error("Error in deleteNotification:",g),!1}};return u.useEffect(()=>{if(!e)return;d();const p=U.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},g=>{console.log("New notification received:",g.new),r(x=>[g.new,...x]),c(x=>x+1)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},g=>{console.log("Notification updated:",g.new),r(x=>x.map(y=>y.id===g.new.id?g.new:y))}).subscribe();return()=>{U.removeChannel(p)}},[e]),{notifications:t,loading:s,error:i,unreadCount:l,fetchNotifications:d,markAsRead:h,markAllAsRead:f,deleteNotification:m}},u5=()=>{const{user:e}=Ye(),{notifications:t,loading:r,unreadCount:s,markAsRead:a,markAllAsRead:i,deleteNotification:o}=d5(e==null?void 0:e.id),[l,c]=u.useState(!1),d=x=>{switch(x){case"event_created":return n.jsx($e,{className:"h-3 w-3 text-blue-600"});case"club_update":return n.jsx(We,{className:"h-3 w-3 text-green-600"});case"system":return n.jsx(Ap,{className:"h-3 w-3 text-gray-600"});default:return n.jsx(Cn,{className:"h-3 w-3 text-gray-600"})}},h=x=>{const y=new Date(x),v=Math.floor((new Date().getTime()-y.getTime())/1e3);return v<60?"Just now":v<3600?`${Math.floor(v/60)}m ago`:v<86400?`${Math.floor(v/3600)}h ago`:v<2592e3?`${Math.floor(v/86400)}d ago`:y.toLocaleDateString()},f=async(x,y)=>{y.stopPropagation(),await a(x)||ia({title:"Error",description:"Failed to mark notification as read.",variant:"destructive"})},m=async x=>{x.stopPropagation();const y=await i();ia(y?{title:"All notifications marked as read",description:"All your notifications have been marked as read."}:{title:"Error",description:"Failed to mark all notifications as read.",variant:"destructive"})},p=async(x,y)=>{y.stopPropagation(),await o(x)||ia({title:"Error",description:"Failed to delete notification.",variant:"destructive"})},g=t.slice(0,5);return n.jsxs(zu,{open:l,onOpenChange:c,children:[n.jsx(Bu,{asChild:!0,children:n.jsxs(z,{variant:"ghost",className:"relative h-9 w-9 p-0",children:[s>0?n.jsx(r4,{className:"h-5 w-5"}):n.jsx(Cn,{className:"h-5 w-5"}),s>0&&n.jsx(he,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 text-xs flex items-center justify-center",children:s>99?"99+":s})]})}),n.jsxs(Ec,{align:"end",className:"w-80",children:[n.jsx(Ql,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-medium",children:"Notifications"}),s>0&&n.jsxs(z,{variant:"ghost",size:"sm",onClick:m,className:"h-6 text-xs",children:[n.jsx(s4,{className:"h-3 w-3 mr-1"}),"Mark All Read"]})]})}),n.jsx(ri,{}),r?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})}):g.length===0?n.jsxs("div",{className:"text-center py-6",children:[n.jsx(Cn,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications"})]}):n.jsx(xv,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-1",children:g.map(x=>n.jsx($r,{className:`p-3 cursor-pointer focus:bg-muted ${x.is_read?"":"bg-blue-50"}`,children:n.jsxs("div",{className:"flex items-start gap-2 w-full",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:d(x.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-xs leading-relaxed ${x.is_read?"text-gray-600":"text-gray-900 font-medium"}`,children:x.message.length>80?`${x.message.substring(0,80)}...`:x.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h(x.created_at)})]}),n.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!x.is_read&&n.jsx(z,{variant:"ghost",size:"sm",onClick:y=>f(x.id,y),className:"h-6 w-6 p-0 hover:bg-blue-100",title:"Mark as read",children:n.jsx(Dh,{className:"h-3 w-3"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:y=>p(x.id,y),className:"h-6 w-6 p-0 hover:bg-red-100 text-red-600",title:"Delete",children:n.jsx(Fn,{className:"h-3 w-3"})})]})]})},x.id))})}),t.length>5&&n.jsxs(n.Fragment,{children:[n.jsx(ri,{}),n.jsx($r,{className:"text-center text-sm text-primary cursor-pointer",children:"View all notifications"})]})]})]})},h5=()=>{var g,x;const[e,t]=u.useState(!1),[r,s]=u.useState(null),{user:a,isAuthenticated:i,logout:o}=Ye(),l=Ci(),c=[{name:"Clubs",href:"/clubs",icon:We,requireAuth:!0},{name:"Events",href:"/events",icon:$e,requireAuth:!0},{name:"Social Feed",href:"/social-feed",icon:Vn,requireAuth:!0},{name:"Forums",href:"/forum",icon:Vn,requireAuth:!0},{name:"Careers",href:"/careers",icon:kp,requireAuth:!0},{name:"Chat",href:"/chat2",icon:Vn,requireAuth:!0},{name:"Club Dashboard",href:"/club-dashboard",icon:We,requireAuth:!0}],d=[{name:"Resources",href:"/resources",icon:ps,requireAuth:!0},{name:"Lost & Found",href:"/lost-found",icon:Hn,requireAuth:!0},{name:"Assistant",href:"/assistant",icon:Ep,requireAuth:!0}],h=[...(a==null?void 0:a.role)!=="admin"?[{name:"Profile",href:"/profile",icon:gs}]:[],...(a==null?void 0:a.role)==="admin"?[{name:"Admin",href:"/admin",icon:Qa}]:[],...(a==null?void 0:a.role)==="faculty"?[{name:"Manage Events",href:"/events",icon:$e}]:[]],f=(y,w)=>{y.requireAuth&&!i&&(w.preventDefault(),l("/signin"))},m=async()=>{if(a!=null&&a.id)try{let{data:y,error:w}=await U.from("users").select("avatar_url").eq("id",a.id).single();if(w&&(w.code==="PGRST116"||w.code==="PGRST204")){const v=await U.from("manual_users").select("avatar_url").eq("id",a.id).single();y=v.data,w=v.error}!w&&(y!=null&&y.avatar_url)&&s(y.avatar_url)}catch(y){console.error("Error fetching user avatar:",y)}};u.useEffect(()=>{a!=null&&a.id&&m()},[a==null?void 0:a.id]),u.useEffect(()=>{const y=()=>{m()};return window.addEventListener("avatar-refreshed",y),()=>{window.removeEventListener("avatar-refreshed",y)}},[]);const p=async()=>{await o(),l("/")};return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-b border-border/50 shadow-xl",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs(Ie,{to:"/",className:"flex items-center space-x-3 hover:opacity-90 transition-opacity",children:[n.jsx("img",{src:"/favicon.svg",alt:"BRACU Logo",className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-foreground bg-gradient-primary bg-clip-text text-transparent",children:"BRACU SAM Portal"}),n.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Student Activity Management Portal"})]})]}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[c.map(y=>n.jsxs(Ie,{to:y.href,onClick:w=>f(y,w),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[n.jsx(y.icon,{className:"h-4 w-4"}),n.jsx("span",{children:y.name})]},y.name)),n.jsxs(zu,{children:[n.jsx(Bu,{asChild:!0,children:n.jsxs(z,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200 hover:scale-105 hover:shadow-md",children:[n.jsx(z_,{className:"h-4 w-4"}),n.jsx("span",{children:"More"})]})}),n.jsxs(Ec,{className:"w-56 bg-background/95 backdrop-blur-lg border border-border/50 shadow-xl",align:"center",forceMount:!0,children:[n.jsx(Ql,{className:"font-semibold text-foreground",children:"Additional Features"}),n.jsx(ri,{}),n.jsx(g0,{children:d.map(y=>n.jsx($r,{asChild:!0,children:n.jsxs(Ie,{to:y.href,onClick:w=>f(y,w),className:"flex items-center cursor-pointer",children:[n.jsx(y.icon,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:y.name})]})},y.name))}),n.jsx(ri,{}),n.jsx(Ql,{className:"font-semibold text-foreground",children:"Quick Actions"}),n.jsx(g0,{children:i&&n.jsxs(n.Fragment,{children:[(a==null?void 0:a.role)!=="admin"&&n.jsx($r,{asChild:!0,children:n.jsxs(Ie,{to:"/profile",className:"flex items-center cursor-pointer",children:[n.jsx(gs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Profile"})]})}),(a==null?void 0:a.role)==="admin"&&n.jsx($r,{asChild:!0,children:n.jsxs(Ie,{to:"/admin",className:"flex items-center cursor-pointer",children:[n.jsx(Qa,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Admin Dashboard"})]})})]})})]})]})]}),n.jsx("div",{className:"hidden md:flex items-center space-x-3",children:i?n.jsxs(n.Fragment,{children:[n.jsx(u5,{}),n.jsxs(zu,{children:[n.jsx(Bu,{asChild:!0,children:n.jsx(z,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0 hover:scale-105 transition-transform",children:n.jsxs(rn,{className:"h-10 w-10 border-2 border-primary/20 hover:border-primary/40 transition-colors",children:[n.jsx(qn,{src:r||"",alt:a==null?void 0:a.full_name}),n.jsx(nn,{className:"bg-gradient-primary text-primary-foreground font-semibold",children:((g=a==null?void 0:a.full_name)==null?void 0:g.split(" ").map(y=>y[0]).join("").toUpperCase())||"U"})]})})}),n.jsxs(Ec,{className:"w-56 bg-background/95 backdrop-blur-lg border border-border/50 shadow-xl",align:"end",forceMount:!0,children:[n.jsx(Ql,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.full_name}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a==null?void 0:a.email})]})}),n.jsx(ri,{}),n.jsx($r,{asChild:!0,children:n.jsxs(Ie,{to:"/profile",className:"flex items-center cursor-pointer",children:[n.jsx(gs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Profile"})]})}),n.jsxs($r,{children:[n.jsx(Pp,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Settings"})]}),n.jsx(ri,{}),n.jsxs($r,{onClick:p,className:"text-destructive focus:text-destructive",children:[n.jsx(lw,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Log out"})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(z,{variant:"ghost",size:"sm",asChild:!0,className:"hover:scale-105 transition-transform",children:n.jsx(Ie,{to:"/signin",children:"Sign In"})}),n.jsx(z,{variant:"hero",size:"sm",asChild:!0,className:"shadow-lg hover:shadow-xl",children:n.jsx(Ie,{to:"/signup",children:"Join Now"})})]})}),n.jsx("div",{className:"md:hidden",children:n.jsx(z,{variant:"ghost",size:"icon",onClick:()=>t(!e),children:e?n.jsx(Ni,{className:"h-6 w-6"}):n.jsx(v4,{className:"h-6 w-6"})})})]}),e&&n.jsx("div",{className:"md:hidden py-4 border-t border-border/50 animate-fade-in bg-background/95 backdrop-blur-lg",children:n.jsxs("div",{className:"flex flex-col space-y-2",children:[c.map(y=>n.jsxs(Ie,{to:y.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200",onClick:w=>{f(y,w),t(!1)},children:[n.jsx(y.icon,{className:"h-4 w-4"}),n.jsx("span",{children:y.name})]},y.name)),n.jsxs("div",{className:"px-4 py-2",children:[n.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Additional Features"}),n.jsx("div",{className:"space-y-1",children:d.map(y=>n.jsxs(Ie,{to:y.href,className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200",onClick:w=>{f(y,w),t(!1)},children:[n.jsx(y.icon,{className:"h-4 w-4"}),n.jsx("span",{children:y.name})]},y.name))})]}),i&&n.jsxs("div",{className:"px-4 py-2",children:[n.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Quick Actions"}),n.jsx("div",{className:"space-y-1",children:h.map(y=>n.jsxs(Ie,{to:y.href,className:"flex items-center space-x-3 px-4 py-2 rounded-lg text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200",onClick:()=>t(!1),children:[n.jsx(y.icon,{className:"h-4 w-4"}),n.jsx("span",{children:y.name})]},y.name))})]}),n.jsx("div",{className:"pt-3 mt-3 border-t border-border/50 flex flex-col space-y-2",children:i?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2",children:[n.jsxs(rn,{className:"h-8 w-8",children:[n.jsx(qn,{src:r||"",alt:a==null?void 0:a.full_name}),n.jsx(nn,{className:"bg-gradient-primary text-primary-foreground text-xs",children:((x=a==null?void 0:a.full_name)==null?void 0:x.split(" ").map(y=>y[0]).join("").toUpperCase())||"U"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:a==null?void 0:a.full_name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:a==null?void 0:a.email})]})]}),n.jsxs(z,{variant:"ghost",size:"sm",className:"justify-start text-destructive hover:text-destructive",onClick:()=>{p(),t(!1)},children:[n.jsx(lw,{className:"mr-2 h-4 w-4"}),"Log out"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(z,{variant:"ghost",size:"sm",className:"justify-start",asChild:!0,children:n.jsx(Ie,{to:"/signin",onClick:()=>t(!1),children:"Sign In"})}),n.jsx(z,{variant:"hero",size:"sm",className:"justify-start",asChild:!0,children:n.jsx(Ie,{to:"/signup",onClick:()=>t(!1),children:"Join Now"})})]})})]})})]})})},f5=()=>n.jsx("footer",{className:"bg-gradient-to-r from-primary to-primary-dark text-primary-foreground",children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:"/favicon.svg",alt:"BRACU Logo",className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",children:"BRACU SAM Portal"}),n.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Student Activity Management Portal"})]})]}),n.jsx("p",{className:"text-primary-foreground/90 text-sm leading-relaxed",children:"The official student activity portal for BRAC University, connecting students and fostering campus community."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("a",{href:"https://www.facebook.com/BRACUniversity",className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg transition-all duration-200 hover:scale-110",children:n.jsx(c4,{className:"h-4 w-4"})}),n.jsx("a",{href:"https://x.com/i/flow/login?redirect_after_login=%2Fbracuniversity",className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg transition-all duration-200 hover:scale-110",children:n.jsx(C4,{className:"h-4 w-4"})}),n.jsx("a",{href:"https://www.instagram.com/bracuniversity/?hl=en",className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg transition-all duration-200 hover:scale-110",children:n.jsx(u4,{className:"h-4 w-4"})}),n.jsx("a",{href:"https://www.linkedin.com/school/58028/",className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg transition-all duration-200 hover:scale-110",children:n.jsx(m4,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"Quick Links"}),n.jsx("ul",{className:"space-y-2",children:[{name:"Clubs",href:"/clubs"},{name:"Events",href:"/events"},{name:"Forums",href:"/forum"},{name:"Resources",href:"/resources"}].map(e=>n.jsx("li",{children:n.jsx(Ie,{to:e.href,className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors duration-200 text-sm hover:underline",children:e.name})},e.name))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"Services"}),n.jsx("ul",{className:"space-y-2",children:["Club Management","Event Planning","Academic Resources","Career Services","Student Support"].map(e=>n.jsx("li",{children:n.jsx("span",{className:"text-primary-foreground/80 text-sm",children:e})},e))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"Contact Us"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-white/10 p-1.5 rounded-md",children:n.jsx($o,{className:"h-4 w-4"})}),n.jsx("span",{className:"text-primary-foreground/80 text-sm",children:"info@bracu.ac.bd"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-white/10 p-1.5 rounded-md",children:n.jsx(kx,{className:"h-4 w-4"})}),n.jsx("span",{className:"text-primary-foreground/80 text-sm",children:"+88 09638464646"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-white/10 p-1.5 rounded-md",children:n.jsx(Pr,{className:"h-4 w-4"})}),n.jsx("span",{className:"text-primary-foreground/80 text-sm",children:"Kha 224 Pragati Sarani, Merul Badda , Dhaka 1212, Bangladesh"})]})]})]})]}),n.jsxs("div",{className:"border-t border-white/20 mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[n.jsx("p",{className:"text-primary-foreground/70 text-sm",children:"© 2025 BRAC University. All rights reserved."}),n.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[n.jsx(Ie,{to:"/privacy",className:"text-primary-foreground/70 hover:text-primary-foreground text-sm transition-colors",children:"Privacy Policy"}),n.jsx(Ie,{to:"/terms",className:"text-primary-foreground/70 hover:text-primary-foreground text-sm transition-colors",children:"Terms of Service"}),n.jsx(Ie,{to:"/help",className:"text-primary-foreground/70 hover:text-primary-foreground text-sm transition-colors",children:"Help Center"})]})]})]})}),ut=({children:e})=>n.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[n.jsx(h5,{}),n.jsx("main",{className:"flex-1 pt-16",children:e}),n.jsx(f5,{})]}),m5=()=>{const[e,t]=u.useState({totalUsers:0,totalClubs:0,totalEvents:0,totalResources:0}),[r,s]=u.useState(!0);u.useEffect(()=>{(async()=>{try{s(!0);const{count:c}=await U.from("users").select("*",{count:"exact",head:!0}).eq("role","student"),{count:d}=await U.from("clubs").select("*",{count:"exact",head:!0}).eq("is_public",!0),{count:h}=await U.from("events").select("*",{count:"exact",head:!0}),{count:f}=await U.from("resources").select("*",{count:"exact",head:!0});t({totalUsers:c||0,totalClubs:d||0,totalEvents:h||0,totalResources:f||0})}catch(c){console.error("Error fetching hero stats:",c),t({totalUsers:0,totalClubs:0,totalEvents:0,totalResources:0})}finally{s(!1)}})()},[]);const a=l=>l>=1e6?`${(l/1e6).toFixed(1)}M+`:l>=1e3?`${(l/1e3).toFixed(1)}K+`:l>0?`${l}+`:"0",i=[{icon:We,label:"BRACU Students",value:a(e.totalUsers)},{icon:ps,label:"Student Clubs",value:a(e.totalClubs)},{icon:$e,label:"Campus Events",value:a(e.totalEvents)},{icon:bn,label:"Learning Resources",value:a(e.totalResources)}],o=()=>e.totalUsers>0&&e.totalClubs>0?`Join ${e.totalClubs} active student clubs and connect with ${a(e.totalUsers)} fellow students`:e.totalUsers>0?`Connect with ${a(e.totalUsers)} fellow BRAC University students`:"Connect with fellow BRAC University students, join clubs, attend campus events, and participate in the vibrant BRACU community.";return n.jsx("section",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-primary/5 pt-16",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-24",children:n.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-primary text-white px-4 py-2 rounded-full text-sm font-medium mb-8 animate-fade-in shadow-lg",children:[n.jsx(N4,{className:"h-4 w-4"}),n.jsx("span",{children:"BRAC University Student Portal"})]}),n.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6 animate-fade-in",children:["BRACU Student",n.jsxs("span",{className:"bg-gradient-hero bg-clip-text text-transparent",children:[" ","Community"]})]}),n.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto leading-relaxed animate-fade-in",children:o()}),n.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 justify-center mb-1\r
          {/* CTA Buttons */}6 animate-fade-in`,children:[n.jsxs(z,{variant:"hero",size:"xl",className:"group",children:["Join the Community Today",n.jsx(zc,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),n.jsx(z,{variant:"outline",size:"xl",asChild:!0,children:n.jsx(Ie,{to:"/learn-more",children:"Learn More"})})]}),r?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 mb-16 animate-fade-in",children:[1,2,3,4].map(l=>n.jsxs("div",{className:"text-center bg-card rounded-lg p-6 shadow-card animate-pulse",children:[n.jsx("div",{className:"bg-gradient-primary p-3 rounded-lg inline-flex mb-3",children:n.jsx("div",{className:"h-6 w-6 bg-white/20 rounded"})}),n.jsx("div",{className:"h-8 bg-muted rounded mb-1"}),n.jsx("div",{className:"h-4 bg-muted rounded"})]},l))}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 mb-16 animate-fade-in",children:i.map((l,c)=>n.jsxs("div",{className:"text-center bg-card rounded-lg p-6 shadow-card hover:shadow-md transition-all duration-200 hover:scale-105",style:{animationDelay:`${c*.1}s`},children:[n.jsx("div",{className:"bg-gradient-primary p-3 rounded-lg inline-flex mb-3",children:n.jsx(l.icon,{className:"h-6 w-6 text-white"})}),n.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:l.value}),n.jsx("div",{className:"text-sm text-muted-foreground",children:l.label})]},l.label))})]})})})},J=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const Re=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",e),...t}));Re.displayName="CardHeader";const De=u.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:je("text-2xl font-semibold leading-none tracking-tight",e),...t}));De.displayName="CardTitle";const nt=u.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:je("text-sm text-muted-foreground",e),...t}));nt.displayName="CardDescription";const ie=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("p-6 pt-0",e),...t}));ie.displayName="CardContent";const p5=u.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",e),...t}));p5.displayName="CardFooter";const g5=({clubs:e})=>{const t=s=>{const a=["bg-gradient-to-br from-blue-500 to-purple-600","bg-gradient-to-br from-orange-500 to-pink-600","bg-gradient-to-br from-green-500 to-teal-600","bg-gradient-to-br from-purple-500 to-indigo-600","bg-gradient-to-br from-red-500 to-orange-600","bg-gradient-to-br from-indigo-500 to-blue-600","bg-gradient-to-br from-pink-500 to-red-600","bg-gradient-to-br from-teal-500 to-green-600"];return a[s%a.length]},r=["All","Academic","Creative","Sports","Community","Technology"];return n.jsx("section",{className:"py-16 bg-muted/30",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Discover Student Clubs"}),n.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Find your community among 30+ active student organizations. From academic societies to creative clubs, there's something for everyone."}),n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:r.map(s=>n.jsx(he,{variant:s==="All"?"default":"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground transition-colors px-4 py-2",children:s},s))})]}),e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(We,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No clubs available"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Be the first to create a student club and start building your community!"})]}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:e.slice(0,8).map((s,a)=>n.jsxs(J,{className:"group hover:shadow-lg transition-all duration-200 hover:scale-105 animate-fade-in overflow-hidden",style:{animationDelay:`${a*.1}s`},children:[n.jsx("div",{className:`h-32 ${t(a)} relative`,children:n.jsx(he,{className:"absolute bottom-3 left-3 bg-white/20 backdrop-blur-sm text-white border-white/30",children:s.category||"General"})}),n.jsxs(Re,{className:"pb-3",children:[n.jsx(De,{className:"text-lg line-clamp-1",children:s.name}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description||"No description available"})]}),n.jsxs(ie,{className:"pt-0",children:[n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[n.jsx($e,{className:"h-4 w-4"}),n.jsxs("span",{children:["Created ",new Date(s.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{children:"Open for members"})]})]}),n.jsx(z,{asChild:!0,variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:n.jsx(Ie,{to:`/join-club/${s.id}`,children:"Join Club"})})]})]},s.id))}),n.jsx("div",{className:"text-center",children:n.jsx(z,{asChild:!0,variant:"hero",size:"lg",className:"group",children:n.jsxs(Ie,{to:"/clubs",children:["Explore All Clubs",n.jsx(zc,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]})})},x5=({events:e})=>{const t=i=>{const o=["bg-gradient-to-br from-blue-500 to-cyan-600","bg-gradient-to-br from-purple-500 to-pink-600","bg-gradient-to-br from-green-500 to-emerald-600","bg-gradient-to-br from-orange-500 to-red-600","bg-gradient-to-br from-indigo-500 to-purple-600","bg-gradient-to-br from-pink-500 to-rose-600"];return o[i%o.length]},r=i=>{const o=new Date(i);return{date:o.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),time:o.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},s=e.slice(0,2),a=e.slice(2,6);return n.jsx("section",{className:"py-16 bg-background",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Upcoming Events"}),n.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"Never miss out on campus activities. From academic conferences to cultural festivals, stay connected with what's happening."})]}),s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx($e,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No upcoming events"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Be the first to create an event and start building your community!"})]}):n.jsx("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:s.map((i,o)=>{const{date:l,time:c}=r(i.start_at);return n.jsxs(J,{className:"group hover:shadow-lg transition-all duration-200 hover:scale-105 animate-fade-in overflow-hidden",style:{animationDelay:`${o*.1}s`},children:[n.jsxs("div",{className:`h-40 ${t(o)} relative flex items-end p-6`,children:[n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx(he,{className:"bg-white/20 backdrop-blur-sm text-white border-white/30",children:i.status})}),n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:i.title}),n.jsx("p",{className:"text-white/90 text-sm",children:"Event"})]})]}),n.jsxs(ie,{className:"p-6",children:[n.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:i.description||"No description available"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[n.jsx($e,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:l})]}),n.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[n.jsx(mr,{className:"h-4 w-4 text-primary"}),n.jsx("span",{children:c})]}),n.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[n.jsx(Pr,{className:"h-4 w-4 text-primary"}),n.jsx("span",{children:i.location||"Location TBD"})]}),n.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[n.jsx(We,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{children:[i.capacity||"Unlimited"," capacity"]})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(z,{asChild:!0,variant:"hero",size:"sm",className:"flex-1",children:n.jsx(Ie,{to:`/event-registration/${i.id}`,children:"Learn More"})}),n.jsx(z,{variant:"outline",size:"sm",children:n.jsx(ow,{className:"h-4 w-4"})})]})]})]},i.id)})}),a.length>0&&n.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:a.map((i,o)=>{const{date:l,time:c}=r(i.start_at);return n.jsxs(J,{className:"group hover:shadow-md transition-all duration-200 hover:scale-105 animate-fade-in",style:{animationDelay:`${(o+2)*.1}s`},children:[n.jsx(Re,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{className:"text-lg line-clamp-1 mb-1",children:i.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Event"})]}),n.jsx(he,{variant:"outline",className:"ml-2",children:i.status})]})}),n.jsxs(ie,{className:"pt-0",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:i.description||"No description available"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"h-3 w-3 text-primary"}),n.jsx("span",{children:l})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(We,{className:"h-3 w-3 text-primary"}),n.jsx("span",{children:i.capacity||"∞"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Pr,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"truncate",children:i.location||"Location TBD"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(z,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:n.jsx(Ie,{to:`/event-registration/${i.id}`,children:"Learn More"})}),n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(ow,{className:"h-4 w-4"})})]})]})]},i.id)})}),n.jsx("div",{className:"text-center",children:n.jsx(z,{asChild:!0,variant:"hero",size:"lg",className:"group",children:n.jsxs(Ie,{to:"/events",children:["View All Events",n.jsx(zc,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]})})};function An(){return n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}const v5=()=>{const[e,t]=u.useState([]),[r,s]=u.useState([]),[a,i]=u.useState(!0),[o,l]=u.useState(null);return u.useEffect(()=>{(async()=>{try{i(!0);const{data:d,error:h}=await U.from("clubs").select("*").eq("is_public",!0).order("created_at",{ascending:!1}).limit(8);h&&console.error("Error fetching clubs:",h);const{data:f,error:m}=await U.from("events").select("*").gte("start_at",new Date().toISOString()).order("start_at",{ascending:!0}).limit(6);m&&console.error("Error fetching events:",m),t(d||[]),s(f||[])}catch(d){console.error("Error fetching data:",d),l("Failed to load data")}finally{i(!1)}})()},[]),a?n.jsx(ut,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(An,{})})}):o?n.jsx(ut,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:"Error Loading Data"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o}),n.jsx(z,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}):n.jsx(ut,{children:n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(m5,{}),n.jsx(g5,{clubs:e}),n.jsx(x5,{events:r}),n.jsx("section",{className:"py-20 bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Ready to explore?"}),n.jsx("p",{className:"text-muted-foreground text-lg mb-8 max-w-2xl mx-auto",children:"Join your fellow BRACU students in building an active and engaging campus community"}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:n.jsx(z,{asChild:!0,size:"xl",className:"bg-gradient-hero shadow-lg hover:shadow-xl",children:n.jsx(Ie,{to:"/signup",children:"Join BRACU Community"})})})]})})]})})},re=u.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));re.displayName="Input";function y5(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),{user:o}=Ye(),l=async()=>{try{s(!0);const{data:f,error:m}=await U.from("events").select("*").order("start_at",{ascending:!0});if(m)throw m;t(f||[])}catch(f){i(f instanceof Error?f.message:"Failed to fetch events")}finally{s(!1)}},c=async f=>{if(!o)throw new Error("User must be authenticated");try{const{data:m,error:p}=await U.from("events").insert({...f,created_by:o.id}).select().single();if(p)throw p;return t(g=>[...g,m]),m}catch(m){throw m instanceof Error?m:new Error("Failed to create event")}},d=async(f,m)=>{try{const{data:p,error:g}=await U.from("events").update(m).eq("id",f).select().single();if(g)throw g;return t(x=>x.map(y=>y.id===f?p:y)),p}catch(p){throw p instanceof Error?p:new Error("Failed to update event")}},h=async f=>{try{const{error:m}=await U.from("events").delete().eq("id",f);if(m)throw m;t(p=>p.filter(g=>g.id!==f))}catch(m){throw m instanceof Error?m:new Error("Failed to delete event")}};return u.useEffect(()=>{l()},[]),{events:e,loading:r,error:a,createEvent:c,updateEvent:d,deleteEvent:h,refetch:l}}function CC(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),{user:o}=Ye(),l=async()=>{try{s(!0);const{data:f,error:m}=await U.from("clubs").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(m)throw m;console.log("useClubs - Fetched clubs:",f),t(f||[])}catch(f){console.error("useClubs - Error fetching clubs:",f),i(f instanceof Error?f.message:"Failed to fetch clubs")}finally{s(!1)}},c=async f=>{if(!o)throw new Error("User must be authenticated");try{const{data:m,error:p}=await U.from("clubs").insert({...f,created_by:o.id}).select().single();if(p)throw p;return t(g=>[m,...g]),m}catch(m){throw m instanceof Error?m:new Error("Failed to create club")}},d=async(f,m)=>{try{const{data:p,error:g}=await U.from("clubs").update(m).eq("id",f).select().single();if(g)throw g;return t(x=>x.map(y=>y.id===f?p:y)),p}catch(p){throw p instanceof Error?p:new Error("Failed to update club")}},h=async f=>{try{const{error:m}=await U.from("clubs").delete().eq("id",f);if(m)throw m;t(p=>p.filter(g=>g.id!==f))}catch(m){throw m instanceof Error?m:new Error("Failed to delete club")}};return u.useEffect(()=>{l()},[]),{clubs:e,loading:r,error:a,createClub:c,updateClub:d,deleteClub:h,refetch:l}}const EC=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState(!1),i=u.useCallback(async()=>{if(!(e!=null&&e.id)){console.log("No user ID for fetching subscriptions");return}console.log("Fetching subscriptions for user:",e.id),a(!0);try{const{data:f,error:m}=await U.from("club_subscriptions").select("*").eq("user_id",e.id).eq("is_active",!0);if(m){console.error("Error fetching subscriptions:",m);return}console.log("Fetched subscriptions:",f),r(f||[])}catch(f){console.error("Error fetching subscriptions:",f)}finally{a(!1)}},[e==null?void 0:e.id]),o=u.useCallback(async f=>{if(!(e!=null&&e.id))return console.log("No user ID for subscription"),!1;console.log("Attempting to subscribe user",e.id,"to club",f);try{const m={club_id:f,user_id:e.id,notification_preferences:{events:!0,announcements:!0,activities:!0}};console.log("Subscription data:",m);const{data:p,error:g}=await U.from("club_subscriptions").insert(m).select();return g?(console.error("Error subscribing to club:",g),!1):(console.log("Subscription successful:",p),await i(),!0)}catch(m){return console.error("Error subscribing to club:",m),!1}},[e==null?void 0:e.id,i]),l=u.useCallback(async f=>{if(!(e!=null&&e.id))return console.log("No user ID for unsubscription"),!1;console.log("Attempting to unsubscribe user",e.id,"from club",f);try{const{error:m}=await U.from("club_subscriptions").delete().eq("club_id",f).eq("user_id",e.id);return m?(console.error("Error unsubscribing from club:",m),!1):(console.log("Unsubscription successful"),await i(),!0)}catch(m){return console.error("Error unsubscribing from club:",m),!1}},[e==null?void 0:e.id,i]),c=u.useCallback(f=>t.some(m=>m.club_id===f),[t]),d=u.useCallback(async f=>{try{const{count:m,error:p}=await U.from("club_subscriptions").select("*",{count:"exact",head:!0}).eq("club_id",f).eq("is_active",!0);return p?(console.error("Error getting subscription count:",p),0):m||0}catch(m){return console.error("Error getting subscription count:",m),0}},[]),h=u.useCallback(async f=>{try{const{count:m,error:p}=await U.from("club_memberships").select("*",{count:"exact",head:!0}).eq("club_id",f).eq("status","active");return p?(console.error("Error getting member count:",p),0):m||0}catch(m){return console.error("Error getting member count:",m),0}},[]);return u.useEffect(()=>{console.log("useClubSubscriptions useEffect triggered, user:",e==null?void 0:e.id),e!=null&&e.id&&i()},[e==null?void 0:e.id,i]),{subscriptions:t,loading:s,subscribeToClub:o,unsubscribeFromClub:l,isSubscribedToClub:c,getClubSubscriptionCount:d,getClubMemberCount:h,fetchSubscriptions:i}},w5=["All","Academic","Creative","Social","Sports","Cultural"],b5=()=>{const{user:e}=Ye(),{clubs:t,loading:r,createClub:s}=CC(),{subscriptions:a,subscribeToClub:i,unsubscribeFromClub:o,isSubscribedToClub:l,getClubMemberCount:c,getClubSubscriptionCount:d}=EC(),[h,f]=u.useState(""),[m,p]=u.useState("All"),[g,x]=u.useState({}),[y,w]=u.useState({});u.useEffect(()=>{(async()=>{if(!t.length)return;const N={};for(const C of t)try{const[_,k]=await Promise.all([c(C.id),d(C.id)]);N[C.id]={members:_,subscribers:k}}catch(_){console.error(`Error fetching stats for club ${C.id}:`,_),N[C.id]={members:0,subscribers:0}}x(N)})()},[t,c,d]);const v=async j=>{if(!e){console.log("No user logged in");return}console.log("Subscription toggle clicked for club:",j),w(N=>({...N,[j]:!0}));try{const N=l(j);if(console.log("Current subscription status:",N),N){console.log("Attempting to unsubscribe...");const C=await o(j);console.log("Unsubscribe result:",C)}else{console.log("Attempting to subscribe...");const C=await i(j);console.log("Subscribe result:",C)}setTimeout(async()=>{try{const[C,_]=await Promise.all([c(j),d(j)]);console.log("Updated stats:",{memberCount:C,subscriberCount:_}),x(k=>({...k,[j]:{members:C,subscribers:_}}))}catch(C){console.error("Error refreshing stats:",C)}},500)}catch(N){console.error("Error toggling subscription:",N)}finally{w(N=>({...N,[j]:!1}))}},b=t.filter(j=>j.name.toLowerCase().includes(h.toLowerCase())||j.description&&j.description.toLowerCase().includes(h.toLowerCase()));return n.jsx(ut,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent mb-4",children:"Discover University Clubs"}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Find your passion, connect with like-minded students, and make lasting memories"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{placeholder:"Search clubs by name or interests...",value:h,onChange:j=>f(j.target.value),className:"pl-10"})]}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:w5.map(j=>n.jsx(z,{variant:m===j?"default":"outline",size:"sm",onClick:()=>p(j),children:j},j))}),n.jsxs(z,{variant:"outline",size:"sm",children:[n.jsx(Cx,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("p",{className:"text-muted-foreground",children:["Showing ",b.length," clubs"]})}),r&&n.jsx(An,{}),!r&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.length===0?n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx(We,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No clubs found"}),n.jsx("p",{className:"text-muted-foreground",children:h?"Try adjusting your search terms":"No clubs have been created yet"})]}):b.map(j=>{var N,C;return n.jsxs(J,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-card",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-green-500 to-blue-600 rounded-t-lg flex items-center justify-center",children:n.jsx(We,{className:"h-12 w-12 text-white"})}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx(he,{variant:"secondary",className:"bg-background/80",children:j.is_public?"Public":"Private"})}),e&&(l(j.id)?n.jsx("div",{className:"absolute top-4 left-4",children:n.jsxs(he,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Cn,{className:"h-3 w-3 mr-1"}),"Subscribed"]})}):null)]}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsx("h3",{className:"text-xl font-semibold group-hover:text-primary transition-colors",children:n.jsx(Ie,{to:`/club-details/${j.id}`,className:"hover:underline cursor-pointer",children:j.name})})}),n.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:j.description||"No description available"}),n.jsx("div",{className:"flex items-center justify-between mb-4 text-sm text-muted-foreground",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($e,{className:"h-4 w-4"}),n.jsxs("span",{children:["Created"," ",new Date(j.created_at).toLocaleDateString()]})]})}),n.jsx("div",{className:"flex items-center justify-between mb-4 text-sm text-muted-foreground",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsxs("span",{children:[((N=g[j.id])==null?void 0:N.members)||0," members"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Cn,{className:"h-4 w-4"}),n.jsxs("span",{children:[((C=g[j.id])==null?void 0:C.subscribers)||0," subscribers"]})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{asChild:!0,className:"flex-1",children:n.jsx(Ie,{to:`/join-club/${j.id}`,onClick:()=>{console.log("Clubs - Navigating to club:",{clubId:j.id,clubName:j.name,fullPath:`/join-club/${j.id}`})},children:"Join Club"})}),e&&(()=>{const _=l(j.id);return n.jsx(z,{variant:_?"default":"outline",size:"icon",onClick:()=>v(j.id),disabled:y[j.id],className:_?"bg-green-600 hover:bg-green-700":"",title:_?"Unsubscribe from club updates":"Subscribe to club updates",children:y[j.id]?n.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):_?n.jsx(F_,{className:"h-4 w-4"}):n.jsx(Cn,{className:"h-4 w-4"})})})(),n.jsx(z,{variant:"outline",size:"icon",children:n.jsx(Tx,{className:"h-4 w-4"})})]})]})]},j.id)})}),n.jsx("div",{className:"text-center mt-12",children:n.jsxs(J,{className:"p-8 bg-gradient-accent border-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-accent-foreground mb-4",children:"Can't find what you're looking for?"}),n.jsx("p",{className:"text-accent-foreground/80 mb-6",children:"Start your own club and bring together students with similar interests"}),n.jsx(z,{variant:"secondary",size:"lg",children:"Contact Us"})]})})]})})};var j5="Label",kC=u.forwardRef((e,t)=>n.jsx(Te.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));kC.displayName=j5;var TC=kC;const _5=Rh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=u.forwardRef(({className:e,...t},r)=>n.jsx(TC,{ref:r,className:je(_5(),e),...t}));ee.displayName=TC.displayName;const Xe=u.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Xe.displayName="Textarea";var wm=0;function AC(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??v0()),document.body.insertAdjacentElement("beforeend",e[1]??v0()),wm++,()=>{wm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wm--}},[])}function v0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bm="focusScope.autoFocusOnMount",jm="focusScope.autoFocusOnUnmount",y0={bubbles:!1,cancelable:!0},N5="FocusScope",vv=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=At(a),h=At(i),f=u.useRef(null),m=Ke(t,x=>c(x)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let x=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:zs(f.current,{select:!0})},y=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||zs(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&zs(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),v.disconnect()}}},[s,l,p.paused]),u.useEffect(()=>{if(l){b0.add(p);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(bm,y0);l.addEventListener(bm,d),l.dispatchEvent(w),w.defaultPrevented||(S5(A5(PC(l)),{select:!0}),document.activeElement===x&&zs(l))}return()=>{l.removeEventListener(bm,d),setTimeout(()=>{const w=new CustomEvent(jm,y0);l.addEventListener(jm,h),l.dispatchEvent(w),w.defaultPrevented||zs(x??document.body,{select:!0}),l.removeEventListener(jm,h),b0.remove(p)},0)}}},[l,d,h,p]);const g=u.useCallback(x=>{if(!r&&!s||p.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const v=x.currentTarget,[b,j]=C5(v);b&&j?!x.shiftKey&&w===j?(x.preventDefault(),r&&zs(b,{select:!0})):x.shiftKey&&w===b&&(x.preventDefault(),r&&zs(j,{select:!0})):w===v&&x.preventDefault()}},[r,s,p.paused]);return n.jsx(Te.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});vv.displayName=N5;function S5(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(zs(s,{select:t}),document.activeElement!==r)return}function C5(e){const t=PC(e),r=w0(t,e),s=w0(t.reverse(),e);return[r,s]}function PC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function w0(e,t){for(const r of e)if(!E5(r,{upTo:t}))return r}function E5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function k5(e){return e instanceof HTMLInputElement&&"select"in e}function zs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&k5(e)&&t&&e.select()}}var b0=T5();function T5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=j0(e,t),e.unshift(t)},remove(t){var r;e=j0(e,t),(r=e[0])==null||r.resume()}}}function j0(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function A5(e){return e.filter(t=>t.tagName!=="A")}function yv(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var RC=cS(),_m=function(){},af=u.forwardRef(function(e,t){var r=u.useRef(null),s=u.useState({onScrollCapture:_m,onWheelCapture:_m,onTouchMoveCapture:_m}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noIsolation,g=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,v=e.gapMode,b=sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=lS([r,t]),C=ir(ir({},b),a);return u.createElement(u.Fragment,null,h&&u.createElement(j,{sideCar:RC,removeScrollBar:d,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:v}),o?u.cloneElement(u.Children.only(l),ir(ir({},C),{ref:N})):u.createElement(w,ir({},C,{className:c,ref:N}),l))});af.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};af.classNames={fullWidth:Yl,zeroRight:Kl};var og=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return og=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{og=!1}var Vi=og?{passive:!1}:!1,P5=function(e){return e.tagName==="TEXTAREA"},DC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!P5(e)&&r[t]==="visible")},R5=function(e){return DC(e,"overflowY")},D5=function(e){return DC(e,"overflowX")},_0=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=OC(e,s);if(a){var i=MC(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},O5=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},M5=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},OC=function(e,t){return e==="v"?R5(t):D5(t)},MC=function(e,t){return e==="v"?O5(t):M5(t)},I5=function(e,t){return e==="h"&&t==="rtl"?-1:1},L5=function(e,t,r,s,a){var i=I5(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,h=o>0,f=0,m=0;do{var p=MC(e,l),g=p[0],x=p[1],y=p[2],w=x-y-i*g;(g||w)&&OC(e,l)&&(f+=w,m+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!a)||!h&&(Math.abs(m)<1||!a))&&(d=!0),d},Md=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N0=function(e){return[e.deltaX,e.deltaY]},S0=function(e){return e&&"current"in e?e.current:e},$5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},U5=0,qi=[];function z5(e){var t=u.useRef([]),r=u.useRef([0,0]),s=u.useRef(),a=u.useState(U5++)[0],i=u.useState(av)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=oS([e.lockRef.current],(e.shards||[]).map(S0),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=Md(x),v=r.current,b="deltaX"in x?x.deltaX:v[0]-w[0],j="deltaY"in x?x.deltaY:v[1]-w[1],N,C=x.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&C.type==="range")return!1;var k=_0(_,C);if(!k)return!0;if(k?N=_:(N=_==="v"?"h":"v",k=_0(_,C)),!k)return!1;if(!s.current&&"changedTouches"in x&&(b||j)&&(s.current=N),!N)return!0;var E=s.current||N;return L5(E,y,x,E==="h"?b:j,!0)},[]),c=u.useCallback(function(x){var y=x;if(!(!qi.length||qi[qi.length-1]!==i)){var w="deltaY"in y?N0(y):Md(y),v=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&$5(N.delta,w)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(S0).filter(Boolean).filter(function(N){return N.contains(y.target)}),j=b.length>0?l(y,b[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),d=u.useCallback(function(x,y,w,v){var b={name:x,delta:y,target:w,should:v,shadowParent:B5(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),h=u.useCallback(function(x){r.current=Md(x),s.current=void 0},[]),f=u.useCallback(function(x){d(x.type,N0(x),x.target,l(x,e.lockRef.current))},[]),m=u.useCallback(function(x){d(x.type,Md(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return qi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Vi),document.addEventListener("touchmove",c,Vi),document.addEventListener("touchstart",h,Vi),function(){qi=qi.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Vi),document.removeEventListener("touchmove",c,Vi),document.removeEventListener("touchstart",h,Vi)}},[]);var p=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(i,{styles:F5(a)}):null,p?u.createElement(fS,{gapMode:e.gapMode}):null)}function B5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const V5=uS(RC,z5);var wv=u.forwardRef(function(e,t){return u.createElement(af,ir({},e,{ref:t,sideCar:V5}))});wv.classNames=af.classNames;var q5=[" ","Enter","ArrowUp","ArrowDown"],W5=[" ","Enter"],Zc="Select",[of,lf,H5]=bx(Zc),[nl,Cz]=Yn(Zc,[H5,$h]),cf=$h(),[G5,Ia]=nl(Zc),[K5,Y5]=nl(Zc),IC=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:p,form:g}=e,x=cf(t),[y,w]=u.useState(null),[v,b]=u.useState(null),[j,N]=u.useState(!1),C=rf(d),[_=!1,k]=_a({prop:s,defaultProp:a,onChange:i}),[E,M]=_a({prop:o,defaultProp:l,onChange:c}),H=u.useRef(null),A=y?g||!!y.closest("form"):!0,[P,T]=u.useState(new Set),R=Array.from(P).map(F=>F.props.value).join(";");return n.jsx(UD,{...x,children:n.jsxs(G5,{required:p,scope:t,trigger:y,onTriggerChange:w,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:xa(),value:E,onValueChange:M,open:_,onOpenChange:k,dir:C,triggerPointerDownPosRef:H,disabled:m,children:[n.jsx(of.Provider,{scope:t,children:n.jsx(K5,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(F=>{T(D=>new Set(D).add(F))},[]),onNativeOptionRemove:u.useCallback(F=>{T(D=>{const O=new Set(D);return O.delete(F),O})},[]),children:r})}),A?n.jsxs(oE,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:F=>M(F.target.value),disabled:m,form:g,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(P)]},R):null]})})};IC.displayName=Zc;var LC="SelectTrigger",$C=u.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=cf(r),o=Ia(LC,r),l=o.disabled||s,c=Ke(t,o.onTriggerChange),d=lf(r),h=u.useRef("touch"),[f,m,p]=lE(x=>{const y=d().filter(b=>!b.disabled),w=y.find(b=>b.value===o.value),v=cE(y,x,w);v!==void 0&&o.onValueChange(v.value)}),g=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(EN,{asChild:!0,...i,children:n.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iE(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&g(x)}),onPointerDown:Ne(a.onPointerDown,x=>{h.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:Ne(a.onKeyDown,x=>{const y=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&q5.includes(x.key)&&(g(),x.preventDefault())})})})});$C.displayName=LC;var FC="SelectValue",UC=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ia(FC,r),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Ke(t,c.onValueNodeChange);return zt(()=>{d(h)},[d,h]),n.jsx(Te.span,{...l,ref:f,style:{pointerEvents:"none"},children:iE(c.value)?n.jsx(n.Fragment,{children:o}):i})});UC.displayName=FC;var Q5="SelectIcon",zC=u.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Te.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});zC.displayName=Q5;var Z5="SelectPortal",BC=e=>n.jsx(Th,{asChild:!0,...e});BC.displayName=Z5;var xi="SelectContent",VC=u.forwardRef((e,t)=>{const r=Ia(xi,e.__scopeSelect),[s,a]=u.useState();if(zt(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Da.createPortal(n.jsx(qC,{scope:e.__scopeSelect,children:n.jsx(of.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(WC,{...e,ref:t})});VC.displayName=xi;var mn=10,[qC,La]=nl(xi),J5="SelectContentImpl",WC=u.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y,...w}=e,v=Ia(xi,r),[b,j]=u.useState(null),[N,C]=u.useState(null),_=Ke(t,K=>j(K)),[k,E]=u.useState(null),[M,H]=u.useState(null),A=lf(r),[P,T]=u.useState(!1),R=u.useRef(!1);u.useEffect(()=>{if(b)return nv(b)},[b]),AC();const F=u.useCallback(K=>{const[ce,...ve]=A().map(ne=>ne.ref.current),[_e]=ve.slice(-1),V=document.activeElement;for(const ne of K)if(ne===V||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===ce&&N&&(N.scrollTop=0),ne===_e&&N&&(N.scrollTop=N.scrollHeight),ne==null||ne.focus(),document.activeElement!==V))return},[A,N]),D=u.useCallback(()=>F([k,b]),[F,k,b]);u.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:O,triggerPointerDownPosRef:L}=v;u.useEffect(()=>{if(b){let K={x:0,y:0};const ce=_e=>{var V,ne;K={x:Math.abs(Math.round(_e.pageX)-(((V=L.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((ne=L.current)==null?void 0:ne.y)??0))}},ve=_e=>{K.x<=10&&K.y<=10?_e.preventDefault():b.contains(_e.target)||O(!1),document.removeEventListener("pointermove",ce),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ve,{capture:!0})}}},[b,O,L]),u.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[Y,B]=lE(K=>{const ce=A().filter(V=>!V.disabled),ve=ce.find(V=>V.ref.current===document.activeElement),_e=cE(ce,K,ve);_e&&setTimeout(()=>_e.ref.current.focus())}),Q=u.useCallback((K,ce,ve)=>{const _e=!R.current&&!ve;(v.value!==void 0&&v.value===ce||_e)&&(E(K),_e&&(R.current=!0))},[v.value]),ue=u.useCallback(()=>b==null?void 0:b.focus(),[b]),pe=u.useCallback((K,ce,ve)=>{const _e=!R.current&&!ve;(v.value!==void 0&&v.value===ce||_e)&&H(K)},[v.value]),Oe=s==="popper"?lg:HC,I=Oe===lg?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y}:{};return n.jsx(qC,{scope:r,content:b,viewport:N,onViewportChange:C,itemRefCallback:Q,selectedItem:k,onItemLeave:ue,itemTextRefCallback:pe,focusSelectedItem:D,selectedItemText:M,position:s,isPositioned:P,searchRef:Y,children:n.jsx(wv,{as:ja,allowPinchZoom:!0,children:n.jsx(vv,{asChild:!0,trapped:v.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Ne(a,K=>{var ce;(ce=v.trigger)==null||ce.focus({preventScroll:!0}),K.preventDefault()}),children:n.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(Oe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:K=>K.preventDefault(),...w,...I,onPlaced:()=>T(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ne(w.onKeyDown,K=>{const ce=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ce&&K.key.length===1&&B(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let _e=A().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(K.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const V=K.target,ne=_e.indexOf(V);_e=_e.slice(ne+1)}setTimeout(()=>F(_e)),K.preventDefault()}})})})})})})});WC.displayName=J5;var X5="SelectItemAlignedPosition",HC=u.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Ia(xi,r),o=La(xi,r),[l,c]=u.useState(null),[d,h]=u.useState(null),f=Ke(t,_=>h(_)),m=lf(r),p=u.useRef(!1),g=u.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:w,focusSelectedItem:v}=o,b=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&y&&w){const _=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(i.dir!=="rtl"){const V=M.left-k.left,ne=E.left-V,Ce=_.left-ne,Se=_.width+Ce,xt=Math.max(Se,k.width),Ot=window.innerWidth-mn,Wt=ig(ne,[mn,Math.max(mn,Ot-xt)]);l.style.minWidth=Se+"px",l.style.left=Wt+"px"}else{const V=k.right-M.right,ne=window.innerWidth-E.right-V,Ce=window.innerWidth-_.right-ne,Se=_.width+Ce,xt=Math.max(Se,k.width),Ot=window.innerWidth-mn,Wt=ig(ne,[mn,Math.max(mn,Ot-xt)]);l.style.minWidth=Se+"px",l.style.right=Wt+"px"}const H=m(),A=window.innerHeight-mn*2,P=x.scrollHeight,T=window.getComputedStyle(d),R=parseInt(T.borderTopWidth,10),F=parseInt(T.paddingTop,10),D=parseInt(T.borderBottomWidth,10),O=parseInt(T.paddingBottom,10),L=R+F+P+O+D,Y=Math.min(y.offsetHeight*5,L),B=window.getComputedStyle(x),Q=parseInt(B.paddingTop,10),ue=parseInt(B.paddingBottom,10),pe=_.top+_.height/2-mn,Oe=A-pe,I=y.offsetHeight/2,K=y.offsetTop+I,ce=R+F+K,ve=L-ce;if(ce<=pe){const V=H.length>0&&y===H[H.length-1].ref.current;l.style.bottom="0px";const ne=d.clientHeight-x.offsetTop-x.offsetHeight,Ce=Math.max(Oe,I+(V?ue:0)+ne+D),Se=ce+Ce;l.style.height=Se+"px"}else{const V=H.length>0&&y===H[0].ref.current;l.style.top="0px";const Ce=Math.max(pe,R+x.offsetTop+(V?Q:0)+I)+ve;l.style.height=Ce+"px",x.scrollTop=ce-pe+x.offsetTop}l.style.margin=`${mn}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=A+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,y,w,i.dir,s]);zt(()=>b(),[b]);const[j,N]=u.useState();zt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const C=u.useCallback(_=>{_&&g.current===!0&&(b(),v==null||v(),g.current=!1)},[b,v]);return n.jsx(t6,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(Te.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});HC.displayName=X5;var e6="SelectPopperPosition",lg=u.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=mn,...i}=e,o=cf(r);return n.jsx(kN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lg.displayName=e6;var[t6,bv]=nl(xi,{}),cg="SelectViewport",GC=u.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=La(cg,r),o=bv(cg,r),l=Ke(t,i.onViewportChange),c=u.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(of.Slot,{scope:r,children:n.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const g=window.innerHeight-mn*2,x=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(x,y);if(w<g){const v=w+p,b=Math.min(g,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});GC.displayName=cg;var KC="SelectGroup",[r6,n6]=nl(KC),s6=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=xa();return n.jsx(r6,{scope:r,id:a,children:n.jsx(Te.div,{role:"group","aria-labelledby":a,...s,ref:t})})});s6.displayName=KC;var YC="SelectLabel",QC=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=n6(YC,r);return n.jsx(Te.div,{id:a.id,...s,ref:t})});QC.displayName=YC;var Wu="SelectItem",[a6,ZC]=nl(Wu),JC=u.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ia(Wu,r),c=La(Wu,r),d=l.value===s,[h,f]=u.useState(i??""),[m,p]=u.useState(!1),g=Ke(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,s,a)}),x=xa(),y=u.useRef("touch"),w=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(a6,{scope:r,value:s,disabled:a,textId:x,isSelected:d,onItemTextChange:u.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(of.ItemSlot,{scope:r,value:s,disabled:a,textValue:h,children:n.jsx(Te.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Ne(o.onFocus,()=>p(!0)),onBlur:Ne(o.onBlur,()=>p(!1)),onClick:Ne(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Ne(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Ne(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:Ne(o.onPointerMove,v=>{var b;y.current=v.pointerType,a?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ne(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(W5.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});JC.displayName=Wu;var _l="SelectItemText",XC=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Ia(_l,r),l=La(_l,r),c=ZC(_l,r),d=Y5(_l,r),[h,f]=u.useState(null),m=Ke(t,w=>f(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),p=h==null?void 0:h.textContent,g=u.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return zt(()=>(x(g),()=>y(g)),[x,y,g]),n.jsxs(n.Fragment,{children:[n.jsx(Te.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Da.createPortal(i.children,o.valueNode):null]})});XC.displayName=_l;var eE="SelectItemIndicator",tE=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return ZC(eE,r).isSelected?n.jsx(Te.span,{"aria-hidden":!0,...s,ref:t}):null});tE.displayName=eE;var dg="SelectScrollUpButton",rE=u.forwardRef((e,t)=>{const r=La(dg,e.__scopeSelect),s=bv(dg,e.__scopeSelect),[a,i]=u.useState(!1),o=Ke(t,s.onScrollButtonChange);return zt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(sE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rE.displayName=dg;var ug="SelectScrollDownButton",nE=u.forwardRef((e,t)=>{const r=La(ug,e.__scopeSelect),s=bv(ug,e.__scopeSelect),[a,i]=u.useState(!1),o=Ke(t,s.onScrollButtonChange);return zt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(sE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nE.displayName=ug;var sE=u.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=La("SelectScrollButton",r),o=u.useRef(null),l=lf(r),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),zt(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),n.jsx(Te.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),i6="SelectSeparator",aE=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Te.div,{"aria-hidden":!0,...s,ref:t})});aE.displayName=i6;var hg="SelectArrow",o6=u.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=cf(r),i=Ia(hg,r),o=La(hg,r);return i.open&&o.position==="popper"?n.jsx(TN,{...a,...s,ref:t}):null});o6.displayName=hg;function iE(e){return e===""||e===void 0}var oE=u.forwardRef((e,t)=>{const{value:r,...s}=e,a=u.useRef(null),i=Ke(t,a),o=yv(r);return u.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Uc,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});oE.displayName="BubbleSelect";function lE(e){const t=At(e),r=u.useRef(""),s=u.useRef(0),a=u.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=u.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function cE(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=l6(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function l6(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var c6=IC,dE=$C,d6=UC,u6=zC,h6=BC,uE=VC,f6=GC,hE=QC,fE=JC,m6=XC,p6=tE,mE=rE,pE=nE,gE=aE;const ct=c6,dt=d6,st=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(dE,{ref:s,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(u6,{asChild:!0,children:n.jsx(U_,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=dE.displayName;const xE=u.forwardRef(({className:e,...t},r)=>n.jsx(mE,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(i4,{className:"h-4 w-4"})}));xE.displayName=mE.displayName;const vE=u.forwardRef(({className:e,...t},r)=>n.jsx(pE,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(U_,{className:"h-4 w-4"})}));vE.displayName=pE.displayName;const at=u.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(h6,{children:n.jsxs(uE,{ref:a,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(xE,{}),n.jsx(f6,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(vE,{})]})}));at.displayName=uE.displayName;const g6=u.forwardRef(({className:e,...t},r)=>n.jsx(hE,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));g6.displayName=hE.displayName;const ge=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(fE,{ref:s,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(p6,{children:n.jsx(Dh,{className:"h-4 w-4"})})}),n.jsx(m6,{children:t})]}));ge.displayName=fE.displayName;const x6=u.forwardRef(({className:e,...t},r)=>n.jsx(gE,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));x6.displayName=gE.displayName;var jv="Dialog",[yE,wE]=Yn(jv),[v6,Pn]=yE(jv),bE=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,h]=_a({prop:s,defaultProp:a,onChange:i});return n.jsx(v6,{scope:t,triggerRef:l,contentRef:c,contentId:xa(),titleId:xa(),descriptionId:xa(),open:d,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(f=>!f),[h]),modal:o,children:r})};bE.displayName=jv;var jE="DialogTrigger",_E=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Pn(jE,r),i=Ke(t,a.triggerRef);return n.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Sv(a.open),...s,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});_E.displayName=jE;var _v="DialogPortal",[y6,NE]=yE(_v,{forceMount:void 0}),SE=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Pn(_v,t);return n.jsx(y6,{scope:t,forceMount:r,children:u.Children.map(s,o=>n.jsx(dn,{present:r||i.open,children:n.jsx(Th,{asChild:!0,container:a,children:o})}))})};SE.displayName=_v;var Hu="DialogOverlay",CE=u.forwardRef((e,t)=>{const r=NE(Hu,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Pn(Hu,e.__scopeDialog);return i.modal?n.jsx(dn,{present:s||i.open,children:n.jsx(w6,{...a,ref:t})}):null});CE.displayName=Hu;var w6=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Pn(Hu,r);return n.jsx(wv,{as:ja,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Te.div,{"data-state":Sv(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),vi="DialogContent",EE=u.forwardRef((e,t)=>{const r=NE(vi,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Pn(vi,e.__scopeDialog);return n.jsx(dn,{present:s||i.open,children:i.modal?n.jsx(b6,{...a,ref:t}):n.jsx(j6,{...a,ref:t})})});EE.displayName=vi;var b6=u.forwardRef((e,t)=>{const r=Pn(vi,e.__scopeDialog),s=u.useRef(null),a=Ke(t,r.contentRef,s);return u.useEffect(()=>{const i=s.current;if(i)return nv(i)},[]),n.jsx(kE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),j6=u.forwardRef((e,t)=>{const r=Pn(vi,e.__scopeDialog),s=u.useRef(!1),a=u.useRef(!1);return n.jsx(kE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kE=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Pn(vi,r),c=u.useRef(null),d=Ke(t,c);return AC(),n.jsxs(n.Fragment,{children:[n.jsx(vv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Fc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Sv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(N6,{titleId:l.titleId}),n.jsx(C6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Nv="DialogTitle",TE=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Pn(Nv,r);return n.jsx(Te.h2,{id:a.titleId,...s,ref:t})});TE.displayName=Nv;var AE="DialogDescription",PE=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Pn(AE,r);return n.jsx(Te.p,{id:a.descriptionId,...s,ref:t})});PE.displayName=AE;var RE="DialogClose",DE=u.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Pn(RE,r);return n.jsx(Te.button,{type:"button",...s,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});DE.displayName=RE;function Sv(e){return e?"open":"closed"}var OE="DialogTitleWarning",[_6,ME]=gP(OE,{contentName:vi,titleName:Nv,docsSlug:"dialog"}),N6=({titleId:e})=>{const t=ME(OE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},S6="DialogDescriptionWarning",C6=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ME(S6).contentName}}.`;return u.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},IE=bE,LE=_E,$E=SE,Cv=CE,Ev=EE,kv=TE,Tv=PE,Av=DE;const jn=IE,FE=LE,E6=$E,UE=u.forwardRef(({className:e,...t},r)=>n.jsx(Cv,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UE.displayName=Cv.displayName;const Zr=u.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(E6,{children:[n.jsx(UE,{}),n.jsxs(Ev,{ref:s,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Av,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Ni,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zr.displayName=Ev.displayName;const Jr=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jr.displayName="DialogHeader";const Zs=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zs.displayName="DialogFooter";const Xr=u.forwardRef(({className:e,...t},r)=>n.jsx(kv,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));Xr.displayName=kv.displayName;const yi=u.forwardRef(({className:e,...t},r)=>n.jsx(Tv,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));yi.displayName=Tv.displayName;const k6=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState(!1),[i,o]=u.useState(null),l=async()=>{a(!0),o(null);try{const{data:p,error:g}=await U.rpc("get_all_events_admin");if(g)throw g;r(p||[])}catch(p){console.error("Error fetching events:",p),o("Failed to fetch events")}finally{a(!1)}},c=async p=>{if(!(e!=null&&e.id))return o("User not authenticated"),null;a(!0),o(null);try{const{data:g,error:x}=await U.rpc("create_event_admin",{_title:p.title,_description:p.description,_category:p.category,_start_date:p.start_date,_start_time:p.start_time,_location:p.location,_created_by:e.id,_end_date:p.end_date||null,_end_time:p.end_time||null,_max_participants:p.max_participants||null,_registration_deadline:p.registration_deadline||null,_contact_person:p.contact_person||null,_contact_email:p.contact_email||null,_contact_phone:p.contact_phone||null,_is_public:p.is_public,_requires_approval:p.requires_approval,_status:p.status});if(x)throw x;return await l(),g}catch(g){return console.error("Error creating event:",g),o("Failed to create event"),null}finally{a(!1)}},d=async(p,g)=>{if(!(e!=null&&e.id))return o("User not authenticated"),!1;a(!0),o(null);try{const{data:x,error:y}=await U.rpc("update_event_admin",{_event_id:p,_title:g.title,_description:g.description,_category:g.category,_start_date:g.start_date,_start_time:g.start_time,_location:g.location,_user_id:e.id,_end_date:g.end_date||null,_end_time:g.end_time||null,_max_participants:g.max_participants||null,_registration_deadline:g.registration_deadline||null,_contact_person:g.contact_person||null,_contact_email:g.contact_email||null,_contact_phone:g.contact_phone||null,_is_public:g.is_public,_requires_approval:g.requires_approval,_status:g.status});if(y)throw y;return await l(),x}catch(x){return console.error("Error updating event:",x),o("Failed to update event"),!1}finally{a(!1)}},h=async p=>{if(!(e!=null&&e.id))return o("User not authenticated"),!1;a(!0),o(null);try{const{data:g,error:x}=await U.rpc("delete_event_admin",{_event_id:p,_user_id:e.id});if(x)throw x;return await l(),g}catch(g){return console.error("Error deleting event:",g),o("Failed to delete event"),!1}finally{a(!1)}},f=async p=>{const g=t.find(x=>x.id===p);return g?await d(p,{...g,status:"published"}):(o("Event not found"),!1)},m=async p=>{const g=t.find(x=>x.id===p);return g?await d(p,{...g,status:"cancelled"}):(o("Event not found"),!1)};return u.useEffect(()=>{l()},[]),{events:t,loading:s,error:i,fetchEvents:l,createEvent:c,updateEvent:d,deleteEvent:h,publishEvent:f,cancelEvent:m}},C0=()=>{const{toast:e}=lr(),{events:t,loading:r,error:s,createEvent:a,updateEvent:i,deleteEvent:o,publishEvent:l}=k6(),[c,d]=u.useState(!1),[h,f]=u.useState(null),[m,p]=u.useState({title:"",description:"",category:"",start_date:"",start_time:"",end_date:"",end_time:"",location:"",max_participants:"",registration_deadline:"",contact_person:"",contact_email:"",contact_phone:"",is_public:"true",requires_approval:"false",status:"draft"}),g=["Academic","Workshop","Seminar","Conference","Cultural","Sports","Social","Career","Technology","Arts","Other"];u.useEffect(()=>{s&&e({title:"Error",description:s,variant:"destructive"})},[s,e]);const x=E=>{const{name:M,value:H}=E.target;p(A=>({...A,[M]:H}))},y=(E,M)=>{p(H=>({...H,[E]:M}))},w=()=>{p({title:"",description:"",category:"",start_date:"",start_time:"",end_date:"",end_time:"",location:"",max_participants:"",registration_deadline:"",contact_person:"",contact_email:"",contact_phone:"",is_public:"true",requires_approval:"false",status:"draft"}),f(null)},v=async()=>{const E={title:m.title,description:m.description,category:m.category,start_date:m.start_date,start_time:m.start_time,end_date:m.end_date||void 0,end_time:m.end_time||void 0,location:m.location,max_participants:m.max_participants?parseInt(m.max_participants):void 0,registration_deadline:m.registration_deadline||void 0,contact_person:m.contact_person||void 0,contact_email:m.contact_email||void 0,contact_phone:m.contact_phone||void 0,is_public:m.is_public==="true",requires_approval:m.requires_approval==="true",status:m.status};await a(E)&&(d(!1),w(),e({title:"Event Created",description:"The event has been created successfully."}))},b=E=>{var M;f(E),p({title:E.title,description:E.description,category:E.category,start_date:E.start_date,start_time:E.start_time,end_date:E.end_date||"",end_time:E.end_time||"",location:E.location,max_participants:((M=E.max_participants)==null?void 0:M.toString())||"",registration_deadline:E.registration_deadline||"",contact_person:E.contact_person||"",contact_email:E.contact_email||"",contact_phone:E.contact_phone||"",is_public:E.is_public.toString(),requires_approval:E.requires_approval.toString(),status:E.status}),d(!0)},j=async()=>{if(!h)return;const E={title:m.title,description:m.description,category:m.category,start_date:m.start_date,start_time:m.start_time,end_date:m.end_date||void 0,end_time:m.end_time||void 0,location:m.location,max_participants:m.max_participants?parseInt(m.max_participants):void 0,registration_deadline:m.registration_deadline||void 0,contact_person:m.contact_person||void 0,contact_email:m.contact_email||void 0,contact_phone:m.contact_phone||void 0,is_public:m.is_public==="true",requires_approval:m.requires_approval==="true",status:m.status};await i(h.id,E)&&(d(!1),w(),e({title:"Event Updated",description:"The event has been updated successfully."}))},N=async E=>{await o(E)&&e({title:"Event Deleted",description:"The event has been deleted successfully."})},C=async E=>{await l(E)&&e({title:"Event Published",description:"The event is now visible to users."})},_=E=>{switch(E){case"published":return"default";case"draft":return"secondary";case"cancelled":return"destructive";default:return"secondary"}},k=(E,M)=>{const A=new Date(E).toLocaleDateString();return M?`${A} at ${M}`:A};return r?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(An,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx(J,{children:n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(De,{className:"flex items-center",children:[n.jsx($e,{className:"mr-2 h-5 w-5"}),"Event Management"]}),n.jsx(nt,{children:"Create and manage university events"})]}),n.jsxs(jn,{open:c,onOpenChange:d,children:[n.jsx(FE,{asChild:!0,children:n.jsxs(z,{onClick:w,className:"bg-gradient-hero",children:[n.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Create Event"]})}),n.jsxs(Zr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(Xr,{children:h?"Edit Event":"Create New Event"}),n.jsx(yi,{children:h?"Update the event details":"Fill in the details to create a new event"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"title",children:"Event Title *"}),n.jsx(re,{id:"title",name:"title",value:m.title,onChange:x,placeholder:"Enter event title",required:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"category",children:"Category *"}),n.jsxs(ct,{value:m.category,onValueChange:E=>y("category",E),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select category"})}),n.jsx(at,{children:g.map(E=>n.jsx(ge,{value:E,children:E},E))})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"description",children:"Description *"}),n.jsx(Xe,{id:"description",name:"description",value:m.description,onChange:x,placeholder:"Describe the event",rows:4,required:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"location",children:"Location *"}),n.jsx(re,{id:"location",name:"location",value:m.location,onChange:x,placeholder:"Event location",required:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"max_participants",children:"Max Participants"}),n.jsx(re,{id:"max_participants",name:"max_participants",type:"number",value:m.max_participants,onChange:x,placeholder:"e.g., 100"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(re,{id:"start_date",name:"start_date",type:"date",value:m.start_date,onChange:x,required:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"start_time",children:"Start Time *"}),n.jsx(re,{id:"start_time",name:"start_time",type:"time",value:m.start_time,onChange:x,required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"end_date",children:"End Date"}),n.jsx(re,{id:"end_date",name:"end_date",type:"date",value:m.end_date,onChange:x})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"end_time",children:"End Time"}),n.jsx(re,{id:"end_time",name:"end_time",type:"time",value:m.end_time,onChange:x})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"registration_deadline",children:"Registration Deadline"}),n.jsx(re,{id:"registration_deadline",name:"registration_deadline",type:"datetime-local",value:m.registration_deadline,onChange:x})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"contact_person",children:"Contact Person"}),n.jsx(re,{id:"contact_person",name:"contact_person",value:m.contact_person,onChange:x,placeholder:"Event organizer"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"contact_email",children:"Contact Email"}),n.jsx(re,{id:"contact_email",name:"contact_email",type:"email",value:m.contact_email,onChange:x,placeholder:"organizer@university.edu"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"contact_phone",children:"Contact Phone"}),n.jsx(re,{id:"contact_phone",name:"contact_phone",value:m.contact_phone,onChange:x,placeholder:"+880 1234-567890"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"is_public",children:"Visibility"}),n.jsxs(ct,{value:m.is_public,onValueChange:E=>y("is_public",E),children:[n.jsx(st,{children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"true",children:"Public"}),n.jsx(ge,{value:"false",children:"Private"})]})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"requires_approval",children:"Registration"}),n.jsxs(ct,{value:m.requires_approval,onValueChange:E=>y("requires_approval",E),children:[n.jsx(st,{children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"false",children:"Automatic"}),n.jsx(ge,{value:"true",children:"Requires Approval"})]})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"status",children:"Status"}),n.jsxs(ct,{value:m.status,onValueChange:E=>y("status",E),children:[n.jsx(st,{children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"draft",children:"Draft"}),n.jsx(ge,{value:"published",children:"Published"}),n.jsx(ge,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 mt-6",children:[n.jsx(z,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(z,{onClick:h?j:v,children:h?"Update Event":"Create Event"})]})]})]})]})})}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsxs(De,{children:["All Events (",t.length,")"]}),n.jsx(nt,{children:"Manage all university events from here"})]}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-4",children:[t.map(E=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:E.title}),n.jsx(he,{variant:_(E.status),children:E.status.charAt(0).toUpperCase()+E.status.slice(1)}),n.jsx(he,{variant:"outline",children:E.category})]}),n.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2",children:E.description}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx($e,{className:"h-4 w-4 mr-2"}),k(E.start_date,E.start_time)]}),n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(Pr,{className:"h-4 w-4 mr-2"}),E.location]}),n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(We,{className:"h-4 w-4 mr-2"}),E.registrations_count||0," registered",E.max_participants&&` / ${E.max_participants}`]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[E.status==="draft"&&n.jsx(z,{variant:"outline",size:"sm",onClick:()=>C(E.id),children:n.jsx(cs,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>b(E),children:n.jsx(ga,{className:"h-4 w-4"})}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(E.id),children:n.jsx(Fn,{className:"h-4 w-4"})})]})]})},E.id)),t.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No events found. Create your first event!"})]})]})})]})]})},T6=["All","Conference","Workshop","Sports","Cultural","Academic","Social"],A6=()=>{const{user:e}=Ye(),{events:t,loading:r,createEvent:s,updateEvent:a,deleteEvent:i}=y5(),[o,l]=u.useState(""),[c,d]=u.useState("All"),[h,f]=u.useState("grid"),m=async y=>{try{await s({title:y.title,description:y.description,start_at:`${y.date}T${y.time}:00`,end_at:`${y.date}T${y.time}:00`,location:y.location,capacity:y.maxAttendees,status:"scheduled"})}catch(w){console.error("Error creating event:",w)}},p=async(y,w)=>{try{await a(y,{title:w.title,description:w.description,start_at:`${w.date}T${w.time}:00`,end_at:`${w.date}T${w.time}:00`,location:w.location,capacity:w.maxAttendees})}catch(v){console.error("Error updating event:",v)}},g=async y=>{try{await i(y)}catch(w){console.error("Error deleting event:",w)}},x=t.filter(y=>{const w=y.title.toLowerCase().includes(o.toLowerCase())||y.description&&y.description.toLowerCase().includes(o.toLowerCase()),v=c==="All"||y.status===c.toLowerCase();return w&&v});return n.jsx(ut,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[(e==null?void 0:e.role)==="staff"&&n.jsx("div",{className:"mb-12",children:n.jsx(C0,{events:t,onEventCreate:m,onEventUpdate:p,onEventDelete:g})}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent mb-4",children:(e==null?void 0:e.role)==="staff"?"All Campus Events":"University Events"}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:(e==null?void 0:e.role)==="staff"?"View and manage all campus events, workshops, and activities":"Discover exciting events, workshops, competitions, and activities happening on campus"})]}),(e==null?void 0:e.role)==="faculty"&&n.jsx("div",{className:"mb-8",children:n.jsx(C0,{onEventCreate:m,onEventUpdate:p,onEventDelete:g})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{placeholder:"Search events...",value:o,onChange:y=>l(y.target.value),className:"pl-10"})]}),n.jsx("div",{className:"flex gap-2 flex-wrap",children:T6.map(y=>n.jsx(z,{variant:c===y?"default":"outline",size:"sm",onClick:()=>d(y),children:y},y))}),n.jsxs(z,{variant:"outline",size:"sm",children:[n.jsx(Cx,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("p",{className:"text-muted-foreground",children:["Showing ",x.length," events"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>f("grid"),children:"Grid"}),n.jsx(z,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>f("list"),children:"List"})]})]}),r?n.jsx(An,{}):n.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:x.length===0?n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx($e,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No events found"}),n.jsx("p",{className:"text-muted-foreground",children:o||c!=="All"?"Try adjusting your search or filters":"No events have been created yet"})]}):x.map(y=>n.jsxs(J,{className:`group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-card ${h==="list"?"flex":""}`,children:[n.jsxs("div",{className:`relative ${h==="list"?"w-48 flex-shrink-0":""}`,children:[n.jsx("div",{className:`bg-gradient-to-br from-blue-500 to-purple-600 ${h==="list"?"w-full h-32":"w-full h-48"} ${h==="list"?"rounded-l-lg":"rounded-t-lg"} flex items-center justify-center`,children:n.jsx($e,{className:"h-12 w-12 text-white"})}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx(he,{variant:"secondary",className:"bg-background/80",children:y.status})})]}),n.jsxs("div",{className:"p-6 flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold group-hover:text-primary transition-colors mb-2",children:y.title}),n.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:y.description||"No description available"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx($e,{className:"h-4 w-4"}),n.jsx("span",{children:new Date(y.start_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(mr,{className:"h-4 w-4"}),n.jsx("span",{children:new Date(y.start_at).toLocaleTimeString()})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Pr,{className:"h-4 w-4"}),n.jsx("span",{children:y.location||"Location TBD"})]}),y.capacity&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsxs("span",{children:["Capacity: ",y.capacity]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{asChild:!0,className:"flex-1",children:n.jsx(Ie,{to:`/event-registration/${y.id}`,children:"Register"})}),n.jsx(z,{variant:"outline",size:"icon",children:n.jsx(Tx,{className:"h-4 w-4"})})]})]})]},y.id))}),n.jsx("div",{className:"text-center mt-12",children:n.jsxs(J,{className:"p-8 bg-gradient-accent border-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-accent-foreground mb-4",children:"Have an event idea?"}),n.jsx("p",{className:"text-accent-foreground/80 mb-6",children:"Submit your event proposal and engage the university community"}),n.jsx(z,{variant:"secondary",size:"lg",children:"Submit Event Proposal"})]})})]})})},P6=()=>{const{user:e}=Ye(),{toast:t}=lr(),[r,s]=u.useState([]);u.useState([]);const[a,i]=u.useState(!0),[o,l]=u.useState(null),[c,d]=u.useState([]),[h,f]=u.useState(!1),[m,p]=u.useState(!1),[g,x]=u.useState(!1),[y,w]=u.useState(!0),[v,b]=u.useState(""),[j,N]=u.useState("all"),[C,_]=u.useState("latest"),[k,E]=u.useState({title:"",content:"",category:"",tags:""}),[M,H]=u.useState({content:""}),A=["General Discussion","Academic","Student Life","Technology","Sports","Arts & Culture","Career & Jobs","Events","Clubs & Organizations","Other"],P=async()=>{try{i(!0);const{data:B,error:Q}=await U.from("forum_threads").select("*").order("created_at",{ascending:!1});if(Q){console.error("Error fetching threads:",Q);return}const ue=await Promise.all(B.map(async pe=>{const Oe=pe.created_by;if(Oe){const{data:I}=await U.from("users").select("full_name").eq("id",Oe).single();return{...pe,author_name:(I==null?void 0:I.full_name)||"Anonymous"}}return{...pe,author_name:"Anonymous"}}));s(ue)}catch(B){console.error("Error in fetchThreads:",B)}finally{i(!1)}},T=async B=>{try{const{data:Q,error:ue}=await U.from("forum_posts").select("*").eq("thread_id",B).order("created_at",{ascending:!0});if(ue){console.error("Error fetching posts:",ue);return}const pe=await Promise.all(Q.map(async Oe=>{const I=Oe.created_by;if(I){const{data:K}=await U.from("users").select("full_name").eq("id",I).single();return{...Oe,author_name:(K==null?void 0:K.full_name)||"Anonymous"}}return{...Oe,author_name:"Anonymous"}}));d(pe)}catch(Q){console.error("Error in fetchThreadPosts:",Q)}},R=async()=>{if(!(e!=null&&e.id)){t({title:"Error",description:"You must be logged in to create a thread",variant:"destructive"});return}if(!k.title.trim()||!k.content.trim()){t({title:"Error",description:"Title and content are required",variant:"destructive"});return}try{const B=k.tags.split(",").map(Oe=>Oe.trim()).filter(Oe=>Oe.length>0),Q={title:k.title.trim(),content:k.content.trim(),created_by:String(e.id),updated_by:String(e.id),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:ue,error:pe}=await U.from("forum_threads").insert(Q).select().single();if(pe){console.error("Error creating thread:",pe);return}t({title:"Success",description:"Thread created successfully"}),f(!1),E({title:"",content:"",category:"",tags:""}),P()}catch(B){console.error("Error in handleCreateThread:",B)}},F=async()=>{if(!(!(e!=null&&e.id)||!o)){if(!M.content.trim()){t({title:"Error",description:"Post content is required",variant:"destructive"});return}try{const B={thread_id:o.id,content:M.content.trim(),created_by:String(e.id),updated_by:String(e.id),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Q,error:ue}=await U.from("forum_posts").insert(B).select().single();if(ue){console.error("Error creating post:",ue);return}await U.from("forum_threads").update({reply_count:(o.reply_count||0)+1,last_reply_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",o.id),t({title:"Success",description:"Post created successfully"}),p(!1),H({content:""}),T(o.id),P()}catch(B){console.error("Error in handleCreatePost:",B)}}},D=async B=>{l(B),await T(B.id);try{await U.from("forum_threads").update({view_count:(B.view_count||0)+1}).eq("id",B.id),s(Q=>Q.map(ue=>ue.id===B.id?{...ue,view_count:(ue.view_count||0)+1}:ue))}catch(Q){console.error("Error updating view count:",Q)}},O=()=>{let B=r;switch(v&&(B=B.filter(Q=>Q.title.toLowerCase().includes(v.toLowerCase())||Q.content.toLowerCase().includes(v.toLowerCase())||Q.tags&&Q.tags.some(ue=>ue.toLowerCase().includes(v.toLowerCase())))),j!=="all"&&(B=B.filter(Q=>Q.category===j)),C){case"latest":B=B.sort((Q,ue)=>new Date(ue.created_at).getTime()-new Date(Q.created_at).getTime());break;case"most_replied":B=B.sort((Q,ue)=>(ue.reply_count||0)-(Q.reply_count||0));break;case"most_viewed":B=B.sort((Q,ue)=>(ue.view_count||0)-(Q.view_count||0));break;case"pinned":B=B.sort((Q,ue)=>(ue.is_pinned?1:0)-(Q.is_pinned?1:0));break}return B},L=B=>{const Q=new Date(B),pe=(new Date().getTime()-Q.getTime())/(1e3*60*60);return pe<1?"Just now":pe<24?`${Math.floor(pe)}h ago`:pe<168?`${Math.floor(pe/24)}d ago`:Q.toLocaleDateString()};u.useEffect(()=>{P()},[]);const Y=O();return n.jsx(ut,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsxs("div",{className:"lg:w-2/3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Forum"}),n.jsx("p",{className:"text-muted-foreground",children:"Join the conversation with your university community"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(z,{variant:y?"default":"secondary",size:"sm",onClick:()=>w(!y),children:y?"Replies Enabled":"Replies Disabled"}),n.jsxs(z,{onClick:()=>f(!0),children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"New Thread"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search threads...",value:v,onChange:B=>b(B.target.value),className:"pl-10"})]}),n.jsxs(ct,{value:j,onValueChange:N,children:[n.jsx(st,{className:"w-full sm:w-48",children:n.jsx(dt,{placeholder:"Category"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"all",children:"All Categories"}),A.map(B=>n.jsx(ge,{value:B,children:B},B))]})]}),n.jsxs(ct,{value:C,onValueChange:_,children:[n.jsx(st,{className:"w-full sm:w-48",children:n.jsx(dt,{placeholder:"Sort by"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"latest",children:"Latest"}),n.jsx(ge,{value:"most_replied",children:"Most Replied"}),n.jsx(ge,{value:"most_viewed",children:"Most Viewed"}),n.jsx(ge,{value:"pinned",children:"Pinned First"})]})]})]}),a?n.jsx("div",{className:"space-y-4",children:[...Array(5)].map((B,Q)=>n.jsx(J,{className:"animate-pulse",children:n.jsxs(ie,{className:"p-6",children:[n.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted rounded w-1/2 mb-4"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsx("div",{className:"h-3 bg-muted rounded w-20"}),n.jsx("div",{className:"h-3 bg-muted rounded w-16"}),n.jsx("div",{className:"h-3 bg-muted rounded w-12"})]})]})},Q))}):Y.length===0?n.jsx(J,{children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(Vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No threads found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:v||j!=="all"?"Try adjusting your search or filters":"Be the first to start a conversation!"}),!v&&j==="all"&&n.jsxs(z,{onClick:()=>f(!0),children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create First Thread"]})]})}):n.jsx("div",{className:"space-y-4",children:Y.map(B=>n.jsx(J,{className:`cursor-pointer transition-all hover:shadow-md ${(o==null?void 0:o.id)===B.id?"ring-2 ring-primary":""}`,onClick:()=>D(B),children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[B.is_pinned&&n.jsx(w4,{className:"h-4 w-4 text-yellow-500"}),B.is_locked&&n.jsx(Eu,{className:"h-4 w-4 text-red-500"}),n.jsx("h3",{className:"text-lg font-semibold line-clamp-2",children:B.title})]}),n.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-3",children:B.content}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(gs,{className:"h-3 w-3"}),B.author_name]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($e,{className:"h-3 w-3"}),L(B.created_at)]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Zf,{className:"h-3 w-3"}),B.reply_count||0," replies"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pi,{className:"h-3 w-3"}),B.view_count||0," views"]})]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[B.category&&n.jsx(he,{variant:"secondary",children:B.category}),B.tags&&B.tags.length>0&&n.jsxs("div",{className:"flex gap-1",children:[B.tags.slice(0,2).map((Q,ue)=>n.jsx(he,{variant:"outline",className:"text-xs",children:Q},ue)),B.tags.length>2&&n.jsxs(he,{variant:"outline",className:"text-xs",children:["+",B.tags.length-2]})]})]})]})})},B.id))})]}),n.jsx("div",{className:"lg:w-1/3",children:o?n.jsxs("div",{className:"space-y-4",children:[n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{className:"text-lg",children:o.title}),n.jsxs(nt,{className:"mt-2",children:["Started by ",o.author_name," •"," ",L(o.created_at)]})]})}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.category&&n.jsx(he,{variant:"secondary",children:o.category}),o.tags&&o.tags.map((B,Q)=>n.jsx(he,{variant:"outline",className:"text-xs",children:B},Q))]})]}),n.jsx(ie,{children:n.jsx("p",{className:"text-sm leading-relaxed",children:o.content})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Replies (",c.length,")"]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>x(!g),children:g?"Hide Replies":"Show Replies"}),n.jsx(z,{variant:y?"default":"secondary",size:"sm",onClick:()=>w(!y),children:y?"Replies ON":"Replies OFF"})]}),y&&n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[n.jsx(b4,{className:"h-3 w-3 mr-1"}),"Reply"]})]}),g?c.length===0?n.jsx(J,{children:n.jsxs(ie,{className:"p-6 text-center",children:[n.jsx(Zf,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"No replies yet"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Be the first to reply!"})]})}):n.jsx("div",{className:"space-y-3",children:c.map(B=>{var Q;return n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(rn,{className:"h-8 w-8",children:n.jsx(nn,{children:((Q=B.author_name)==null?void 0:Q.charAt(0))||"U"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:B.author_name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:L(B.created_at)}),B.is_edited&&n.jsx(he,{variant:"outline",className:"text-xs",children:"edited"})]}),n.jsx("p",{className:"text-sm leading-relaxed mb-2",children:B.content})]})]})})},B.id)})}):n.jsx(J,{children:n.jsxs(ie,{className:"p-6 text-center",children:[n.jsx(Zf,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:c.length===0?"No replies yet":`${c.length} replies hidden`}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.length===0?"Be the first to reply!":"Click 'Show Replies' to view them"})]})})]})]}):n.jsx(J,{children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(Vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Thread"}),n.jsx("p",{className:"text-muted-foreground",children:"Choose a thread from the list to view the discussion"})]})})})]}),n.jsx(jn,{open:h,onOpenChange:f,children:n.jsxs(Zr,{className:"max-w-2xl",children:[n.jsxs(Jr,{children:[n.jsx(Xr,{children:"Create New Thread"}),n.jsx(yi,{children:"Start a new conversation in the forum"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Title"}),n.jsx(re,{placeholder:"Enter thread title...",value:k.title,onChange:B=>E({...k,title:B.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Category"}),n.jsxs(ct,{value:k.category,onValueChange:B=>E({...k,category:B}),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select category"})}),n.jsx(at,{children:A.map(B=>n.jsx(ge,{value:B,children:B},B))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Tags (comma-separated)"}),n.jsx(re,{placeholder:"e.g., technology, programming, help",value:k.tags,onChange:B=>E({...k,tags:B.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Content"}),n.jsx(Xe,{placeholder:"Write your thread content...",value:k.content,onChange:B=>E({...k,content:B.target.value}),rows:6})]})]}),n.jsxs(Zs,{children:[n.jsx(z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(z,{onClick:R,children:"Create Thread"})]})]})}),n.jsx(jn,{open:m,onOpenChange:p,children:n.jsxs(Zr,{className:"max-w-2xl",children:[n.jsxs(Jr,{children:[n.jsx(Xr,{children:"Reply to Thread"}),n.jsx(yi,{children:"Add your response to the discussion"})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Your Reply"}),n.jsx(Xe,{placeholder:"Write your reply...",value:M.content,onChange:B=>H({...M,content:B.target.value}),rows:6})]})}),n.jsxs(Zs,{children:[n.jsx(z,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),n.jsx(z,{onClick:F,children:"Post Reply"})]})]})})]})})};var Pv="Checkbox",[R6,Ez]=Yn(Pv),[D6,O6]=R6(Pv),zE=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=e,[m,p]=u.useState(null),g=Ke(t,j=>p(j)),x=u.useRef(!1),y=m?h||!!m.closest("form"):!0,[w=!1,v]=_a({prop:a,defaultProp:i,onChange:d}),b=u.useRef(w);return u.useEffect(()=>{const j=m==null?void 0:m.form;if(j){const N=()=>v(b.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[m,v]),n.jsxs(D6,{scope:r,state:w,disabled:l,children:[n.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":ya(w)?"mixed":w,"aria-required":o,"data-state":qE(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:Ne(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ne(e.onClick,j=>{v(N=>ya(N)?!0:!N),y&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),y&&n.jsx(M6,{control:m,bubbles:!x.current,name:s,value:c,checked:w,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:ya(i)?!1:i})]})});zE.displayName=Pv;var BE="CheckboxIndicator",VE=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=O6(BE,r);return n.jsx(dn,{present:s||ya(i.state)||i.state===!0,children:n.jsx(Te.span,{"data-state":qE(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});VE.displayName=BE;var M6=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=u.useRef(null),l=yv(r),c=Lx(t);u.useEffect(()=>{const h=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:s});h.indeterminate=ya(r),p.call(h,ya(r)?!1:r),h.dispatchEvent(g)}},[l,r,s]);const d=u.useRef(ya(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ya(e){return e==="indeterminate"}function qE(e){return ya(e)?"indeterminate":e?"checked":"unchecked"}var WE=zE,I6=VE;const Jc=u.forwardRef(({className:e,...t},r)=>n.jsx(WE,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(I6,{className:je("flex items-center justify-center text-current"),children:n.jsx(Dh,{className:"h-4 w-4"})})}));Jc.displayName=WE.displayName;const L6=()=>{const[e,t]=u.useState(""),[r,s]=u.useState(""),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(!1),{login:h}=Ye(),f=Ci(),{toast:m}=lr(),p=async g=>{g.preventDefault(),d(!0);try{const{error:x}=await h(e,r);if(x){m({title:"Error",description:x.message||"Failed to sign in. Please try again.",variant:"destructive"});return}m({title:"Welcome back!",description:"You have successfully signed in."}),f("/")}catch{m({title:"Error",description:"Failed to sign in. Please try again.",variant:"destructive"})}finally{d(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-accent/10 p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Ie,{to:"/",className:"inline-block",children:n.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"BRACU Student Activity Portal"})}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome back to BRAC University Student Activity Portal"})]}),n.jsxs(J,{className:"p-8 border-0 bg-gradient-card shadow-lg",children:[n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx($o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"email",type:"email",placeholder:"your.email@g.bracu.ac.bd",value:e,onChange:g=>t(g.target.value),className:"pl-10",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Eu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:r,onChange:g=>s(g.target.value),className:"pl-10 pr-10",required:!0}),n.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?n.jsx(Tp,{className:"h-4 w-4"}):n.jsx(pi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Jc,{id:"remember",checked:o,onCheckedChange:g=>l(g)}),n.jsx(ee,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),n.jsx(Ie,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Forgot password?"})]}),n.jsxs(z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:[c?"Signing In...":"Sign In",!c&&n.jsx(zc,{className:"ml-2 h-4 w-4"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs(z,{variant:"outline",type:"button",children:[n.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",n.jsx(Ie,{to:"/signup",className:"text-primary hover:text-primary/80 font-medium",children:"Sign up for free"})]})})]}),n.jsx("div",{className:"text-center mt-8",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",n.jsx(Ie,{to:"/terms",className:"text-primary hover:text-primary/80",children:"Terms of Service"})," ","and"," ",n.jsx(Ie,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"Privacy Policy"})]})})]})})},$6=()=>{const[e,t]=u.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"",department:"",studentId:"",employeeId:"",agreeToTerms:!1}),[r,s]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(!1),{signup:c}=Ye(),d=Ci(),{toast:h}=lr(),f=(p,g)=>{t(x=>({...x,[p]:g}))},m=async p=>{if(p.preventDefault(),e.password!==e.confirmPassword){h({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}l(!0);try{const{error:g}=await c(e);if(g)throw g;h({title:"Account Created!",description:"Welcome to BRAC University Portal! You can now sign in."}),d("/signin")}catch(g){h({title:"Error",description:g.message||"Failed to create account. Please try again.",variant:"destructive"})}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-accent/10 p-4",children:n.jsxs("div",{className:"w-full max-w-lg",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Ie,{to:"/",className:"inline-block",children:n.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"BRACU Student Activity Portal"})}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Join the BRAC University Student Community today"})]}),n.jsxs(J,{className:"p-8 border-0 bg-gradient-card shadow-lg",children:[n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"firstName",children:"First Name"}),n.jsx(re,{id:"firstName",type:"text",value:e.firstName,onChange:p=>f("firstName",p.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"lastName",children:"Last Name"}),n.jsx(re,{id:"lastName",type:"text",value:e.lastName,onChange:p=>f("lastName",p.target.value),required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",children:"University Email"}),n.jsxs("div",{className:"relative",children:[n.jsx($o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"email",type:"email",placeholder:"your.email@g.bracu.ac.bd",value:e.email,onChange:p=>f("email",p.target.value),className:"pl-10",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"role",children:"Role"}),n.jsxs(ct,{value:e.role,onValueChange:p=>f("role",p),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select your role"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"student",children:"Student"}),n.jsx(ge,{value:"faculty",children:"Faculty"}),n.jsx(ge,{value:"university-staff",children:"University Staff"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"department",children:"Department/Faculty"}),n.jsxs("div",{className:"relative",children:[n.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"department",type:"text",placeholder:"Computer Science",value:e.department,onChange:p=>f("department",p.target.value),className:"pl-10",required:!0})]})]}),e.role==="student"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"studentId",children:"Student ID"}),n.jsxs("div",{className:"relative",children:[n.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"studentId",type:"text",placeholder:"STU123456",value:e.studentId,onChange:p=>f("studentId",p.target.value),className:"pl-10",required:!0})]})]}),e.role==="university-staff"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"employeeId",children:"Employee ID"}),n.jsxs("div",{className:"relative",children:[n.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"employeeId",type:"text",placeholder:"EMP1234",value:e.employeeId,onChange:p=>f("employeeId",p.target.value),className:"pl-10",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Eu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"password",type:r?"text":"password",placeholder:"Create a strong password",value:e.password,onChange:p=>f("password",p.target.value),className:"pl-10 pr-10",required:!0}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?n.jsx(Tp,{className:"h-4 w-4"}):n.jsx(pi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Eu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{id:"confirmPassword",type:a?"text":"password",placeholder:"Confirm your password",value:e.confirmPassword,onChange:p=>f("confirmPassword",p.target.value),className:"pl-10 pr-10",required:!0}),n.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?n.jsx(Tp,{className:"h-4 w-4"}):n.jsx(pi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsx("p",{children:"Password must contain:"}),n.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[n.jsx("li",{children:"At least 8 characters"}),n.jsx("li",{children:"One uppercase letter"}),n.jsx("li",{children:"One lowercase letter"}),n.jsx("li",{children:"One number"}),n.jsx("li",{children:"One special character"})]})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Jc,{id:"terms",checked:e.agreeToTerms,onCheckedChange:p=>f("agreeToTerms",p)}),n.jsxs(ee,{htmlFor:"terms",className:"text-sm leading-relaxed",children:["I agree to the"," ",n.jsx(Ie,{to:"/terms",className:"text-primary hover:text-primary/80 font-medium",children:"Terms of Service"})," ","and"," ",n.jsx(Ie,{to:"/privacy",className:"text-primary hover:text-primary/80 font-medium",children:"Privacy Policy"})]})]}),n.jsxs(z,{type:"submit",className:"w-full",size:"lg",disabled:!e.agreeToTerms||o,children:[o?"Creating Account...":"Create Account",!o&&n.jsx(zc,{className:"ml-2 h-4 w-4"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or sign up with"})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs(z,{variant:"outline",type:"button",children:[n.jsxs("svg",{className:"h-4 w-8 mr-2",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",n.jsx(Ie,{to:"/signin",className:"text-primary hover:text-primary/80 font-medium",children:"Sign in here"})]})})]})]})})};function F6(e,t=[]){let r=[];function s(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:p,...g}=f,x=(m==null?void 0:m[e][c])||l,y=u.useMemo(()=>g,Object.values(g));return n.jsx(x.Provider,{value:y,children:p})}function h(f,m){const p=(m==null?void 0:m[e][c])||l,g=u.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,U6(a,...t)]}function U6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Nm="rovingFocusGroup.onEntryFocus",z6={bubbles:!1,cancelable:!0},df="RovingFocusGroup",[fg,HE,B6]=bx(df),[V6,GE]=F6(df,[B6]),[q6,W6]=V6(df),KE=u.forwardRef((e,t)=>n.jsx(fg.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(fg.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(H6,{...e,ref:t})})}));KE.displayName=df;var H6=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=e,m=u.useRef(null),p=Ke(t,m),g=rf(i),[x=null,y]=_a({prop:o,defaultProp:l,onChange:c}),[w,v]=u.useState(!1),b=At(d),j=HE(r),N=u.useRef(!1),[C,_]=u.useState(0);return u.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Nm,b),()=>k.removeEventListener(Nm,b)},[b]),n.jsx(q6,{scope:r,orientation:s,dir:g,loop:a,currentTabStopId:x,onItemFocus:u.useCallback(k=>y(k),[y]),onItemShiftTab:u.useCallback(()=>v(!0),[]),onFocusableItemAdd:u.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:u.useCallback(()=>_(k=>k-1),[]),children:n.jsx(Te.div,{tabIndex:w||C===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{N.current=!0}),onFocus:Ne(e.onFocus,k=>{const E=!N.current;if(k.target===k.currentTarget&&E&&!w){const M=new CustomEvent(Nm,z6);if(k.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=j().filter(F=>F.focusable),A=H.find(F=>F.active),P=H.find(F=>F.id===x),R=[A,P,...H].filter(Boolean).map(F=>F.ref.current);ZE(R,h)}}N.current=!1}),onBlur:Ne(e.onBlur,()=>v(!1))})})}),YE="RovingFocusGroupItem",QE=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=xa(),c=i||l,d=W6(YE,r),h=d.currentTabStopId===c,f=HE(r),{onFocusableItemAdd:m,onFocusableItemRemove:p}=d;return u.useEffect(()=>{if(s)return m(),()=>p()},[s,m,p]),n.jsx(fg.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(Te.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ne(e.onMouseDown,g=>{s?d.onItemFocus(c):g.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ne(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=Y6(g,d.orientation,d.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=f().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const v=w.indexOf(g.currentTarget);w=d.loop?Q6(w,v+1):w.slice(v+1)}setTimeout(()=>ZE(w))}})})})});QE.displayName=YE;var G6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y6(e,t,r){const s=K6(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return G6[s]}function ZE(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Q6(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Z6=KE,J6=QE,Rv="Tabs",[X6,kz]=Yn(Rv,[GE]),JE=GE(),[eU,Dv]=X6(Rv),XE=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=rf(l),[f,m]=_a({prop:s,onChange:a,defaultProp:i});return n.jsx(eU,{scope:r,baseId:xa(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:n.jsx(Te.div,{dir:h,"data-orientation":o,...d,ref:t})})});XE.displayName=Rv;var e2="TabsList",t2=u.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=Dv(e2,r),o=JE(r);return n.jsx(Z6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});t2.displayName=e2;var r2="TabsTrigger",n2=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=Dv(r2,r),l=JE(r),c=i2(o.baseId,s),d=o2(o.baseId,s),h=s===o.value;return n.jsx(J6,{asChild:!0,...l,focusable:!a,active:h,children:n.jsx(Te.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Ne(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!a&&f&&o.onValueChange(s)})})})});n2.displayName=r2;var s2="TabsContent",a2=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=Dv(s2,r),c=i2(l.baseId,s),d=o2(l.baseId,s),h=s===l.value,f=u.useRef(h);return u.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(dn,{present:a||h,children:({present:m})=>n.jsx(Te.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});a2.displayName=s2;function i2(e,t){return`${e}-trigger-${t}`}function o2(e,t){return`${e}-content-${t}`}var tU=XE,l2=t2,c2=n2,d2=a2;const $a=tU,Fa=u.forwardRef(({className:e,...t},r)=>n.jsx(l2,{ref:r,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fa.displayName=l2.displayName;const mt=u.forwardRef(({className:e,...t},r)=>n.jsx(c2,{ref:r,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=c2.displayName;const rt=u.forwardRef(({className:e,...t},r)=>n.jsx(d2,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));rt.displayName=d2.displayName;function rU(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),{user:o}=Ye(),l=async()=>{if(!(o!=null&&o.id)){t([]),s(!1);return}try{s(!0),i(null),await U.rpc("set_session_context",{user_id:o.id});const{data:c,error:d}=await U.from("event_registrations").select(`
          id,
          status as registration_status,
          registered_at,
          events (
            id,
            title,
            description,
            start_at,
            end_at,
            location,
            status
          )
        `).eq("user_id",o.id).order("registered_at",{ascending:!1}).limit(5);if(d)throw d;const h=(c||[]).filter(f=>f.events).map(f=>({id:f.events.id,title:f.events.title,description:f.events.description,start_at:f.events.start_at,end_at:f.events.end_at,location:f.events.location,status:f.events.status,registered_at:f.registered_at,registration_status:f.registration_status}));t(h)}catch(c){console.error("Error fetching user events:",c),i(c instanceof Error?c.message:"Failed to fetch events")}finally{s(!1)}};return u.useEffect(()=>{l()},[o==null?void 0:o.id]),{events:e,loading:r,error:a,refetch:l}}function nU(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),{user:o}=Ye(),l=async()=>{if(!(o!=null&&o.id)){s(!1);return}try{s(!0),i(null);const{data:c,error:d}=await U.from("club_membership_application").select(`
          id,
          club_id,
          motivation,
          experience,
          skills,
          availability,
          expectations,
          status,
          application_date,
          agreed_to_terms,
          created_at
        `).eq("applicant_id",o.id).order("created_at",{ascending:!1});if(d){console.error("Error fetching user applications:",d),i(d.message);return}if(!c||c.length===0){t([]);return}const h=[...new Set(c.map(x=>x.club_id))],{data:f,error:m}=await U.from("clubs").select("id, name").in("id",h);m&&console.warn("Error fetching club names:",m);const p=new Map;f&&f.forEach(x=>{p.set(x.id,x.name)});const g=c.map(x=>({...x,club_name:p.get(x.club_id)||`Club ${x.club_id.slice(0,8)}...`}));console.log("User applications fetched:",g),t(g)}catch(c){console.error("Error in fetchUserApplications:",c),i(c instanceof Error?c.message:"Failed to fetch applications")}finally{s(!1)}};return u.useEffect(()=>{l()},[o==null?void 0:o.id]),{applications:e,loading:r,error:a,refetch:l}}const u2="dcyvcrdu2",sU="unsignset",aU=async(e,t="profile-images")=>new Promise((r,s)=>{const a=new FormData;a.append("file",e),a.append("upload_preset",sU),a.append("folder",t),fetch(`https://api.cloudinary.com/v1_1/${u2}/image/upload`,{method:"POST",body:a}).then(i=>i.json()).then(i=>{i.secure_url?r(i.secure_url):s(new Error("Upload failed"))}).catch(i=>{s(i)})}),iU=e=>{try{const t=e.split("/"),r=t.findIndex(s=>s==="upload");return r!==-1&&r+2<t.length?t.slice(r+2).join("/").split(".")[0]:null}catch(t){return console.error("Error extracting public ID:",t),null}},oU=(e,t=400,r=400)=>{try{const s=iU(e);return s?`https://res.cloudinary.com/${u2}/image/upload/w_${t},h_${r},c_fill,g_face,f_auto/${s}`:e}catch(s){return console.error("Error optimizing image URL:",s),e}},lU=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState(new Date),[l,c]=u.useState("month"),[d,h]=u.useState({type:"all",category:"all",priority:"all",search:""}),[f,m]=u.useState(!1),[p,g]=u.useState({title:"",description:"",date:"",start_time:"",end_time:"",location:"",agenda:"",attendees:[]}),[x,y]=u.useState([]),w=async()=>{try{a(!0);const{data:E,error:M}=await U.from("calendar_events").select("*").order("start_date",{ascending:!0});if(M){console.error("Error fetching events:",M);return}r(E||[])}catch(E){console.error("Error in fetchEvents:",E)}finally{a(!1)}},v=async()=>{if(e)try{let E;if(e.role==="admin")E=U.from("clubs").select("*");else if(e.club_admin)E=U.from("clubs").select("*").or(`created_by.eq.${e.id},id.eq.${e.club_admin}`);else{const{data:M}=await U.from("club_membership_application").select("club_id").eq("user_id",e.id).eq("status","approved");if(M&&M.length>0){const H=M.map(A=>A.club_id);E=U.from("clubs").select("*").in("id",H)}else{y([]);return}}if(E){const{data:M,error:H}=await E;!H&&M&&y(M)}}catch(E){console.error("Error fetching user clubs:",E)}},b=async()=>{if(e)try{const E=new Date(`${p.date}T${p.start_time}`),M=new Date(`${p.date}T${p.end_time}`),H={title:p.title,description:p.description,start_date:p.date,end_date:p.date,start_time:p.start_time,end_time:p.end_time,location:p.location,type:"meeting",category:"Club Meeting",priority:"medium",created_by:e.id,is_all_day:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:A,error:P}=await U.from("calendar_events").insert([H]).select().single();if(P){console.error("Error creating meeting:",P),ia({title:"Error",description:"Failed to create meeting",variant:"destructive"});return}g({title:"",description:"",date:"",start_time:"",end_time:"",location:"",agenda:"",attendees:[]}),m(!1),w(),ia({title:"Meeting Created",description:"Meeting has been scheduled successfully"})}catch(E){console.error("Error in handleCreateMeeting:",E),ia({title:"Error",description:"Failed to create meeting",variant:"destructive"})}},j=t.filter(E=>!(d.type!=="all"&&E.type!==d.type||d.category!=="all"&&E.category!==d.category||d.priority!=="all"&&E.priority!==d.priority||d.search&&!E.title.toLowerCase().includes(d.search.toLowerCase()))),N=E=>{const M=E.toISOString().split("T")[0];return j.filter(H=>H.start_date===M)},C=E=>{switch(E){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=E=>{switch(E){case"event":return n.jsx($e,{className:"h-4 w-4"});case"deadline":return n.jsx(mr,{className:"h-4 w-4"});case"meeting":return n.jsx(We,{className:"h-4 w-4"});case"exam":return n.jsx($e,{className:"h-4 w-4"});case"holiday":return n.jsx($e,{className:"h-4 w-4"});default:return n.jsx($e,{className:"h-4 w-4"})}},k=()=>{const E=i.getFullYear(),M=i.getMonth(),H=new Date(E,M,1),A=new Date(E,M+1,0),P=new Date(H);P.setDate(P.getDate()-H.getDay());const T=[],R=new Date(P);for(;R<=A||T.length<42;)T.push(new Date(R)),R.setDate(R.getDate()+1);return T};return u.useEffect(()=>{w(),v()},[e]),s?n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{children:"University Calendar"})}),n.jsx(ie,{children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx($e,{className:"h-5 w-5"}),"University Calendar"]}),n.jsx(nt,{children:"All university activities, deadlines, and important dates"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.club_admin))&&n.jsxs(jn,{open:f,onOpenChange:m,children:[n.jsx(FE,{asChild:!0,children:n.jsxs(z,{children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})}),n.jsxs(Zr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsx(Xr,{children:"Schedule New Meeting"}),n.jsx(yi,{children:"Create a new meeting for your club or organization"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-title",children:"Meeting Title"}),n.jsx(re,{id:"meeting-title",value:p.title,onChange:E=>g(M=>({...M,title:E.target.value})),placeholder:"Enter meeting title"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-description",children:"Description"}),n.jsx(Xe,{id:"meeting-description",value:p.description,onChange:E=>g(M=>({...M,description:E.target.value})),placeholder:"Enter meeting description"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-date",children:"Date"}),n.jsx(re,{id:"meeting-date",type:"date",value:p.date,onChange:E=>g(M=>({...M,date:E.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-location",children:"Location"}),n.jsx(re,{id:"meeting-location",value:p.location,onChange:E=>g(M=>({...M,location:E.target.value})),placeholder:"Meeting location"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-start-time",children:"Start Time"}),n.jsx(re,{id:"meeting-start-time",type:"time",value:p.start_time,onChange:E=>g(M=>({...M,start_time:E.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-end-time",children:"End Time"}),n.jsx(re,{id:"meeting-end-time",type:"time",value:p.end_time,onChange:E=>g(M=>({...M,end_time:E.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting-agenda",children:"Agenda"}),n.jsx(Xe,{id:"meeting-agenda",value:p.agenda,onChange:E=>g(M=>({...M,agenda:E.target.value})),placeholder:"Meeting agenda and topics"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{onClick:b,className:"flex-1",children:"Schedule Meeting"}),n.jsx(z,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})]})]})]})]})]})}),n.jsxs(ie,{children:[n.jsxs("div",{className:"mb-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search events...",value:d.search,onChange:E=>h(M=>({...M,search:E.target.value})),className:"pl-10"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ct,{value:d.type,onValueChange:E=>h(M=>({...M,type:E})),children:[n.jsx(st,{className:"w-32",children:n.jsx(dt,{placeholder:"Type"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"all",children:"All Types"}),n.jsx(ge,{value:"event",children:"Events"}),n.jsx(ge,{value:"deadline",children:"Deadlines"}),n.jsx(ge,{value:"meeting",children:"Meetings"}),n.jsx(ge,{value:"exam",children:"Exams"}),n.jsx(ge,{value:"holiday",children:"Holidays"})]})]}),n.jsxs(ct,{value:d.priority,onValueChange:E=>h(M=>({...M,priority:E})),children:[n.jsx(st,{className:"w-32",children:n.jsx(dt,{placeholder:"Priority"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"all",children:"All Priorities"}),n.jsx(ge,{value:"high",children:"High"}),n.jsx(ge,{value:"medium",children:"Medium"}),n.jsx(ge,{value:"low",children:"Low"})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:l==="month"?"default":"outline",size:"sm",onClick:()=>c("month"),children:"Month"}),n.jsx(z,{variant:l==="week"?"default":"outline",size:"sm",onClick:()=>c("week"),children:"Week"}),n.jsx(z,{variant:"default",size:"sm",onClick:()=>c("day"),children:"Day"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{const E=new Date(i);E.setMonth(E.getMonth()-1),o(E)},children:"Previous"}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>o(new Date),children:"Today"}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{const E=new Date(i);E.setMonth(E.getMonth()+1),o(E)},children:"Next"})]})]})]}),n.jsxs($a,{value:l,onValueChange:E=>c(E),children:[n.jsxs(rt,{value:"month",className:"space-y-4",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("h3",{className:"text-lg font-semibold",children:i.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(E=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:E},E)),k().map((E,M)=>{const H=E.getMonth()===i.getMonth(),A=E.toDateString()===new Date().toDateString(),P=N(E);return n.jsxs("div",{className:`min-h-[100px] p-2 border border-border ${H?"bg-background":"bg-muted/30"} ${A?"ring-2 ring-primary":""}`,children:[n.jsx("div",{className:`text-sm font-medium ${H?"text-foreground":"text-muted-foreground"} ${A?"text-primary":""}`,children:E.getDate()}),n.jsxs("div",{className:"space-y-1 mt-1",children:[P.slice(0,3).map(T=>n.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:bg-muted ${C(T.priority)}`,title:T.title,children:[_(T.type),n.jsx("span",{className:"ml-1",children:T.title})]},T.id)),P.length>3&&n.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+",P.length-3," more"]})]})]},M)})]})]}),n.jsxs(rt,{value:"week",className:"space-y-4",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("h3",{className:"text-lg font-semibold",children:"Week View"})}),n.jsx("div",{className:"text-center text-muted-foreground",children:"Week view implementation coming soon..."})]}),n.jsxs(rt,{value:"day",className:"space-y-4",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("h3",{className:"text-lg font-semibold",children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),n.jsx("div",{className:"space-y-3",children:N(i).length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No events scheduled for this date"}):N(i).map(E=>n.jsx(J,{className:"border-l-4 border-l-primary",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_(E.type),n.jsx("h4",{className:"font-medium",children:E.title}),n.jsx(he,{className:C(E.priority),children:E.priority})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:E.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"h-3 w-3"}),E.start_time," - ",E.end_time]}),E.location&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Pr,{className:"h-3 w-3"}),E.location]})]})]}),((e==null?void 0:e.role)==="admin"||E.created_by===(e==null?void 0:e.id))&&n.jsxs("div",{className:"flex gap-1",children:[n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(ga,{className:"h-3 w-3"})}),n.jsx(z,{variant:"ghost",size:"sm",className:"text-red-600",children:n.jsx(Fn,{className:"h-3 w-3"})})]})]})})},E.id))})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upcoming Events"}),n.jsx("div",{className:"space-y-3",children:j.filter(E=>new Date(E.start_date)>=new Date).slice(0,5).map(E=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[_(E.type),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:E.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(E.start_date).toLocaleDateString()," at"," ",E.start_time]})]})]}),n.jsx(he,{className:C(E.priority),children:E.priority})]},E.id))})]})]})]})},cU=()=>{var _e;const{user:e,refreshUser:t}=Ye(),{toast:r}=lr(),{events:s,loading:a}=rU(),[i,o]=u.useState(null),[l,c]=u.useState(!0),[d,h]=u.useState(null),[f,m]=u.useState(!1),{applications:p,loading:g}=nU(),x=u.useRef(null),[y,w]=u.useState(!1),[v,b]=u.useState(null),[j,N]=u.useState(!1),[C,_]=u.useState([]),[k,E]=u.useState(!1),[M,H]=u.useState(0),A=u.useRef(null),[P,T]=u.useState({full_name:"",username:"",email:"",phone:"",address:"",department:"",year:"",gpa:"",student_id:"",date_of_birth:"",bio:"",interests:"",achievements:""}),R=async()=>{if(e!=null&&e.id)try{c(!0),console.log("Fetching user data for ID:",e.id);let{data:V,error:ne}=await U.from("users").select("*").eq("id",e.id).single();if(ne&&(console.log("Error with users table:",ne),ne.code==="PGRST116"||ne.code==="PGRST204")){console.log("Trying manual_users table as fallback...");const Ce=await U.from("manual_users").select("*").eq("id",e.id).single();V=Ce.data,ne=Ce.error}if(console.log("Supabase response:",{data:V,error:ne}),ne){console.error("Supabase error:",ne),h(ne.message);return}o(V),T({full_name:V.full_name||"",username:V.username||"",email:V.email||"",phone:V.phone||"",address:V.address||"",department:V.department||"",year:V.year||"",gpa:V.gpa||"",student_id:V.student_id||"",date_of_birth:V.date_of_birth||"",bio:V.bio||"",interests:V.interests||"",achievements:V.achievements||""}),b(V.avatar_url||null)}catch(V){console.error("Error in fetchUserData:",V),h("Failed to fetch user data")}finally{c(!1)}},F=async V=>{if(!(e!=null&&e.id))return!1;try{const ne={};Object.entries(V).forEach(([Se,xt])=>{xt!==""&&(ne[Se]=xt)});let{error:Ce}=await U.from("users").update(ne).eq("id",e.id);return Ce&&(console.log("Error updating users table:",Ce),(Ce.code==="PGRST116"||Ce.code==="PGRST204")&&(console.log("Trying to update manual_users table as fallback..."),Ce=(await U.from("manual_users").update(ne).eq("id",e.id)).error)),Ce?(h(Ce.message),!1):(await R(),!0)}catch{return h("Failed to update user data"),!1}},D=async V=>{if(!(e!=null&&e.id))return null;try{m(!0);const ne=await aU(V,"profile-images");if(!ne)throw new Error("Upload failed");return ne}catch(ne){return console.error("Upload error:",ne),h("Failed to upload image to Cloudinary"),null}finally{m(!1)}},O=async()=>{if(!(e!=null&&e.id)||!v)return!1;try{return console.log("Image deletion from Cloudinary requires server-side implementation"),!0}catch{return h("Failed to delete image"),!1}};if((e==null?void 0:e.role)==="admin")return n.jsx(ut,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted/20 pt-20",children:n.jsxs(J,{className:"w-full max-w-md",children:[n.jsxs(Re,{className:"text-center",children:[n.jsxs(De,{className:"flex items-center justify-center gap-2",children:[n.jsx(We,{className:"h-6 w-6"}),"Administrator Account"]}),n.jsx(nt,{children:"Profile management is not available for administrator accounts. Use the admin dashboard to manage users and system settings."})]}),n.jsx(ie,{className:"text-center",children:n.jsx(z,{onClick:()=>window.location.href="/admin",className:"w-full",children:"Go to Admin Dashboard"})})]})})});u.useEffect(()=>{R()},[e==null?void 0:e.id]),u.useEffect(()=>{i&&L()},[i]),u.useEffect(()=>{const V=ne=>{A.current&&!A.current.contains(ne.target)&&E(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]);const L=async()=>{if(i!=null&&i.notifications)try{let V=i.notifications;if(typeof V=="string")try{V=JSON.parse(V)}catch(ne){console.error("Error parsing notifications:",ne),V=[]}if(Array.isArray(V)){const ne=V.filter(Se=>Se&&typeof Se=="object"&&Se.id&&Se.title&&Se.message&&Se.type&&Se.timestamp&&typeof Se.read=="boolean"&&!isNaN(new Date(Se.timestamp).getTime())&&["info","success","warning","error"].includes(Se.type));console.log("Valid notifications found:",ne.length),console.log("Invalid notifications filtered out:",V.length-ne.length),ne.length<V.length&&(console.log("Cleaning up corrupted notifications in database..."),F({notifications:ne}).catch(Se=>{console.error("Error cleaning up notifications:",Se)})),_(ne);const Ce=ne.filter(Se=>!Se.read).length;H(Ce)}else _([]),H(0)}catch(V){console.error("Error processing notifications:",V),_([]),H(0)}},Y=async V=>{if(e!=null&&e.id)try{const ne=C.map(Se=>Se.id===V?{...Se,read:!0}:Se);if(await F({notifications:ne})){_(ne);const Se=ne.filter(xt=>!xt.read).length;H(Se)}}catch(ne){console.error("Error marking notification as read:",ne)}},B=async()=>{if(e!=null&&e.id)try{const V=C.map(Ce=>({...Ce,read:!0}));await F({notifications:V})&&(_(V),H(0))}catch(V){console.error("Error marking all notifications as read:",V)}},Q=async()=>{if(e!=null&&e.id)try{console.log("Manual cleanup of corrupted notifications..."),await F({notifications:[]})&&(_([]),H(0),r({title:"Notifications Cleaned",description:"Corrupted notifications have been removed."}))}catch(V){console.error("Error cleaning up notifications:",V),r({title:"Error",description:"Failed to clean up notifications.",variant:"destructive"})}},ue=async()=>{N(!0);try{if(await F(P))w(!1),r({title:"Profile Updated",description:"Your profile has been successfully updated."});else throw new Error(d||"Failed to update profile")}catch(V){r({title:"Error",description:V instanceof Error?V.message:"Failed to update profile.",variant:"destructive"})}finally{N(!1)}},pe=(V,ne)=>{T(Ce=>({...Ce,[V]:ne}))},Oe=async V=>{var Ce;const ne=(Ce=V.target.files)==null?void 0:Ce[0];if(ne){if(ne.size>5*1024*1024){r({title:"Error",description:"File size must be less than 5MB",variant:"destructive"});return}if(!ne.type.startsWith("image/")){r({title:"Error",description:"Please select a valid image file",variant:"destructive"});return}try{const Se=await D(ne);if(Se)if(await F({avatar_url:Se}))b(Se),await t(),window.dispatchEvent(new CustomEvent("avatar-refreshed")),r({title:"Success!",description:"Profile picture uploaded to Cloudinary successfully!"});else throw new Error("Failed to save avatar to database")}catch(Se){r({title:"Error",description:Se instanceof Error?Se.message:"Failed to upload image to Cloudinary.",variant:"destructive"})}V.target&&(V.target.value="")}},I=async()=>{try{if(await O())await F({avatar_url:""}),b(null),await t(),window.dispatchEvent(new CustomEvent("avatar-refreshed")),r({title:"Success!",description:"Profile picture removed successfully."});else throw new Error("Failed to remove profile picture")}catch(V){r({title:"Error",description:V instanceof Error?V.message:"Failed to remove profile picture.",variant:"destructive"})}},K=V=>new Date(V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ce=V=>{switch(V){case"pending":return n.jsx(mr,{className:"h-4 w-4 text-yellow-500"});case"approved":return n.jsx(cs,{className:"h-4 w-4 text-green-500"});case"rejected":return n.jsx(ql,{className:"h-4 w-4 text-red-500"});case"withdrawn":return n.jsx(Lo,{className:"h-4 w-4 text-gray-500"});default:return n.jsx(mr,{className:"h-4 w-4 text-yellow-500"})}},ve=V=>{switch(V){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"withdrawn":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}};return n.jsx(ut,{children:n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 pt-20",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx(J,{className:"mb-8 bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(rn,{className:"h-32 w-32 border-4 border-primary/20",children:[n.jsx(qn,{src:v?oU(v,256,256):void 0,alt:P.full_name}),n.jsx(nn,{className:"bg-gradient-primary text-primary-foreground text-3xl font-bold",children:((_e=P.full_name)==null?void 0:_e.split(" ").map(V=>V[0]).join("").toUpperCase())||"U"})]}),n.jsxs("div",{className:"absolute bottom-0 right-0 flex gap-1",children:[n.jsx(z,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full shadow-md",onClick:()=>{var V;return(V=x.current)==null?void 0:V.click()},disabled:f,children:f?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):n.jsx(n4,{className:"h-4 w-4"})}),v&&n.jsx(z,{size:"icon",variant:"destructive",className:"h-8 w-8 rounded-full shadow-md",onClick:I,disabled:f,children:n.jsx(Fn,{className:"h-3 w-3"})})]}),n.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:Oe,className:"hidden"}),n.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs text-muted-foreground text-center whitespace-nowrap",children:"Max 5MB • Cloudinary"})]}),n.jsxs("div",{className:"flex-1 text-center md:text-left",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:P.full_name}),n.jsxs("p",{className:"text-muted-foreground mb-2",children:[P.department," • ",P.year]}),n.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mb-4",children:[n.jsxs(he,{variant:"secondary",className:"bg-primary/10 text-primary",children:["GPA: ",P.gpa]}),n.jsx(he,{variant:"secondary",className:"bg-success/10 text-success",children:e!=null&&e.role?e.role.charAt(0).toUpperCase()+e.role.slice(1):"Student"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(z,{variant:"outline",size:"icon",onClick:()=>E(!k),className:"relative",children:[n.jsx(Cn,{className:"h-5 w-5"}),M>0&&n.jsx("span",{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:M>9?"9+":M})]}),k&&n.jsxs("div",{ref:A,className:"absolute right-0 top-12 w-80 bg-white border rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:[n.jsx("div",{className:"p-3 border-b bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold",children:"Notifications"}),n.jsxs("div",{className:"flex items-center gap-2",children:[M>0&&n.jsx(z,{variant:"ghost",size:"sm",onClick:B,className:"text-xs",children:"Mark all as read"}),n.jsx(z,{variant:"ghost",size:"sm",onClick:Q,className:"text-xs text-red-600 hover:text-red-700",children:"Clean Corrupted"})]})]})}),n.jsx("div",{className:"p-2",children:C.length>0?C.map(V=>n.jsx("div",{className:`p-3 rounded-lg mb-2 cursor-pointer transition-colors ${V.read?"bg-gray-50 hover:bg-gray-100":"bg-blue-50 hover:bg-blue-100 border-l-4 border-blue-500"}`,onClick:()=>Y(V.id),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm mb-1",children:V.title}),n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:V.message}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${V.type==="info"?"bg-blue-100 text-blue-800":V.type==="success"?"bg-green-100 text-green-800":V.type==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:V.type}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(V.timestamp).toLocaleDateString()})]})]}),!V.read&&n.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 ml-2"})]})},V.id)):n.jsxs("div",{className:"text-center py-6 text-gray-500",children:[n.jsx(Cn,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{children:"No notifications"})]})})]})]}),n.jsx(z,{onClick:()=>y?ue():w(!0),variant:y?"success":"outline",disabled:j||l,className:"w-full md:w-auto",children:j?n.jsxs(n.Fragment,{children:[n.jsx(g4,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):y?n.jsxs(n.Fragment,{children:[n.jsx(j4,{className:"mr-2 h-4 w-4"}),"Save Changes"]}):n.jsxs(n.Fragment,{children:[n.jsx(ga,{className:"mr-2 h-4 w-4"}),"Edit Profile"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[n.jsx($o,{className:"mr-2 h-4 w-4"}),P.email]}),n.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[n.jsx(kx,{className:"mr-2 h-4 w-4"}),P.phone]}),n.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[n.jsx(Pr,{className:"mr-2 h-4 w-4"}),P.address]})]})]})]})})}),n.jsxs($a,{defaultValue:"overview",className:"space-y-6",children:[n.jsxs(Fa,{className:"grid w-full grid-cols-5",children:[n.jsx(mt,{value:"overview",children:"Overview"}),n.jsx(mt,{value:"academic",children:"Academic"}),n.jsx(mt,{value:"activities",children:"Activities"}),n.jsx(mt,{value:"calendar",children:"Calendar"}),n.jsx(mt,{value:"settings",children:"Settings"})]}),n.jsxs(rt,{value:"overview",className:"space-y-6",children:[n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs(De,{className:"flex items-center",children:[n.jsx(ps,{className:"mr-2 h-5 w-5"}),"About Me"]})}),n.jsx(ie,{children:y?n.jsx(Xe,{value:P.bio,onChange:V=>pe("bio",V.target.value),placeholder:"Tell us about yourself...",className:"min-h-[100px]"}):n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:P.bio||"No bio information available."})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{children:"Interests"})}),n.jsx(ie,{children:y?n.jsx(Xe,{value:P.interests,onChange:V=>pe("interests",V.target.value),placeholder:"Enter your interests (comma separated)...",className:"min-h-[100px]"}):n.jsx("div",{className:"flex flex-wrap gap-2",children:P.interests?P.interests.split(",").map((V,ne)=>n.jsx(he,{variant:"outline",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:V.trim()},ne)):n.jsx("p",{className:"text-muted-foreground",children:"No interests added yet."})})})]}),n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs(De,{className:"flex items-center",children:[n.jsx(Su,{className:"mr-2 h-5 w-5"}),"Recent Achievements"]})}),n.jsx(ie,{children:y?n.jsx(Xe,{value:P.achievements,onChange:V=>pe("achievements",V.target.value),placeholder:"Enter your achievements (one per line)...",className:"min-h-[100px]"}):n.jsx("ul",{className:"space-y-2",children:P.achievements?P.achievements.split(`
`).filter(V=>V.trim()).map((V,ne)=>n.jsxs("li",{className:"flex items-center text-sm",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-primary mr-3"}),V.trim()]},ne)):n.jsx("li",{className:"text-muted-foreground",children:"No achievements added yet."})})})]})]})]}),n.jsx(rt,{value:"academic",className:"space-y-6",children:n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{children:"Academic Information"})}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"department",children:"Department"}),y?n.jsxs(ct,{value:P.department,onValueChange:V=>pe("department",V),children:[n.jsx(st,{children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"Computer Science",children:"Computer Science"}),n.jsx(ge,{value:"Electrical Engineering",children:"Electrical Engineering"}),n.jsx(ge,{value:"Business Administration",children:"Business Administration"}),n.jsx(ge,{value:"Economics",children:"Economics"}),n.jsx(ge,{value:"Mathematics",children:"Mathematics"}),n.jsx(ge,{value:"Physics",children:"Physics"}),n.jsx(ge,{value:"Chemistry",children:"Chemistry"}),n.jsx(ge,{value:"English",children:"English"}),n.jsx(ge,{value:"Architecture",children:"Architecture"})]})]}):n.jsx(re,{value:P.department,readOnly:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"year",children:"Academic Year"}),y?n.jsxs(ct,{value:P.year,onValueChange:V=>pe("year",V),children:[n.jsx(st,{children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"Freshman",children:"1st Year"}),n.jsx(ge,{value:"Sophomore",children:"2nd Year"}),n.jsx(ge,{value:"Junior",children:"3rd Year"}),n.jsx(ge,{value:"Senior",children:"4th Year"})]})]}):n.jsx(re,{value:P.year,readOnly:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"gpa",children:"Current CGPA"}),y?n.jsx(re,{value:P.gpa,onChange:V=>pe("gpa",V.target.value),placeholder:"3.50"}):n.jsx(re,{value:P.gpa,readOnly:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[n.jsxs("div",{children:[n.jsx(ee,{children:"Student ID"}),n.jsx(re,{value:(e==null?void 0:e.student_id)||"Not Available",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx(ee,{children:"Email"}),n.jsx(re,{value:P.email,readOnly:!0})]})]})]})]})}),n.jsx(rt,{value:"activities",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs(De,{className:"flex items-center",children:[n.jsx($e,{className:"mr-2 h-5 w-5"}),"Recent Joined Events"]})}),n.jsx(ie,{children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?n.jsx("div",{className:"space-y-4",children:s.map(V=>n.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold mb-1",children:V.title}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:K(V.start_at)}),V.location&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[n.jsx(Pr,{className:"h-3 w-3 mr-1"}),V.location]})]}),n.jsx(he,{variant:V.registration_status==="registered"?"default":"secondary",className:"ml-2",children:V.registration_status})]}),n.jsx(he,{variant:V.status==="completed"?"outline":"secondary",className:"mt-2",children:V.status})]},V.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx($e,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No events joined yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Join some events to see them here!"})]})})]}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsxs(De,{className:"flex items-center",children:[n.jsx(We,{className:"mr-2 h-5 w-5"}),"Club Applications"]}),n.jsx(nt,{children:"Your club membership applications and their status"})]}),n.jsx(ie,{children:g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.length>0?n.jsx("div",{className:"space-y-4",children:p.map(V=>n.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold mb-1",children:V.club_name}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Applied on"," ",K(V.application_date)]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:V.motivation})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[ce(V.status),n.jsx(he,{className:ve(V.status),variant:"outline",children:V.status.charAt(0).toUpperCase()+V.status.slice(1)})]})]}),V.experience&&n.jsx("div",{className:"mt-2 pt-2 border-t",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Experience:"})," ",V.experience]})}),V.skills&&n.jsx("div",{className:"mt-1",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Skills:"})," ",V.skills]})}),n.jsx("div",{className:"mt-2",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.jsx("strong",{children:"Availability:"})," ",V.availability]})})]},V.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(We,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No club applications yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Apply to some clubs to see them here!"})]})})]})]})}),n.jsx(rt,{value:"calendar",className:"space-y-6",children:n.jsx(lU,{})}),n.jsx(rt,{value:"settings",className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"Contact Information"}),n.jsx(nt,{children:"Update your contact details"})]}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"email",children:"Email"}),n.jsx(re,{value:P.email,onChange:V=>pe("email",V.target.value),disabled:!y})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"phone",children:"Phone"}),n.jsx(re,{value:P.phone,onChange:V=>pe("phone",V.target.value),disabled:!y})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"address",children:"Address"}),n.jsx(re,{value:P.address,onChange:V=>pe("address",V.target.value),disabled:!y})]})]})]})})]})]})})})};var h2="AlertDialog",[dU,Tz]=Yn(h2,[wE]),Ts=wE(),f2=e=>{const{__scopeAlertDialog:t,...r}=e,s=Ts(t);return n.jsx(IE,{...s,...r,modal:!0})};f2.displayName=h2;var uU="AlertDialogTrigger",m2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ts(r);return n.jsx(LE,{...a,...s,ref:t})});m2.displayName=uU;var hU="AlertDialogPortal",p2=e=>{const{__scopeAlertDialog:t,...r}=e,s=Ts(t);return n.jsx($E,{...s,...r})};p2.displayName=hU;var fU="AlertDialogOverlay",g2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ts(r);return n.jsx(Cv,{...a,...s,ref:t})});g2.displayName=fU;var yo="AlertDialogContent",[mU,pU]=dU(yo),x2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Ts(r),o=u.useRef(null),l=Ke(t,o),c=u.useRef(null);return n.jsx(_6,{contentName:yo,titleName:v2,docsSlug:"alert-dialog",children:n.jsx(mU,{scope:r,cancelRef:c,children:n.jsxs(Ev,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(wx,{children:s}),n.jsx(xU,{contentRef:o})]})})})});x2.displayName=yo;var v2="AlertDialogTitle",y2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ts(r);return n.jsx(kv,{...a,...s,ref:t})});y2.displayName=v2;var w2="AlertDialogDescription",b2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ts(r);return n.jsx(Tv,{...a,...s,ref:t})});b2.displayName=w2;var gU="AlertDialogAction",j2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Ts(r);return n.jsx(Av,{...a,...s,ref:t})});j2.displayName=gU;var _2="AlertDialogCancel",N2=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=pU(_2,r),i=Ts(r),o=Ke(t,a);return n.jsx(Av,{...i,...s,ref:o})});N2.displayName=_2;var xU=({contentRef:e})=>{const t=`\`${yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yo}\` by passing a \`${w2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vU=f2,yU=m2,wU=p2,S2=g2,C2=x2,E2=j2,k2=N2,T2=y2,A2=b2;const Id=vU,Ld=yU,bU=wU,P2=u.forwardRef(({className:e,...t},r)=>n.jsx(S2,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));P2.displayName=S2.displayName;const Nl=u.forwardRef(({className:e,...t},r)=>n.jsxs(bU,{children:[n.jsx(P2,{}),n.jsx(C2,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Nl.displayName=C2.displayName;const Sl=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});Sl.displayName="AlertDialogHeader";const Cl=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cl.displayName="AlertDialogFooter";const El=u.forwardRef(({className:e,...t},r)=>n.jsx(T2,{ref:r,className:je("text-lg font-semibold",e),...t}));El.displayName=T2.displayName;const kl=u.forwardRef(({className:e,...t},r)=>n.jsx(A2,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));kl.displayName=A2.displayName;const Tl=u.forwardRef(({className:e,...t},r)=>n.jsx(E2,{ref:r,className:je(Xx(),e),...t}));Tl.displayName=E2.displayName;const Al=u.forwardRef(({className:e,...t},r)=>n.jsx(k2,{ref:r,className:je(Xx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Al.displayName=k2.displayName;function jU(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),o=async()=>{try{s(!0),i(null);const{data:p,error:g}=await U.from("users").select("*").eq("role","student").order("created_at",{ascending:!1});if(g){console.error("Error fetching students:",g),i(g.message);return}console.log("Students fetched from users table:",p),t(p||[])}catch(p){console.error("Error in fetchStudents:",p),i(p instanceof Error?p.message:"Failed to fetch students")}finally{s(!1)}},l=async p=>{try{s(!0),i(null);const{data:g,error:x}=await U.from("users").select("*").eq("role","student").or(`full_name.ilike.%${p}%,email.ilike.%${p}%,student_id.ilike.%${p}%`).order("created_at",{ascending:!1});if(x){console.error("Error searching students:",x),i(x.message);return}t(g||[])}catch(g){console.error("Error in searchStudents:",g),i(g instanceof Error?g.message:"Failed to search students")}finally{s(!1)}},c=async p=>{try{if(s(!0),i(null),p==="all"){await o();return}const{data:g,error:x}=await U.from("users").select("*").eq("role","student").eq("department",p).order("created_at",{ascending:!1});if(x){console.error("Error filtering by department:",x),i(x.message);return}t(g||[])}catch(g){console.error("Error in filterByDepartment:",g),i(g instanceof Error?g.message:"Failed to filter by department")}finally{s(!1)}},d=async p=>{try{if(s(!0),i(null),p==="all"){await o();return}const{data:g,error:x}=await U.from("users").select("*").eq("role","student").eq("status",p).order("created_at",{ascending:!1});if(x){console.error("Error filtering by status:",x),i(x.message);return}t(g||[])}catch(g){console.error("Error in filterByStatus:",g),i(g instanceof Error?g.message:"Failed to filter by status")}finally{s(!1)}},h=async p=>{try{const{error:g}=await U.from("users").delete().eq("id",p);if(g)throw console.error("Error deleting student:",g),new Error(g.message);return t(x=>x.filter(y=>y.id!==p)),{success:!0}}catch(g){return console.error("Error in deleteStudent:",g),{success:!1,error:g instanceof Error?g.message:"Failed to delete student"}}},f=async p=>{try{const g={...p,role:"student",status:"pending",created_at:new Date().toISOString()},{data:x,error:y}=await U.from("users").insert([g]).select().single();if(y)throw console.error("Error creating student:",y),new Error(y.message);return t(w=>[x,...w]),{success:!0,data:x}}catch(g){return console.error("Error in createStudent:",g),{success:!1,error:g instanceof Error?g.message:"Failed to create student"}}},m=async(p,g)=>{try{const{data:x,error:y}=await U.from("users").update({...g,updated_at:new Date().toISOString()}).eq("id",p).select().single();if(y)throw console.error("Error updating student:",y),new Error(y.message);return t(w=>w.map(v=>v.id===p?{...v,...g,updated_at:new Date().toISOString()}:v)),{success:!0,data:x}}catch(x){return console.error("Error in updateStudent:",x),{success:!1,error:x instanceof Error?x.message:"Failed to update student"}}};return u.useEffect(()=>{o()},[]),{students:e,loading:r,error:a,refetch:o,searchStudents:l,filterByDepartment:c,filterByStatus:d,deleteStudent:h,createStudent:f,updateStudent:m}}function _U(){const[e,t]=u.useState({total:0,active:0,inactive:0,suspended:0,pending:0,approved:0,byDepartment:{}}),[r,s]=u.useState(!0),a=async()=>{try{s(!0);const{data:i,error:o}=await U.from("users").select("status, department").eq("role","student");if(o){console.error("Error fetching student statistics:",o);return}const l={total:i.length,active:i.filter(c=>c.status==="active").length,inactive:i.filter(c=>c.status==="inactive").length,suspended:i.filter(c=>c.status==="suspended").length,pending:i.filter(c=>c.status==="pending").length,approved:i.filter(c=>c.status==="approved").length,byDepartment:i.reduce((c,d)=>(d.department&&(c[d.department]=(c[d.department]||0)+1),c),{})};t(l)}catch(i){console.error("Error in fetchStatistics:",i)}finally{s(!1)}};return u.useEffect(()=>{a()},[]),{statistics:e,loading:r,refetch:a}}function NU(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),o=async()=>{try{s(!0),i(null);const{data:p,error:g}=await U.from("users").select("*").order("created_at",{ascending:!1});if(g){console.error("Error fetching users:",g),i(g.message);return}console.log("Users fetched:",p),t(p||[])}catch(p){console.error("Error in fetchUsers:",p),i(p instanceof Error?p.message:"Failed to fetch users")}finally{s(!1)}},l=async p=>{try{const{error:g}=await U.from("users").update({status:"approved"}).eq("id",p);if(g)throw console.error("Error approving user:",g),new Error(g.message);return t(x=>x.map(y=>y.id===p?{...y,status:"approved"}:y)),{success:!0}}catch(g){return console.error("Error in approveUser:",g),{success:!1,error:g instanceof Error?g.message:"Failed to approve user"}}},c=async p=>{try{const{error:g}=await U.from("users").update({status:"suspended"}).eq("id",p);if(g)throw console.error("Error suspending user:",g),new Error(g.message);return t(x=>x.map(y=>y.id===p?{...y,status:"suspended"}:y)),{success:!0}}catch(g){return console.error("Error in suspendUser:",g),{success:!1,error:g instanceof Error?g.message:"Failed to suspend user"}}},d=async p=>{try{const{error:g}=await U.from("users").delete().eq("id",p);if(g)throw console.error("Error deleting user:",g),new Error(g.message);return t(x=>x.filter(y=>y.id!==p)),{success:!0}}catch(g){return console.error("Error in deleteUser:",g),{success:!1,error:g instanceof Error?g.message:"Failed to delete user"}}},h=async(p,g)=>{try{const{error:x}=await U.from("users").update({role:g}).eq("id",p);if(x)throw console.error("Error updating user role:",x),new Error(x.message);return t(y=>y.map(w=>w.id===p?{...w,role:g}:w)),{success:!0}}catch(x){return console.error("Error in updateUserRole:",x),{success:!1,error:x instanceof Error?x.message:"Failed to update user role"}}},f=p=>p==="all"?e:e.filter(g=>(g.status||"pending")===p),m=()=>{const p=e.length,g=e.filter(j=>(j.status||"pending")==="pending").length,x=e.filter(j=>(j.status||"pending")==="approved").length,y=e.filter(j=>(j.status||"pending")==="suspended").length,w=e.filter(j=>(j.role||"student")==="student").length,v=e.filter(j=>(j.role||"student")==="faculty").length,b=e.filter(j=>(j.role||"student")==="admin").length;return{total:p,pending:g,approved:x,suspended:y,students:w,faculty:v,admins:b}};return u.useEffect(()=>{o()},[]),{users:e,loading:r,error:a,refetch:o,approveUser:l,suspendUser:c,deleteUser:d,updateUserRole:h,getFilteredUsers:f,getUserStats:m}}const kc={_origin:"https://api.emailjs.com"},SU=(e,t="https://api.emailjs.com")=>{kc._userID=e,kc._origin=t},R2=(e,t,r)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class E0{constructor(t){this.status=t.status,this.text=t.responseText}}const D2=(e,t,r={})=>new Promise((s,a)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:o})=>{const l=new E0(o);l.status===200||l.text==="OK"?s(l):a(l)}),i.addEventListener("error",({target:o})=>{a(new E0(o))}),i.open("POST",kc._origin+e,!0),Object.keys(r).forEach(o=>{i.setRequestHeader(o,r[o])}),i.send(t)}),CU=(e,t,r,s)=>{const a=s||kc._userID;return R2(a,e,t),D2("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"})},EU=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},kU=(e,t,r,s)=>{const a=s||kc._userID,i=EU(r);R2(a,e,t);const o=new FormData(i);return o.append("lib_version","3.2.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",a),D2("/api/v1.0/email/send-form",o)},TU={init:SU,send:CU,sendForm:kU},AU=()=>{var qv;const{user:e}=Ye(),{toast:t}=lr(),[r,s]=u.useState("overview"),[a,i]=u.useState("all"),[o,l]=u.useState(""),{users:c,loading:d,error:h,approveUser:f,suspendUser:m,deleteUser:p,updateUserRole:g,getFilteredUsers:x,getUserStats:y,refetch:w}=NU(),{students:v,loading:b,error:j,searchStudents:N,filterByDepartment:C,filterByStatus:_,deleteStudent:k,refetch:E}=jU(),{statistics:M,loading:H}=_U(),A=M||{total:0,active:0,inactive:0,suspended:0,pending:0,approved:0,byDepartment:{}},P={totalUsers:1247,activeClubs:34,totalEvents:89,activeUsers:1200},T=async(S,Z)=>{const de=await f(S);de.success?t({title:"User Approved",description:`${Z} has been approved successfully.`}):t({title:"Approval Failed",description:de.error||"Failed to approve user.",variant:"destructive"})},R=async(S,Z)=>{const de=await m(S);de.success?t({title:"User Suspended",description:`${Z} has been suspended.`}):t({title:"Suspension Failed",description:de.error||"Failed to suspend user.",variant:"destructive"})},F=async(S,Z)=>{const de=await p(S);de.success?t({title:"User Deleted",description:`${Z} has been deleted permanently.`}):t({title:"Deletion Failed",description:de.error||"Failed to delete user.",variant:"destructive"})},D=async(S,Z,de)=>{const ke=await g(S,Z);ke.success?t({title:"Role Updated",description:`${de}'s role has been updated to ${Z}.`}):t({title:"Role Update Failed",description:ke.error||"Failed to update user role.",variant:"destructive"})},O=x(a).filter(S=>{var Z,de,ke,Ve;return((Z=S.full_name)==null?void 0:Z.toLowerCase().includes(o.toLowerCase()))||((de=S.email)==null?void 0:de.toLowerCase().includes(o.toLowerCase()))||((ke=S.username)==null?void 0:ke.toLowerCase().includes(o.toLowerCase()))||((Ve=S.student_id)==null?void 0:Ve.toLowerCase().includes(o.toLowerCase()))}),L=y()||{total:0,pending:0,approved:0,suspended:0,students:0,faculty:0,admins:0},[Y,B]=u.useState(""),[Q,ue]=u.useState(!1),[pe,Oe]=u.useState(""),[I,K]=u.useState(""),[ce,ve]=u.useState([]),[_e,V]=u.useState([]),[ne,Ce]=u.useState(!0),[Se,xt]=u.useState(null),[Ot,Wt]=u.useState(!1),[$,W]=u.useState(null),[G,q]=u.useState({name:"",description:"",category:"",meeting_time:"",meeting_location:"",max_members:"",requirements:""}),[ae,se]=u.useState(!1),[we,Ae]=u.useState(null),[ht,ot]=u.useState([]),[Ht,Gt]=u.useState(!1),[As,Jn]=u.useState(!1),Ai=["Academic","Cultural","Sports","Technology","Arts","Community Service","Professional Development","Hobby","Other"],Ua=["New Event Available","Join New Club - Registration Open","Exam Schedule Released","Holiday Announcement","Academic Calendar Update","Important Deadline Reminder","Course Registration Open","Library Hours Changed","Campus Facility Update","Student Services Announcement","Scholarship Opportunity","Career Fair Announcement"],za=async()=>{try{Ce(!0),xt(null);const{data:S,error:Z}=await U.from("clubs").select("*").order("created_at",{ascending:!1});if(Z){console.error("Error fetching clubs:",Z),xt(Z.message);return}const de=await Promise.all((S||[]).map(async ke=>{try{const{data:Ve,error:It}=await U.from("users").select("full_name, email").eq("club_admin",ke.id).single();if(!It&&Ve)return{...ke,admin_name:Ve.full_name,admin_email:Ve.email,admin_source:"club_admin"}}catch{}if(ke.created_by)try{const{data:Ve,error:It}=await U.from("users").select("full_name, email").eq("id",ke.created_by).single();if(!It&&Ve)return{...ke,admin_name:Ve.full_name,admin_email:Ve.email,admin_source:"created_by"}}catch{console.warn("Could not fetch admin info for club:",ke.id)}return{...ke,admin_name:"Unassigned",admin_email:null,admin_source:"none"}}));console.log("Clubs with admin info:",de),V(de)}catch(S){console.error("Error in fetchClubs:",S),xt(S instanceof Error?S.message:"Failed to fetch clubs")}finally{Ce(!1)}},Ps=async()=>{try{const S={...G,max_members:parseInt(G.max_members)||0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Z,error:de}=await U.from("clubs").insert([S]).select().single();if(de)throw console.error("Error creating club:",de),new Error(de.message);V(ke=>[Z,...ke]),Wt(!1),q({name:"",description:"",category:"",meeting_time:"",meeting_location:"",max_members:"",requirements:""}),t({title:"Club Created",description:`${Z.name} has been created successfully.`})}catch(S){console.error("Error in handleAddClub:",S),t({title:"Error Creating Club",description:S instanceof Error?S.message:"Failed to create club",variant:"destructive"})}},Rn=async()=>{if($)try{const S={...G,max_members:parseInt(G.max_members)||0,updated_at:new Date().toISOString()},{data:Z,error:de}=await U.from("clubs").update(S).eq("id",$.id).select().single();if(de)throw console.error("Error updating club:",de),new Error(de.message);V(ke=>ke.map(Ve=>Ve.id===$.id?Z:Ve)),W(null),q({name:"",description:"",category:"",meeting_time:"",meeting_location:"",max_members:"",requirements:""}),t({title:"Club Updated",description:`${Z.name} has been updated successfully.`})}catch(S){console.error("Error in handleUpdateClub:",S),t({title:"Error Updating Club",description:S instanceof Error?S.message:"Failed to update club",variant:"destructive"})}},pf=async(S,Z)=>{try{const{error:de}=await U.from("clubs").delete().eq("id",S);if(de)throw console.error("Error deleting club:",de),new Error(de.message);V(ke=>ke.filter(Ve=>Ve.id!==S)),t({title:"Club Deleted",description:`${Z} has been deleted successfully.`})}catch(de){console.error("Error in handleDeleteClub:",de),t({title:"Error Deleting Club",description:de instanceof Error?de.message:"Failed to delete club",variant:"destructive"})}},Le=S=>{var Z;W(S),q({name:S.name||"",description:S.description||"",category:S.category||"",meeting_time:S.meeting_time||"",meeting_location:S.meeting_location||"",max_members:((Z=S.max_members)==null?void 0:Z.toString())||"",requirements:S.requirements||""})},ft=()=>{W(null),Wt(!1),q({name:"",description:"",category:"",meeting_time:"",meeting_location:"",max_members:"",requirements:""})},lt=async S=>{Ae(S),se(!0);try{const{data:Z,error:de}=await U.from("users").select("id, full_name, email, role, department").in("role",["student","faculty"]).eq("user_status","active");if(de){console.error("Error fetching users:",de),t({title:"Error",description:"Failed to fetch available users",variant:"destructive"});return}ot(Z||[])}catch(Z){console.error("Error fetching users:",Z),t({title:"Error",description:"Failed to fetch available users",variant:"destructive"})}},Wr=async(S,Z)=>{if(we)try{Gt(!0);const{error:de}=await U.from("users").update({club_admin:we.id,updated_at:new Date().toISOString()}).eq("id",S);if(de){console.error("Error updating user club_admin:",de),t({title:"Error",description:"Failed to assign club admin",variant:"destructive"});return}const{error:ke}=await U.from("clubs").update({created_by:S,updated_at:new Date().toISOString()}).eq("id",we.id);if(ke){console.error("Error updating club created_by:",ke),t({title:"Error",description:"Failed to assign club admin",variant:"destructive"});return}V(Ve=>Ve.map(It=>It.id===we.id?{...It,created_by:S}:It)),t({title:"Success",description:`${Z} has been assigned as admin for ${we.name}`}),S===(e==null?void 0:e.id)&&(window.location.reload(),console.log("Current user's club admin data will be refreshed on reload")),se(!1),Ae(null)}catch(de){console.error("Error assigning admin:",de),t({title:"Error",description:"Failed to assign club admin",variant:"destructive"})}finally{Gt(!1)}},Hr=async(S,Z)=>{if(confirm(`Are you sure you want to remove the club admin from "${Z}"?`))try{Gt(!0);const{data:de,error:ke}=await U.from("clubs").select("created_by").eq("id",S).single();if(ke||!de){console.error("Error fetching club data:",ke),t({title:"Error",description:"Failed to fetch club data",variant:"destructive"});return}if(!de.created_by){t({title:"No Admin",description:"This club has no assigned admin to remove",variant:"destructive"});return}const{error:It}=await U.from("users").update({club_admin:null,updated_at:new Date().toISOString()}).eq("club_admin",S);if(It){console.error("Error removing club_admin from user:",It),t({title:"Error",description:"Failed to remove club admin",variant:"destructive"});return}const{error:Xn}=await U.from("clubs").update({created_by:null,updated_at:new Date().toISOString()}).eq("id",S);Xn&&(console.error("Error clearing club created_by:",Xn),console.warn("Club created_by field could not be cleared")),V(Xt=>Xt.map(cr=>cr.id===S?{...cr,created_by:null,admin_name:"Unassigned",admin_email:null,admin_source:"none"}:cr)),t({title:"Success",description:`Club admin has been removed from ${Z}`}),za(),Gt(!1)}catch(de){console.error("Error removing club admin:",de),t({title:"Error",description:"Failed to remove club admin",variant:"destructive"}),Gt(!1)}},Pi=()=>{se(!1),Ae(null),ot([])},gf=async()=>{if(confirm("Are you sure you want to remove ALL club admin assignments? This will make all clubs unassigned."))try{Gt(!0);const{error:S}=await U.from("users").update({club_admin:null,updated_at:new Date().toISOString()}).not("club_admin","is",null);if(S){console.error("Error removing all club_admin assignments:",S),t({title:"Error",description:"Failed to remove all club admin assignments",variant:"destructive"});return}const{error:Z}=await U.from("clubs").update({created_by:null,updated_at:new Date().toISOString()}).not("created_by","is",null);Z&&(console.error("Error clearing all club created_by fields:",Z),console.warn("Some club created_by fields could not be cleared")),V(de=>de.map(ke=>({...ke,created_by:null,admin_name:"Unassigned",admin_email:null,admin_source:"none"}))),t({title:"Success",description:"All club admin assignments have been removed"}),za(),Jn(!1),Gt(!1)}catch(S){console.error("Error removing all club admins:",S),t({title:"Error",description:"Failed to remove all club admin assignments",variant:"destructive"}),Gt(!1)}};u.useEffect(()=>{za(),xk()},[]);const[Rs,ed]=u.useState([]),[mk,zv]=u.useState(!0),[Bv,xf]=u.useState(null),[pk,vf]=u.useState(!1),[Ds,yf]=u.useState(null),[Jt,br]=u.useState({title:"",description:"",start_at:"",end_at:"",location:"",max_participants:"",event_type:"",organizer:"",contact_email:"",registration_deadline:""}),gk=["Academic","Cultural","Sports","Workshop","Seminar","Conference","Social","Career Fair","Orientation","Other"],xk=async()=>{try{zv(!0),xf(null);const{data:S,error:Z}=await U.from("events").select("*").order("start_at",{ascending:!0});if(Z){console.error("Error fetching events:",Z),xf(Z.message);return}console.log("Events fetched:",S),ed(S||[])}catch(S){console.error("Error in fetchEvents:",S),xf(S instanceof Error?S.message:"Failed to fetch events")}finally{zv(!1)}},vk=async(S,Z)=>{try{if(!Z)return;console.log("Sending notifications to club members for event:",S.title);const{data:de,error:ke}=await U.from("club_membership_application").select("applicant_id").eq("club_id",Z).eq("status","approved");if(ke){console.error("Error fetching club members:",ke);return}if(!de||de.length===0){console.log("No approved members found for club:",Z);return}const{data:Ve}=await U.from("clubs").select("name").eq("id",Z).single(),It=(Ve==null?void 0:Ve.name)||"Unknown Club",Xn=`New event "${S.title}" has been created in ${It}! 📅 Event starts on ${new Date(S.start_at).toLocaleDateString()} at ${S.location||"TBA"}. Don't miss out!`,Xt=de.map(Ba=>({user_id:Ba.applicant_id,message:Xn,type:"event_created",related_id:S.id,created_at:new Date().toISOString(),is_read:!1})),{error:cr}=await U.from("notifications").insert(Xt);cr?console.error("Error sending notifications:",cr):console.log(`Successfully sent ${Xt.length} notifications for event: ${S.title}`)}catch(de){console.error("Error in sendEventNotificationToClubMembers:",de)}},yk=async()=>{try{const S={...Jt,max_participants:parseInt(Jt.max_participants)||0,created_by:e==null?void 0:e.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Z,error:de}=await U.from("events").insert([S]).select().single();if(de)throw console.error("Error creating event:",de),new Error(de.message);ed(ke=>[Z,...ke]),Z.club_id&&await vk(Z,Z.club_id),vf(!1),br({title:"",description:"",start_at:"",end_at:"",location:"",max_participants:"",event_type:"",organizer:"",contact_email:"",registration_deadline:""}),t({title:"Event Created",description:`${Z.title} has been created successfully${Z.club_id?" and notifications sent to club members":""}.`})}catch(S){console.error("Error in handleAddEvent:",S),t({title:"Error Creating Event",description:S instanceof Error?S.message:"Failed to create event",variant:"destructive"})}},wk=async()=>{if(Ds)try{const S={...Jt,max_participants:parseInt(Jt.max_participants)||0,updated_at:new Date().toISOString()},{data:Z,error:de}=await U.from("events").update(S).eq("id",Ds.id).select().single();if(de)throw console.error("Error updating event:",de),new Error(de.message);ed(ke=>ke.map(Ve=>Ve.id===Ds.id?Z:Ve)),yf(null),br({title:"",description:"",start_at:"",end_at:"",location:"",max_participants:"",event_type:"",organizer:"",contact_email:"",registration_deadline:""}),t({title:"Event Updated",description:`${Z.title} has been updated successfully.`})}catch(S){console.error("Error in handleUpdateEvent:",S),t({title:"Error Updating Event",description:S instanceof Error?S.message:"Failed to update event",variant:"destructive"})}},bk=async(S,Z)=>{try{const{error:de}=await U.from("events").delete().eq("id",S);if(de)throw console.error("Error deleting event:",de),new Error(de.message);ed(ke=>ke.filter(Ve=>Ve.id!==S)),t({title:"Event Deleted",description:`${Z} has been deleted successfully.`})}catch(de){console.error("Error in handleDeleteEvent:",de),t({title:"Error Deleting Event",description:de instanceof Error?de.message:"Failed to delete event",variant:"destructive"})}},jk=S=>{var Z;yf(S),br({title:S.title||"",description:S.description||"",start_at:S.start_at||"",end_at:S.end_at||"",location:S.location||"",max_participants:((Z=S.max_participants)==null?void 0:Z.toString())||"",event_type:S.event_type||"",organizer:S.organizer||"",contact_email:S.contact_email||"",registration_deadline:S.registration_deadline||""})},_k=()=>{yf(null),vf(!1),br({title:"",description:"",start_at:"",end_at:"",location:"",max_participants:"",event_type:"",organizer:"",contact_email:"",registration_deadline:""})},Nk=async()=>{var S,Z,de,ke,Ve;if(!Y.trim()){t({title:"Prompt Required",description:"Please enter what you want the email to be about.",variant:"destructive"});return}ue(!0),Oe("");try{const{CohereClientV2:It}=await el(async()=>{const{CohereClientV2:cr}=await import("./index-xHyYyQbt.js").then(Ba=>Ba.i);return{CohereClientV2:cr}},[]),Xt=await new It({token:"WXLRaDQGGcSLekKzhkd3S653Iwo4PX6LfU3wUeAF"}).chat({model:"command-a-03-2025",messages:[{role:"user",content:`Write a professional email for this scenario: ${Y}`}]});Oe(((de=(Z=(S=Xt.message)==null?void 0:S.content)==null?void 0:Z[0])==null?void 0:de.text)||Xt.text||((Ve=(ke=Xt.generations)==null?void 0:ke[0])==null?void 0:Ve.text)||"No email generated.")}catch(It){console.error(It),t({title:"Error",description:"Failed to generate email.",variant:"destructive"})}finally{ue(!1)}},Sk=async()=>{if(!pe){t({title:"No Email Content",description:"Please generate the email content first.",variant:"destructive"});return}let S=0,Z=0;for(const de of v)try{await TU.send("service_w0yrqzx","template_nu1blhd",{to_name:de.full_name,to_email:de.email,message:pe},"5z5hG6uOfJfySVK-U"),S++}catch(ke){console.error("Email send failed:",(ke==null?void 0:ke.text)||ke),Z++}t({title:"Email Sending Complete",description:`${S} sent, ${Z} failed.`,variant:Z>0?"destructive":"default"})},Ck=async(S,Z)=>{if(Z.length===0)throw new Error("No recipients selected");const de={id:Date.now().toString(),title:"Student Management Notification",message:S,type:"info",timestamp:new Date().toISOString(),read:!1},{data:ke,error:Ve}=await U.from("users").select("id, notifications").in("id",Z).eq("role","student");if(Ve)throw new Error(Ve.message);if(!ke||ke.length===0)throw new Error("No matching students found");const It=ke.map(cr=>{const Ba=cr.notifications||[],Ak=[de,...Ba];return U.from("users").update({notifications:Ak}).eq("id",cr.id)}),Xt=(await Promise.all(It)).filter(cr=>cr.error);if(Xt.length>0)throw new Error(`Failed to update ${Xt.length} users`)},Ek=async S=>{const Z={id:Date.now().toString(),title:"Student Management Notification",message:S,type:"info",timestamp:new Date().toISOString(),read:!1},{data:de,error:ke}=await U.from("users").select("id, notifications").eq("role","student");if(ke)throw new Error(ke.message);if(!de||de.length===0)throw new Error("No students found");const Ve=de.map(Xt=>{const cr=Xt.notifications||[],Ba=[Z,...cr];return U.from("users").update({notifications:Ba}).eq("id",Xt.id)}),Xn=(await Promise.all(Ve)).filter(Xt=>Xt.error);if(Xn.length>0)throw new Error(`Failed to update ${Xn.length} students`)},kk=S=>{switch(S){case"approved":return n.jsx(cs,{className:"h-4 w-4 text-green-500"});case"pending":return n.jsx(mr,{className:"h-4 w-4 text-yellow-500"});case"suspended":return n.jsx(ql,{className:"h-4 w-4 text-red-500"});default:return n.jsx(Lo,{className:"h-4 w-4 text-gray-500"})}},Tk=S=>{switch(S){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"suspended":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};if((e==null?void 0:e.role)!=="admin")return n.jsx(ut,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted/20 pt-20",children:n.jsx(J,{className:"w-full max-w-md",children:n.jsxs(Re,{className:"text-center",children:[n.jsx(De,{className:"text-destructive",children:"Access Denied"}),n.jsx(nt,{children:"You don't have permission to access this page."})]})})})});const Vv=[{id:"overview",label:"Overview",icon:h4},{id:"students",label:"Students",icon:lo},{id:"users",label:"Users",icon:Va},{id:"clubs",label:"Clubs",icon:Qa},{id:"events",label:"Events",icon:$e},{id:"analytics",label:"Analytics",icon:Di},{id:"settings",label:"Settings",icon:Pp}];return n.jsxs(ut,{children:[n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20 pt-20",children:n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:"w-64 bg-card/50 backdrop-blur-sm border-r border-border/40 min-h-screen shadow-lg",children:[n.jsxs("div",{className:"p-6 border-b border-border/40",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage platform"})]}),n.jsx("nav",{className:"p-4 space-y-2",children:Vv.map(S=>{const Z=S.icon;return n.jsxs("button",{onClick:()=>s(S.id),className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-all duration-200 ${r===S.id?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[n.jsx(Z,{className:"h-5 w-5 mr-3"}),S.label]},S.id)})})]}),n.jsxs("div",{className:"flex-1 p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:(qv=Vv.find(S=>S.id===r))==null?void 0:qv.label}),n.jsxs("p",{className:"text-muted-foreground",children:[r==="overview"&&"Dashboard overview and quick actions",r==="students"&&"Manage student data and information",r==="users"&&"Manage registered users and permissions",r==="clubs"&&"Approve and manage student clubs",r==="events"&&"Oversee university events and activities",r==="analytics"&&"View platform analytics and statistics",r==="settings"&&"Configure platform settings"]})]}),r==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:P.totalUsers}),n.jsx("p",{className:"text-xs text-success",children:"+12% from last month"})]}),n.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:n.jsx(We,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Clubs"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:P.activeClubs}),n.jsx("p",{className:"text-xs text-success",children:"+3 new this month"})]}),n.jsx("div",{className:"bg-accent/10 p-3 rounded-lg",children:n.jsx(Qa,{className:"h-6 w-6 text-accent"})})]})})}),n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Events"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:P.totalEvents}),n.jsx("p",{className:"text-xs text-success",children:"+8 this week"})]}),n.jsx("div",{className:"bg-warning/10 p-3 rounded-lg",children:n.jsx($e,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:P.activeUsers}),n.jsx("p",{className:"text-xs text-success",children:"All verified"})]}),n.jsx("div",{className:"bg-success/10 p-3 rounded-lg",children:n.jsx(ku,{className:"h-6 w-6 text-success"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs(De,{className:"flex items-center",children:[n.jsx(Jf,{className:"mr-2 h-5 w-5"}),"Recent Activity"]})}),n.jsx(ie,{children:n.jsx("div",{className:"space-y-4",children:[{action:"New club application",time:"2 hours ago",type:"club"},{action:"Event registration opened",time:"4 hours ago",type:"event"},{action:"New user registered",time:"6 hours ago",type:"user"},{action:"Club meeting scheduled",time:"1 day ago",type:"meeting"}].map((S,Z)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:S.action}),n.jsx("p",{className:"text-xs text-muted-foreground",children:S.time})]})]},Z))})})]}),n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{children:"Quick Actions"})}),n.jsx(ie,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>s("clubs"),children:[n.jsx(Qt,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:"Add New Club"})]}),n.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>s("events"),children:[n.jsx($e,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:"Create Event"})]}),n.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>s("students"),children:[n.jsx(lo,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:"Manage Students"})]}),n.jsxs(z,{variant:"outline",className:"h-20 flex-col space-y-2",onClick:()=>s("analytics"),children:[n.jsx(Di,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:"View Analytics"})]})]})})]})]})]}),r==="students"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"AI Email Generator"}),n.jsx(nt,{children:"Generate a professional email and send to all students"})]}),n.jsx(ie,{children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex gap-2 items-start",children:[n.jsx(re,{placeholder:"Describe the email you want to generate...",value:Y,onChange:S=>B(S.target.value)}),n.jsx(z,{onClick:Nk,disabled:Q,children:Q?"Generating...":"Generate"})]}),n.jsxs("div",{children:[n.jsx(ee,{className:"mb-1 block",children:"Generated Email"}),n.jsx("textarea",{className:"w-full border rounded p-3 h-40",value:pe,onChange:S=>Oe(S.target.value)})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(z,{variant:"secondary",onClick:Sk,disabled:!pe,children:"Send to All Students"})})]})})]}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"Notifications"}),n.jsx(nt,{children:"Send notifications to selected students or everyone"})]}),n.jsx(ie,{children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{className:"border rounded px-3 py-2",value:I,onChange:S=>K(S.target.value),children:[n.jsx("option",{value:"",children:"Select Notification"}),Ua.map(S=>n.jsx("option",{value:S,children:S},S))]}),n.jsx(z,{variant:"secondary",onClick:async()=>{if(!I||ce.length===0){t({title:"Select Recipients and Notification",description:"Please select at least one recipient and a notification message.",variant:"destructive"});return}try{await Ck(I,ce),t({title:"Notification Sent",description:`Notification "${I}" sent to selected students.`}),K(""),ve([])}catch(S){t({title:"Error Sending Notification",description:(S==null?void 0:S.message)||"Failed to send notification.",variant:"destructive"})}},disabled:!I||ce.length===0,children:"Send to Selected"}),n.jsx(z,{variant:"outline",onClick:async()=>{if(!I){t({title:"No Notification Selected",description:"Please select a notification message to send.",variant:"destructive"});return}try{await Ek(I),t({title:"Notification Sent",description:`Notification "${I}" sent to all students.`}),K(""),ve([])}catch(S){t({title:"Error Sending Notification",description:(S==null?void 0:S.message)||"Failed to send notification.",variant:"destructive"})}},disabled:!I,children:"Send to All"})]}),n.jsxs("div",{className:"max-h-48 overflow-auto border rounded px-3 py-2 text-sm w-full",children:[n.jsx("p",{className:"font-semibold mb-2",children:"Select Recipients:"}),v.length===0?n.jsx("p",{className:"text-muted-foreground",children:"No students available"}):v.map(S=>n.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[n.jsx("input",{type:"checkbox",value:S.id,checked:ce.includes(S.id),onChange:Z=>{const de=Z.target.value;ve(ke=>Z.target.checked?[...ke,de]:ke.filter(Ve=>Ve!==de))}}),n.jsxs("span",{children:[S.full_name," (",S.student_id||"No ID",")"]})]},S.id))]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold",children:A.total})]}),n.jsx(lo,{className:"h-6 w-6 text-primary"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Students"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.active})]}),n.jsx(ku,{className:"h-6 w-6 text-green-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:A.pending})]}),n.jsx(mr,{className:"h-6 w-6 text-yellow-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Departments"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Object.keys(A.byDepartment).length})]}),n.jsx(Di,{className:"h-6 w-6 text-blue-500"})]})})})]}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"Student Management"}),n.jsx(nt,{children:"Manage all registered students, view details, and update information"})]}),n.jsxs(ie,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search students by name, email, or student ID...",className:"pl-10",onChange:S=>N(S.target.value)})]}),n.jsxs(ct,{onValueChange:C,children:[n.jsx(st,{className:"w-[200px]",children:n.jsx(dt,{placeholder:"All Departments"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"all",children:"All Departments"}),Array.from(new Set(v.map(S=>S.department).filter(Boolean))).map(S=>n.jsx(ge,{value:S,children:S},S))]})]}),n.jsxs(ct,{onValueChange:_,children:[n.jsx(st,{className:"w-[150px]",children:n.jsx(dt,{placeholder:"All Status"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"all",children:"All Status"}),n.jsx(ge,{value:"active",children:"Active"}),n.jsx(ge,{value:"inactive",children:"Inactive"}),n.jsx(ge,{value:"pending",children:"Pending"}),n.jsx(ge,{value:"approved",children:"Approved"}),n.jsx(ge,{value:"suspended",children:"Suspended"})]})]})]}),b?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading students..."})]}):j?n.jsx("div",{className:"text-center py-8",children:n.jsxs("p",{className:"text-red-600",children:["Error: ",j]})}):v.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(lo,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No students found"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"No students are currently registered in the system."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Student ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Department"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Year"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Joined Date"}),n.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:v.map(S=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"py-3 px-4 font-medium",children:S.student_id||"N/A"}),n.jsx("td",{className:"py-3 px-4",children:S.full_name}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("a",{href:`mailto:${S.email}`,className:"text-inherit no-underline hover:text-primary",children:S.email})}),n.jsx("td",{className:"py-3 px-4",children:S.department||"N/A"}),n.jsx("td",{className:"py-3 px-4",children:S.year||"N/A"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(he,{variant:(S.status||"pending")==="active"?"default":(S.status||"pending")==="pending"?"outline":(S.status||"pending")==="approved"?"default":(S.status||"pending")==="suspended"?"destructive":"secondary",children:(S.status||"pending").charAt(0).toUpperCase()+(S.status||"pending").slice(1)})}),n.jsx("td",{className:"py-3 px-4",children:new Date(S.created_at).toLocaleDateString()}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{t({title:"Edit Student",description:"Edit functionality coming soon!"})},children:n.jsx(ga,{className:"h-4 w-4"})}),n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(z,{variant:"destructive",size:"sm",children:n.jsx(Fn,{className:"h-4 w-4"})})}),n.jsxs(Nl,{children:[n.jsxs(Sl,{children:[n.jsx(El,{children:"Delete Student"}),n.jsxs(kl,{children:["Are you sure you want to delete"," ",S.full_name,"? This action cannot be undone."]})]}),n.jsxs(Cl,{children:[n.jsx(Al,{children:"Cancel"}),n.jsx(Tl,{onClick:()=>k(S.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},S.id))})]})})]})]})]}),r==="users"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold",children:L.total})]}),n.jsx(We,{className:"h-6 w-6 text-primary"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:L.pending})]}),n.jsx(mr,{className:"h-6 w-6 text-yellow-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:L.approved})]}),n.jsx(cs,{className:"h-6 w-6 text-green-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:L.suspended})]}),n.jsx(ql,{className:"h-6 w-6 text-red-500"})]})})})]}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"User Management"}),n.jsx(nt,{children:"Manage all registered users, approve accounts, and update permissions"})]}),n.jsxs(ie,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search users by name, email, or student ID...",value:o,onChange:S=>l(S.target.value),className:"pl-10"})]}),n.jsxs(ct,{value:a,onValueChange:S=>i(S),children:[n.jsxs(st,{className:"w-full md:w-48",children:[n.jsx(Cx,{className:"h-4 w-4 mr-2"}),n.jsx(dt,{})]}),n.jsxs(at,{children:[n.jsxs(ge,{value:"all",children:["All Users (",L.total,")"]}),n.jsxs(ge,{value:"pending",children:["Pending (",L.pending,")"]}),n.jsxs(ge,{value:"approved",children:["Approved (",L.approved,")"]}),n.jsxs(ge,{value:"suspended",children:["Suspended (",L.suspended,")"]})]})]}),n.jsx(z,{variant:"outline",onClick:w,children:"Refresh"})]}),d?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(mr,{className:"h-6 w-6 animate-spin mr-2"}),"Loading users..."]}):h?n.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading users: ",h]}):O.length>0?n.jsx("div",{className:"space-y-4",children:O.map(S=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(rn,{children:n.jsx(nn,{children:(S.full_name||S.username||"U").split(" ").map(Z=>Z[0]).join("").toUpperCase()})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:S.full_name||S.username}),kk(S.status||"pending")]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.email}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[S.student_id&&n.jsxs("span",{children:["ID: ",S.student_id]}),S.department&&n.jsxs("span",{children:["• ",S.department]}),S.year&&n.jsxs("span",{children:["• ",S.year]}),n.jsxs("span",{children:["• Joined"," ",new Date(S.created_at).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{variant:"outline",className:Tk(S.status||"pending"),children:(S.status||"pending").charAt(0).toUpperCase()+(S.status||"pending").slice(1)}),n.jsx(he,{variant:"secondary",children:(S.role||"student").charAt(0).toUpperCase()+(S.role||"student").slice(1)}),n.jsxs("div",{className:"flex items-center space-x-1",children:[(S.status||"pending")==="pending"&&n.jsx(z,{variant:"outline",size:"sm",onClick:()=>T(S.id,S.full_name||S.username),className:"text-green-600 hover:text-green-700",children:n.jsx(cs,{className:"h-4 w-4"})}),(S.status||"pending")==="approved"?n.jsx(z,{variant:"outline",size:"sm",onClick:()=>R(S.id,S.full_name||S.username),className:"text-red-600 hover:text-red-700",children:n.jsx(ql,{className:"h-4 w-4"})}):(S.status||"pending")==="suspended"?n.jsx(z,{variant:"outline",size:"sm",onClick:()=>T(S.id,S.full_name||S.username),className:"text-green-600 hover:text-green-700",children:n.jsx(cs,{className:"h-4 w-4"})}):null,n.jsxs(ct,{value:S.role||"student",onValueChange:Z=>D(S.id,Z,S.full_name||S.username),children:[n.jsx(st,{className:"w-24 h-8",children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"student",children:"Student"}),n.jsx(ge,{value:"faculty",children:"Faculty"}),n.jsx(ge,{value:"admin",children:"Admin"})]})]}),n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(z,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:n.jsx(Fn,{className:"h-4 w-4"})})}),n.jsxs(Nl,{children:[n.jsxs(Sl,{children:[n.jsx(El,{children:"Delete User"}),n.jsxs(kl,{children:["Are you sure you want to permanently delete"," ",S.full_name||S.username,"? This action cannot be undone."]})]}),n.jsxs(Cl,{children:[n.jsx(Al,{children:"Cancel"}),n.jsx(Tl,{className:"bg-red-600 hover:bg-red-700",onClick:()=>F(S.id,S.full_name||S.username),children:"Delete"})]})]})]})]})]})]},S.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(We,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:o?"No users found matching your search.":"No users found."})]})]})]})]}),r==="clubs"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Clubs"}),n.jsx("p",{className:"text-2xl font-bold",children:_e.length})]}),n.jsx(Qa,{className:"h-6 w-6 text-primary"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Clubs"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:_e.filter(S=>S.status==="active").length})]}),n.jsx(cs,{className:"h-6 w-6 text-green-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Set(_e.map(S=>S.category).filter(Boolean)).size})]}),n.jsx(Di,{className:"h-6 w-6 text-blue-500"})]})})})]}),(Ot||$)&&n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:$?"Edit Club":"Add New Club"}),n.jsx(nt,{children:$?"Update club information":"Create a new student club"})]}),n.jsxs(ie,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"name",children:"Club Name *"}),n.jsx(re,{id:"name",value:G.name,onChange:S=>q(Z=>({...Z,name:S.target.value})),placeholder:"Enter club name"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"category",children:"Category"}),n.jsxs(ct,{value:G.category,onValueChange:S=>q(Z=>({...Z,category:S})),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select category"})}),n.jsx(at,{children:Ai.map(S=>n.jsx(ge,{value:S,children:S},S))})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ee,{htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",value:G.description,onChange:S=>q(Z=>({...Z,description:S.target.value})),placeholder:"Enter club description",className:"w-full border rounded p-3 h-24"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting_time",children:"Meeting Time"}),n.jsx(re,{id:"meeting_time",value:G.meeting_time,onChange:S=>q(Z=>({...Z,meeting_time:S.target.value})),placeholder:"e.g., Every Monday 3 PM"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"meeting_location",children:"Meeting Location"}),n.jsx(re,{id:"meeting_location",value:G.meeting_location,onChange:S=>q(Z=>({...Z,meeting_location:S.target.value})),placeholder:"e.g., Room 101"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"max_members",children:"Max Members"}),n.jsx(re,{id:"max_members",type:"number",value:G.max_members,onChange:S=>q(Z=>({...Z,max_members:S.target.value})),placeholder:"50"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"requirements",children:"Requirements"}),n.jsx(re,{id:"requirements",value:G.requirements,onChange:S=>q(Z=>({...Z,requirements:S.target.value})),placeholder:"e.g., GPA 3.0+"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx(z,{variant:"outline",onClick:ft,children:"Cancel"}),n.jsx(z,{onClick:$?Rn:Ps,disabled:!G.name.trim(),children:$?"Update Club":"Create Club"})]})]})]}),n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Club Management"}),n.jsx(nt,{children:"Manage all registered clubs, view details, and update information"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(z,{variant:"outline",onClick:()=>Jn(!0),className:"bg-red-50 hover:bg-red-100 text-red-700 border-red-200",title:"Remove all club admin assignments",children:[n.jsx(Va,{className:"h-4 w-4 mr-2"}),"Remove All Admins"]}),n.jsxs(z,{onClick:()=>Wt(!0),children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Add New Club"]})]})]})}),n.jsx(ie,{children:ne?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading clubs..."})]}):Se?n.jsx("div",{className:"text-center py-8",children:n.jsxs("p",{className:"text-red-600",children:["Error: ",Se]})}):_e.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qa,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No clubs found"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"No clubs are currently registered in the system."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Club Admin"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Meeting Time"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Max Members"}),n.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:_e.map(S=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"py-3 px-4 font-medium",children:S.name}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(he,{variant:"outline",children:S.category||"N/A"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"max-w-xs truncate",title:S.description,children:S.description||"No description"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium",children:S.admin_name||"Unassigned"}),S.admin_source==="club_admin"&&n.jsx(he,{variant:"default",className:"text-xs",children:"Assigned"}),S.admin_source==="created_by"&&n.jsx(he,{variant:"secondary",className:"text-xs",children:"Creator"})]}),S.admin_email&&n.jsx("span",{className:"text-xs text-muted-foreground",children:S.admin_email})]})}),n.jsx("td",{className:"py-3 px-4",children:S.meeting_time||"N/A"}),n.jsx("td",{className:"py-3 px-4",children:S.max_members||"Unlimited"}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>lt(S),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(Va,{className:"h-4 w-4 mr-1"}),"Assign Admin"]}),(S.admin_source==="club_admin"||S.admin_source==="created_by")&&n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>Hr(S.id,S.name),className:"bg-red-600 hover:bg-red-700 text-white",disabled:Ht,title:"Remove current admin from this club",children:[n.jsx(Va,{className:"h-4 w-4 mr-1"}),"Remove Admin"]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>Le(S),children:n.jsx(ga,{className:"h-4 w-4"})}),n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(z,{variant:"destructive",size:"sm",children:n.jsx(Fn,{className:"h-4 w-4"})})}),n.jsxs(Nl,{children:[n.jsxs(Sl,{children:[n.jsx(El,{children:"Delete Club"}),n.jsxs(kl,{children:["Are you sure you want to delete"," ",S.name,"? This action cannot be undone."]})]}),n.jsxs(Cl,{children:[n.jsx(Al,{children:"Cancel"}),n.jsx(Tl,{onClick:()=>pf(S.id,S.name),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},S.id))})]})})})]})]}),r==="events"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Events"}),n.jsx("p",{className:"text-2xl font-bold",children:Rs.length})]}),n.jsx($e,{className:"h-6 w-6 text-primary"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Upcoming Events"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:Rs.filter(S=>new Date(S.start_at)>new Date).length})]}),n.jsx(mr,{className:"h-6 w-6 text-green-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Event Types"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Set(Rs.map(S=>S.event_type).filter(Boolean)).size})]}),n.jsx(Di,{className:"h-6 w-6 text-blue-500"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Rs.filter(S=>{const Z=new Date(S.start_at),de=new Date;return Z.getMonth()===de.getMonth()&&Z.getFullYear()===de.getFullYear()}).length})]}),n.jsx(Jf,{className:"h-6 w-6 text-orange-500"})]})})})]}),(pk||Ds)&&n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:Ds?"Edit Event":"Add New Event"}),n.jsx(nt,{children:Ds?"Update event information":"Create a new event"})]}),n.jsxs(ie,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"title",children:"Event Title *"}),n.jsx(re,{id:"title",value:Jt.title,onChange:S=>br(Z=>({...Z,title:S.target.value})),placeholder:"Enter event title"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"event_type",children:"Event Type"}),n.jsxs(ct,{value:Jt.event_type,onValueChange:S=>br(Z=>({...Z,event_type:S})),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select event type"})}),n.jsx(at,{children:gk.map(S=>n.jsx(ge,{value:S,children:S},S))})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"start_at",children:"Start Date & Time *"}),n.jsx(re,{id:"start_at",type:"datetime-local",value:Jt.start_at,onChange:S=>br(Z=>({...Z,start_at:S.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"end_at",children:"End Date & Time"}),n.jsx(re,{id:"end_at",type:"datetime-local",value:Jt.end_at,onChange:S=>br(Z=>({...Z,end_at:S.target.value}))})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"location",children:"Location"}),n.jsx(re,{id:"location",value:Jt.location,onChange:S=>br(Z=>({...Z,location:S.target.value})),placeholder:"Enter event location"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"max_participants",children:"Max Participants"}),n.jsx(re,{id:"max_participants",type:"number",value:Jt.max_participants,onChange:S=>br(Z=>({...Z,max_participants:S.target.value})),placeholder:"100"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"organizer",children:"Organizer"}),n.jsx(re,{id:"organizer",value:Jt.organizer,onChange:S=>br(Z=>({...Z,organizer:S.target.value})),placeholder:"Enter organizer name"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"contact_email",children:"Contact Email"}),n.jsx(re,{id:"contact_email",type:"email",value:Jt.contact_email,onChange:S=>br(Z=>({...Z,contact_email:S.target.value})),placeholder:"organizer@email.com"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"registration_deadline",children:"Registration Deadline"}),n.jsx(re,{id:"registration_deadline",type:"date",value:Jt.registration_deadline,onChange:S=>br(Z=>({...Z,registration_deadline:S.target.value}))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ee,{htmlFor:"description",children:"Description"}),n.jsx("textarea",{id:"description",value:Jt.description,onChange:S=>br(Z=>({...Z,description:S.target.value})),placeholder:"Enter event description",className:"w-full border rounded p-3 h-24"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[n.jsx(z,{variant:"outline",onClick:_k,children:"Cancel"}),n.jsx(z,{onClick:Ds?wk:yk,disabled:!Jt.title.trim()||!Jt.start_at,children:Ds?"Update Event":"Create Event"})]})]})]}),n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(De,{children:"Event Management"}),n.jsx(nt,{children:"Manage all events, view details, and update information"})]}),n.jsxs(z,{onClick:()=>vf(!0),children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Add New Event"]})]})}),n.jsx(ie,{children:mk?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading events..."})]}):Bv?n.jsx("div",{className:"text-center py-8",children:n.jsxs("p",{className:"text-red-600",children:["Error: ",Bv]})}):Rs.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx($e,{className:"mx-auto h-12 w-12 text-muted-foreground"}),n.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No events found"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"No events are currently scheduled in the system."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Title"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Start Date & Time"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Location"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Organizer"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Max Participants"}),n.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Actions"})]})}),n.jsx("tbody",{children:Rs.map(S=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"py-3 px-4 font-medium",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"font-medium",children:S.title}),n.jsx("div",{className:"text-sm text-muted-foreground truncate",title:S.description,children:S.description||"No description"})]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(he,{variant:"outline",children:S.event_type||"N/A"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:new Date(S.start_at).toLocaleDateString()}),n.jsx("div",{className:"text-muted-foreground",children:new Date(S.start_at).toLocaleTimeString()}),S.end_at&&S.end_at!==S.start_at&&n.jsxs("div",{className:"text-muted-foreground text-xs",children:["to"," ",new Date(S.end_at).toLocaleDateString()," ",new Date(S.end_at).toLocaleTimeString()]})]})}),n.jsx("td",{className:"py-3 px-4",children:S.location||"N/A"}),n.jsx("td",{className:"py-3 px-4",children:S.organizer||"N/A"}),n.jsx("td",{className:"py-3 px-4",children:S.max_participants||"Unlimited"}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>jk(S),children:n.jsx(ga,{className:"h-4 w-4"})}),n.jsxs(Id,{children:[n.jsx(Ld,{asChild:!0,children:n.jsx(z,{variant:"destructive",size:"sm",children:n.jsx(Fn,{className:"h-4 w-4"})})}),n.jsxs(Nl,{children:[n.jsxs(Sl,{children:[n.jsx(El,{children:"Delete Event"}),n.jsxs(kl,{children:["Are you sure you want to delete"," ",S.title,"? This action cannot be undone."]})]}),n.jsxs(Cl,{children:[n.jsx(Al,{children:"Cancel"}),n.jsx(Tl,{onClick:()=>bk(S.id,S.title),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},S.id))})]})})})]})]}),r==="analytics"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:c.length}),n.jsxs("p",{className:"text-xs text-success",children:[c.filter(S=>S.user_status==="active").length," ","Active"]})]}),n.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:n.jsx(We,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Clubs"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:_e.length}),n.jsxs("p",{className:"text-xs text-success",children:[_e.filter(S=>S.admin_source==="club_admin"||S.admin_source==="created_by").length," ","Managed"]})]}),n.jsx("div",{className:"bg-accent/10 p-3 rounded-lg",children:n.jsx(Qa,{className:"h-6 w-6 text-accent"})})]})})}),n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Events"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:Rs.length}),n.jsxs("p",{className:"text-xs text-success",children:[Rs.filter(S=>new Date(S.start_at)>new Date).length," ","Upcoming"]})]}),n.jsx("div",{className:"bg-warning/10 p-3 rounded-lg",children:n.jsx($e,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Event Registrations"}),n.jsx("p",{className:"text-3xl font-bold text-foreground",children:"456"}),n.jsx("p",{className:"text-xs text-success",children:"+15% from last week"})]}),n.jsx("div",{className:"bg-success/10 p-3 rounded-lg",children:n.jsx(Jf,{className:"h-6 w-6 text-success"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"User Growth Trend"}),n.jsx(nt,{children:"Monthly user registration growth"})]}),n.jsx(ie,{children:n.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Di,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Chart visualization coming soon..."})]})})})]}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"Club Activity Overview"}),n.jsx(nt,{children:"Most active clubs this month"})]}),n.jsx(ie,{children:n.jsx("div",{className:"space-y-4",children:[{name:"Robotics Club",members:45,events:8,growth:"+12%"},{name:"Drama Society",members:32,events:6,growth:"+8%"},{name:"Chess Club",members:28,events:4,growth:"+15%"},{name:"Photography Club",members:25,events:5,growth:"+20%"}].map((S,Z)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:S.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.members," members • ",S.events," events"]})]}),n.jsx(he,{variant:"default",className:"text-xs",children:S.growth})]},Z))})})]})]}),n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:"Department-wise Statistics"}),n.jsx(nt,{children:"User distribution across departments"})]}),n.jsx(ie,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{department:"Computer Science",users:c.filter(S=>S.department==="Computer Science").length,percentage:c.length>0?`${(c.filter(S=>S.department==="Computer Science").length/c.length*100).toFixed(1)}%`:"0%"},{department:"Engineering",users:c.filter(S=>S.department==="Engineering").length,percentage:c.length>0?`${(c.filter(S=>S.department==="Engineering").length/c.length*100).toFixed(1)}%`:"0%"},{department:"Business",users:c.filter(S=>S.department==="Business").length,percentage:c.length>0?`${(c.filter(S=>S.department==="Business").length/c.length*100).toFixed(1)}%`:"0%"},{department:"Arts & Humanities",users:c.filter(S=>S.department==="Arts & Humanities").length,percentage:c.length>0?`${(c.filter(S=>S.department==="Arts & Humanities").length/c.length*100).toFixed(1)}%`:"0%"},{department:"Medicine",users:c.filter(S=>S.department==="Medicine").length,percentage:c.length>0?`${(c.filter(S=>S.department==="Medicine").length/c.length*100).toFixed(1)}%`:"0%"},{department:"Others",users:c.filter(S=>!["Computer Science","Engineering","Business","Arts & Humanities","Medicine"].includes(S.department)).length,percentage:c.length>0?`${(c.filter(S=>!["Computer Science","Engineering","Business","Arts & Humanities","Medicine"].includes(S.department)).length/c.length*100).toFixed(1)}%`:"0%"}].map((S,Z)=>n.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:S.users}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.department}),n.jsx("p",{className:"text-xs text-primary",children:S.percentage})]},Z))})})]})]}),r==="settings"&&n.jsx("div",{className:"space-y-6",children:n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsxs(De,{className:"flex items-center",children:[n.jsx(Pp,{className:"mr-2 h-5 w-5"}),"System Settings"]}),n.jsx(nt,{children:"Configure platform settings and preferences"})]}),n.jsxs(ie,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"platform-name",children:"Platform Name"}),n.jsx(re,{id:"platform-name",defaultValue:"UniConnect"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"university-name",children:"University Name"}),n.jsx(re,{id:"university-name",defaultValue:"University of Excellence"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"admin-email",children:"Admin Email"}),n.jsx(re,{id:"admin-email",defaultValue:"admin@university.edu"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"max-clubs",children:"Max Clubs per User"}),n.jsx(re,{id:"max-clubs",type:"number",defaultValue:"5"})]})]})]}),n.jsx(z,{className:"w-full md:w-auto",children:"Save Settings"})]})]})})]})]})}),ae&&we&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Assign Club Admin"}),n.jsx(z,{variant:"ghost",size:"sm",onClick:Pi,children:n.jsx(Ni,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Club: ",we.name]}),n.jsx("p",{className:"text-muted-foreground",children:"Select a user to assign as the club administrator. This user will have full control over the club."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid gap-4",children:ht.map(S=>n.jsx(J,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:S.full_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.email}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(he,{variant:"outline",children:S.role}),n.jsx(he,{variant:"secondary",children:S.department})]})]}),n.jsx(z,{onClick:()=>Wr(S.id,S.full_name),disabled:Ht,className:"bg-blue-600 hover:bg-blue-700",children:Ht?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Assigning..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Va,{className:"h-4 w-4 mr-2"}),"Assign as Admin"]})})]})},S.id))}),ht.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(We,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No available users found for admin assignment."})]})]})]})}),As&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-background p-6 rounded-lg shadow-lg max-w-md w-full mx-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:n.jsx(Va,{className:"h-6 w-6 text-red-600"})}),n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Remove All Club Admins"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"This action will remove ALL club admin assignments from the system. All clubs will become unassigned and users will lose access to Club Dashboard."}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsx(z,{variant:"outline",onClick:()=>Jn(!1),disabled:Ht,children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:gf,disabled:Ht,className:"bg-red-600 hover:bg-red-700",children:Ht?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Removing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Va,{className:"h-4 w-4 mr-2"}),"Remove All Admins"]})})]})]})})})]})},PU=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState(null),[i,o]=u.useState([]),[l,c]=u.useState(""),[d,h]=u.useState(new Set),[f,m]=u.useState(0),[p,g]=u.useState(navigator.onLine),[x,y]=u.useState(!1),[w,v]=u.useState(""),b=u.useRef(null),j=u.useRef(null),N=async()=>{console.log("Fetching conversations for user:",e.id);try{const{data:A,error:P}=await U.from("conversation_participants").select("conversation:conversations(id, name, type)").eq("user_id",e.id);if(P){console.error("Error fetching conversations from participants:",P);const{data:T,error:R}=await U.from("conversations").select("id, name, type");if(R){console.error("Error fetching all conversations:",R),r([]);return}console.log("Using fallback - all conversations:",T),r(T||[]);return}if(A&&A.length>0){console.log("Conversations data:",A);const T=A.flatMap(R=>R.conversation);console.log("Flat conversations:",T),r(T),A.length>0&&Array.isArray(A[0].conversation)&&A[0].conversation.length>0&&A[0].conversation[0].id&&(console.log("Setting selected conversation:",A[0].conversation[0].id),a(A[0].conversation[0].id))}else console.log("No conversations found, user can create new ones"),r([])}catch(A){console.error("Unexpected error fetching conversations:",A),r([])}},C=async A=>{const{data:P,error:T}=await U.from("messages").select("id, content, sender_id, created_at, sender_name").eq("conversation_id",A).order("created_at",{ascending:!0});T?console.error(T):(o(P||[]),_())},_=()=>{var A;(A=b.current)==null||A.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{if(s){C(s),j.current&&(U.removeChannel(j.current),j.current=null);const A=U.channel(`room:${s}`,{config:{presence:{key:(e==null?void 0:e.id)||"anonymous"}}});return A.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${s}`},P=>{const T=P.new;o(R=>[...R,T]),_()}),A.on("presence",{event:"sync"},()=>{const P=A.presenceState(),T=Object.values(P).flat();m(T.length)}),A.on("broadcast",{event:"typing"},({payload:P})=>{const T=P==null?void 0:P.user_id;!T||T===(e==null?void 0:e.id)||(h(R=>new Set([...R,T])),setTimeout(()=>{h(R=>{const F=new Set(R);return F.delete(T),F})},1200))}),A.subscribe(async P=>{P==="SUBSCRIBED"&&await A.track({user_id:(e==null?void 0:e.id)||"anonymous"})}),j.current=A,()=>{j.current&&(U.removeChannel(j.current),j.current=null)}}},[s]),u.useEffect(()=>{e!=null&&e.id&&N()},[e]),u.useEffect(()=>{const A=()=>g(!0),P=()=>g(!1);return window.addEventListener("online",A),window.addEventListener("offline",P),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",P)}},[]);const k=async()=>{if(!l.trim())return;let A=s;if(!A&&(A=await E(),!A)){console.error("Failed to create conversation");return}const P={id:`temp_${Date.now()}`,conversation_id:A,sender_id:e.id,sender_name:e.email||e.full_name||"Unknown User",content:l.trim(),created_at:new Date().toISOString()};if(o(T=>[...T,P]),c(""),_(),p)try{const{data:T,error:R}=await U.from("messages").insert({conversation_id:A,sender_id:e.id,sender_name:e.email||e.full_name||"Unknown User",content:P.content}).select();R?(console.error("Error sending message:",R),o(F=>F.map(D=>D.id===P.id?{...D,id:`failed_${Date.now()}`}:D))):(console.log("Message sent successfully:",T),o(F=>F.map(D=>D.id===P.id?{...D,id:T[0].id}:D)))}catch(T){console.error("Network error:",T),o(R=>R.map(F=>F.id===P.id?{...F,id:`failed_${Date.now()}`}:F))}else{const T=JSON.parse(localStorage.getItem("offlineMessages")||"[]");T.push(P),localStorage.setItem("offlineMessages",JSON.stringify(T)),console.log("Message stored offline")}},E=async()=>{if(!(e!=null&&e.id))return null;try{const A=w.trim()||`Chat with ${e.full_name||e.email}`,{data:P,error:T}=await U.from("conversations").insert({name:A,type:"direct",created_by:e.id}).select().single();if(T)return console.error("Error creating conversation:",T),null;const{error:R}=await U.from("conversation_participants").insert({conversation_id:P.id,user_id:e.id,is_admin:!0});R&&(console.error("Error adding participant:",R),console.log("Conversation created but participant addition failed, continuing anyway"));const F={id:P.id,name:A,type:"direct"};return r(D=>[F,...D]),a(P.id),y(!1),v(""),P.id}catch(A){return console.error("Error creating conversation:",A),null}},M=u.useRef(0),H=()=>{const A=Date.now();!j.current||A-M.current<400||(M.current=A,j.current.send({type:"broadcast",event:"typing",payload:{user_id:e==null?void 0:e.id}}))};return n.jsxs("div",{className:"h-[calc(100vh-80px)] grid grid-cols-12 gap-4 p-4",children:[n.jsxs("div",{className:"col-span-12 md:col-span-3 border rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-3 border-b font-semibold flex items-center justify-between",children:[n.jsx("span",{children:"Conversations"}),n.jsx("button",{onClick:()=>y(!0),className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:"New Chat"})]}),x&&n.jsxs("div",{className:"p-3 border-b bg-muted/50",children:[n.jsx("input",{type:"text",placeholder:"Chat name (optional)",value:w,onChange:A=>v(A.target.value),className:"w-full px-2 py-1 text-sm border rounded",onKeyDown:A=>A.key==="Enter"&&E()}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx("button",{onClick:()=>E(),className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:"Create"}),n.jsx("button",{onClick:()=>{y(!1),v("")},className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded hover:bg-muted/90",children:"Cancel"})]})]}),n.jsx("div",{className:"max-h-full overflow-y-auto",children:t.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No conversations yet. Start a new chat!"}):t.map(A=>n.jsxs("button",{onClick:()=>a(A.id),className:`w-full text-left px-4 py-3 border-b hover:bg-muted ${A.id===s?"bg-muted":""}`,children:[n.jsx("div",{className:"text-sm font-medium",children:A.name}),A.id===s&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f," online"]})]},A.id))})]}),n.jsxs("div",{className:"col-span-12 md:col-span-9 border rounded-lg flex flex-col",children:[n.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[n.jsx("div",{className:"font-semibold",children:s?"Chat":"Start a New Conversation"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${p?"bg-green-500":"bg-red-500"}`}),n.jsx("div",{className:"text-xs text-muted-foreground",children:p?"Online":"Offline"}),s&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[f," online"]})]})]}),s?n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[i.map(A=>n.jsxs("div",{className:`max-w-[80%] rounded-lg px-3 py-2 text-sm shadow ${A.sender_id===e.id?"ml-auto bg-primary text-primary-foreground":"mr-auto bg-muted"} ${A.id.startsWith("failed_")?"opacity-50":""}`,children:[A.sender_id!==e.id&&n.jsx("div",{className:"text-xs font-medium opacity-80 mb-0.5",children:A.sender_name}),n.jsx("div",{children:A.content}),n.jsxs("div",{className:"text-[10px] opacity-70 mt-1 text-right",children:[new Date(A.created_at).toLocaleTimeString(),A.id.startsWith("failed_")&&" (Failed to send)"]})]},A.id)),!!d.size&&n.jsx("div",{className:"text-xs text-muted-foreground",children:"Someone is typing…"}),n.jsx("div",{ref:b})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-muted-foreground",children:[n.jsx("div",{className:"text-lg mb-2",children:"Welcome to Chat!"}),n.jsx("div",{className:"text-sm mb-4",children:"Start typing below to create a new conversation"}),n.jsx("div",{className:"text-xs",children:"Your messages will be saved locally when offline"})]})}),n.jsxs("div",{className:"p-3 border-t flex gap-2",children:[n.jsx("input",{type:"text",placeholder:s?"Type a message":"Type to start a new conversation",className:"flex-1 border rounded px-3 py-2 text-sm",value:l,onChange:A=>{c(A.target.value),s&&H()},onKeyDown:A=>A.key==="Enter"&&k()}),n.jsx("button",{onClick:k,className:"px-4 py-2 rounded bg-primary text-primary-foreground text-sm",disabled:!l.trim(),children:s?"Send":"Start Chat"})]})]})]})},RU=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState(null),[i,o]=u.useState({}),[l,c]=u.useState(!0),[d,h]=u.useState(0),f=u.useRef(null),[m,p]=u.useState(!1),g=async()=>{if(e!=null&&e.id)try{const{data:P,error:T}=await U.from("conversation_participants2").select("conversation_id").eq("user_id",e.id.toString());if(T){console.error("Error fetching conversation participants:",T);return}const R=(P||[]).map(L=>L.conversation_id);if(R.length===0){r([]);return}const{data:F,error:D}=await U.from("conversations2").select("id, name, type, created_at, updated_at").in("id",R);if(D){console.error("Error fetching conversations:",D);return}const O=(F||[]).map(L=>({id:L.id,name:L.name,type:L.type,timestamp:new Date(L.updated_at||L.created_at),unread:0,members:L.type==="group"?0:void 0}));if(O.sort((L,Y)=>Y.timestamp.getTime()-L.timestamp.getTime()),O.length>0){const L=await Promise.all(O.map(async Y=>{if(Y.type==="direct"){const B=await N(Y.id,e.id.toString());if(console.log("Conversation:",Y.id,"Current user:",e.id,"Other participant:",B),B)return{...Y,name:B.full_name||B.email||"Unknown User",displayName:B.full_name||B.email||"Unknown User"};{const Q=e.full_name||e.email;return Y.name!==Q?Y:{...Y,name:"Unknown User"}}}return Y}));r(L)}else r(O);O.length>0&&!s&&a(O[0].id)}catch(P){console.error("Unexpected error fetching conversations:",P)}finally{c(!1)}},x=async P=>{try{const{data:T,error:R}=await U.from("messages2").select("*").eq("conversation_id",P).order("created_at",{ascending:!0});if(R){console.error("Error fetching messages:",R);return}const F=(T||[]).map(D=>({id:D.id,sender:D.sender_name,content:D.content,timestamp:new Date(D.created_at),isOwn:D.sender_id===(e==null?void 0:e.id),sender_id:D.sender_id,conversation_id:D.conversation_id,sender_name:D.sender_name,created_at:D.created_at}));o(D=>({...D,[P]:F}))}catch(T){console.error("Error fetching messages:",T)}},y=async(P,T)=>{if(!P.trim()||!(e!=null&&e.id))return!1;let R=T||s;if(!R&&(R=await w("New Chat","direct"),!R))return!1;try{const{data:F}=await U.from("conversation_participants2").select("user_id").eq("conversation_id",R),D=(F||[]).map(O=>O.user_id);if(D.length===2){const O=D.find(L=>L!==e.id.toString());if(O){const{data:L}=await U.from("user_blocks").select("blocker_id,blocked_id").or(`and(blocker_id.eq.${e.id.toString()},blocked_id.eq.${O}),and(blocker_id.eq.${O},blocked_id.eq.${e.id.toString()})`);if(L&&L.length>0)return console.warn("Message blocked due to user block"),!1}}}catch(F){console.error("Block check failed",F)}try{const{data:F,error:D}=await U.from("messages2").insert({conversation_id:R,sender_id:e.id.toString(),sender_name:e.email||e.full_name||"Unknown User",content:P.trim()}).select().single();return D?(console.error("Error sending message:",D),!1):!0}catch(F){return console.error("Error sending message:",F),!1}},w=async(P,T)=>{if(!(e!=null&&e.id))return null;try{const{data:R,error:F}=await U.from("conversations2").insert({name:P.trim()||`Chat with ${e.full_name||e.email}`,type:T,created_by:e.id.toString()}).select().single();if(F)return console.error("Error creating conversation:",F),null;const{error:D}=await U.from("conversation_participants2").insert({conversation_id:R.id,user_id:e.id.toString(),is_admin:!0});D&&console.error("Error adding participant:",D);const O={id:R.id,name:R.name,type:R.type,timestamp:new Date(R.created_at),unread:0,members:T==="group"?1:void 0};return r(L=>[O,...L]),a(R.id),R.id}catch(R){return console.error("Error creating conversation:",R),null}},v=async P=>{const{data:T,error:R}=await U.from("users").select("id, full_name, email, student_id").eq("student_id",P).single();return R?(console.error("findUserByStudentId error:",R),null):T},b=async P=>{if(!(e!=null&&e.id))return null;p(!0);try{const T=await v(P);if(!T)return null;const R=await j(e.id.toString(),T.id.toString());if(R)return a(R.id),p(!1),R.id;const F=`${T.full_name||T.email||P}`,{data:D,error:O}=await U.from("conversations2").insert({name:F,type:"direct",created_by:e.id.toString()}).select().single();if(O)return console.error("startDirectConversation: create convo error",O),p(!1),null;const L=[{conversation_id:D.id,user_id:e.id.toString(),is_admin:!0},{conversation_id:D.id,user_id:T.id.toString(),is_admin:!1}],{error:Y}=await U.from("conversation_participants2").insert(L);if(Y)return console.error("startDirectConversation: add participants error",Y),p(!1),null;const B={id:D.id,name:F,type:"direct",timestamp:new Date(D.created_at),unread:0};return r(Q=>[B,...Q]),a(D.id),p(!1),D.id}catch(T){return console.error("startDirectConversation error:",T),p(!1),null}},j=async(P,T)=>{try{const{data:R,error:F}=await U.from("conversation_participants2").select(`
          conversation_id,
          conversations2!inner(id, name, type)
        `).eq("user_id",P).eq("conversations2.type","direct");if(F||!R)return null;for(const D of R){const{data:O}=await U.from("conversation_participants2").select("conversation_id").eq("conversation_id",D.conversation_id).eq("user_id",T).single();if(O)return D.conversations2}return null}catch(R){return console.error("Error finding existing conversation:",R),null}},N=async(P,T)=>{var R;try{const{data:F,error:D}=await U.from("conversation_participants2").select("user_id").eq("conversation_id",P);if(D||!F)return null;const O=(R=F.find(B=>B.user_id!==T))==null?void 0:R.user_id;if(!O)return null;const{data:L,error:Y}=await U.from("users").select("id, full_name, email").eq("id",O).single();return Y||!L?(console.error("Error fetching user data:",Y),null):L}catch(F){return console.error("Error getting other participant name:",F),null}},C=async(P,T)=>{if(!(e!=null&&e.id))return null;p(!0);try{const{data:R,error:F}=await U.from("conversations2").insert({name:P.trim()||"New Group",type:"group",created_by:e.id.toString()}).select().single();if(F)return console.error("createGroupConversation error",F),null;const D=T.map(Q=>Q.trim()).filter(Boolean);let O=[];if(D.length>0){const{data:Q,error:ue}=await U.from("users").select("id, student_id").in("student_id",D);ue&&console.error("createGroupConversation users lookup",ue),O=(Q||[]).map(pe=>pe.id)}const L=[{conversation_id:R.id,user_id:e.id.toString(),is_admin:!0},...O.map(Q=>({conversation_id:R.id,user_id:Q.toString(),is_admin:!1}))],{error:Y}=await U.from("conversation_participants2").insert(L);Y&&console.error("createGroupConversation add participants",Y);const B={id:R.id,name:R.name,type:"group",timestamp:new Date(R.created_at),unread:0,members:L.length};return r(Q=>[B,...Q]),a(R.id),R.id}finally{p(!1)}},_=async P=>{const{data:T,error:R}=await U.from("conversation_participants2").select("user_id").eq("conversation_id",P);if(R)return console.error("fetchParticipants parts",R),[];const F=(T||[]).map(L=>L.user_id);if(F.length===0)return[];const{data:D,error:O}=await U.from("users").select("id, full_name, email, student_id").in("id",F);return O?(console.error("fetchParticipants users",O),[]):(D||[]).map(L=>({user_id:L.id,full_name:L.full_name,email:L.email,student_id:L.student_id}))},k=async(P,T)=>{const R=await v(T);if(!R)return!1;const{error:F}=await U.from("conversation_participants2").insert({conversation_id:P,user_id:R.id.toString(),is_admin:!1});return F?(console.error("addMemberByStudentId",F),!1):!0},E=async(P,T)=>{const R=await v(T);if(!R)return!1;const{error:F}=await U.from("conversation_participants2").delete().eq("conversation_id",P).eq("user_id",R.id.toString());return F?(console.error("removeMemberByStudentId",F),!1):!0},M=async(P,T)=>{const{error:R}=await U.from("conversations2").update({name:T}).eq("id",P);return R?(console.error("renameConversation error:",R),!1):(r(F=>F.map(D=>D.id===P?{...D,name:T}:D)),!0)},H=async P=>{const{error:T}=await U.from("conversations2").delete().eq("id",P);return T?(console.error("deleteConversation error:",T),!1):(r(R=>R.filter(F=>F.id!==P)),s===P&&a(null),!0)},A=async P=>{if(!(e!=null&&e.id))return!1;const{data:T,error:R}=await U.from("conversation_participants2").select("user_id").eq("conversation_id",P);if(R)return console.error("blockUser: fetch participants error",R),!1;const F=(T||[]).map(L=>L.user_id).find(L=>L!==e.id.toString());if(!F)return!1;const{error:D}=await U.from("user_blocks").insert({blocker_id:e.id.toString(),blocked_id:F}).select();D&&console.error("blockUser: insert block error",D);const{error:O}=await U.from("conversation_participants2").delete().eq("conversation_id",P).eq("user_id",F);return O?(console.error("blockUser: delete participant error",O),!1):!0};return u.useEffect(()=>{if(s&&(e!=null&&e.id)){x(s),f.current&&(U.removeChannel(f.current),f.current=null);const P=U.channel(`room:${s}`,{config:{presence:{key:e.id}}});return P.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages2",filter:`conversation_id=eq.${s}`},T=>{const R=T.new,F={id:R.id,sender:R.sender_name,content:R.content,timestamp:new Date(R.created_at),isOwn:R.sender_id===e.id,sender_id:R.sender_id,conversation_id:R.conversation_id,sender_name:R.sender_name,created_at:R.created_at};o(D=>({...D,[s]:[...D[s]||[],F]})),setTimeout(()=>{const D=document.querySelector(".overflow-y-auto");D&&(D.scrollTop=D.scrollHeight)},100)}),P.on("presence",{event:"sync"},()=>{const T=P.presenceState(),R=Object.values(T).flat();h(R.length)}),P.subscribe(async T=>{T==="SUBSCRIBED"&&await P.track({user_id:e.id})}),f.current=P,()=>{f.current&&(U.removeChannel(f.current),f.current=null)}}},[s,e==null?void 0:e.id]),u.useEffect(()=>{e!=null&&e.id&&g()},[e==null?void 0:e.id]),{conversations:t,selectedConversation:s,setSelectedConversation:a,messages:i,loading:l,actionLoading:m,onlineCount:d,sendMessage:y,createConversation:w,createGroupConversation:C,renameConversation:M,deleteConversation:H,blockUserInConversation:A,startDirectConversationWithStudentId:b,addMemberByStudentId:k,removeMemberByStudentId:E,fetchParticipantsWithProfiles:_,fetchConversations:g,refreshConversations:g}},DU=()=>{var G;const{user:e}=Ye(),[t,r]=u.useState(""),[s,a]=u.useState(""),[i,o]=u.useState(!1),[l,c]=u.useState(""),[d,h]=u.useState(!1),[f,m]=u.useState(""),[p,g]=u.useState(!1),[x,y]=u.useState(!1),[w,v]=u.useState(!1),[b,j]=u.useState(""),[N,C]=u.useState(""),[_,k]=u.useState(!1),[E,M]=u.useState([]),[H,A]=u.useState(""),[P,T]=u.useState(null),R=u.useRef(null),{conversations:F,selectedConversation:D,setSelectedConversation:O,messages:L,loading:Y,onlineCount:B,sendMessage:Q,createConversation:ue,createGroupConversation:pe,renameConversation:Oe,deleteConversation:I,blockUserInConversation:K,startDirectConversationWithStudentId:ce,addMemberByStudentId:ve,removeMemberByStudentId:_e,fetchParticipantsWithProfiles:V}=RU(),ne=F.find(q=>q.id===D),Ce=D?L[D]||[]:[],Se=async()=>{if(e!=null&&e.id)try{let{data:q,error:ae}=await supabase.from("users").select("avatar_url").eq("id",e.id).single();if(ae&&(ae.code==="PGRST116"||ae.code==="PGRST204")){const se=await supabase.from("manual_users").select("avatar_url").eq("id",e.id).single();q=se.data,ae=se.error}!ae&&(q!=null&&q.avatar_url)&&T(q.avatar_url)}catch(q){console.error("Error fetching user avatar:",q)}},xt=()=>{var q;(q=R.current)==null||q.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{xt()},[Ce]),u.useEffect(()=>{e!=null&&e.id&&Se()},[e==null?void 0:e.id]),u.useEffect(()=>{const q=()=>{Se()};return window.addEventListener("avatar-refreshed",q),()=>{window.removeEventListener("avatar-refreshed",q)}},[]);const Ot=async()=>{t.trim()&&await Q(t)&&r("")},Wt=async()=>{if(!l.trim())return;await ce(l.trim())&&(o(!1),c(""))},$=q=>q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),W=q=>{const se=new Date().getTime()-q.getTime(),we=Math.floor(se/(1e3*60)),Ae=Math.floor(se/(1e3*60*60)),ht=Math.floor(se/(1e3*60*60*24));return we<1?"just now":we<60?`${we}m ago`:Ae<24?`${Ae}h ago`:`${ht}d ago`};return n.jsx(ut,{children:n.jsx("div",{className:"h-screen bg-background pt-16",children:n.jsxs("div",{className:"h-full flex",children:[n.jsxs("div",{className:"w-80 border-r border-border bg-card flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Messages"}),n.jsx(z,{size:"icon",variant:"ghost",onClick:()=>o(!0),"aria-label":"Start new chat",children:n.jsx(Qt,{className:"h-5 w-5"})}),n.jsx(z,{size:"sm",variant:"outline",className:"ml-2",onClick:()=>v(!0),children:"New Group"})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted/30 rounded-lg mb-4",children:[n.jsxs(rn,{className:"h-10 w-10 border-2 border-primary/20",children:[n.jsx(qn,{src:P||"",alt:e==null?void 0:e.full_name}),n.jsx(nn,{className:"bg-gradient-primary text-primary-foreground font-semibold",children:((G=e==null?void 0:e.full_name)==null?void 0:G.split(" ").map(q=>q[0]).join("").toUpperCase())||"U"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:e==null?void 0:e.full_name}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e==null?void 0:e.email})]})]}),i&&n.jsxs("div",{className:"mb-4 p-3 border rounded-lg bg-muted/50",children:[n.jsx(re,{placeholder:"Enter student ID to start chat",value:l,onChange:q=>c(q.target.value),className:"mb-2",autoComplete:"off",onKeyDown:q=>q.key==="Enter"&&Wt()}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{size:"sm",onClick:Wt,className:"bg-gradient-hero",children:"Start"}),n.jsx(z,{size:"sm",variant:"outline",onClick:()=>{o(!1),c("")},children:"Cancel"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search conversations...",value:s,onChange:q=>a(q.target.value),className:"pl-10"})]})]}),n.jsx(xv,{className:"flex-1",children:n.jsx("div",{className:"p-2",children:Y?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"text-muted-foreground",children:"Loading conversations..."})}):F.length===0?n.jsx("div",{className:"flex items-center justify-center p-8 text-center",children:n.jsxs("div",{children:[n.jsx(Vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"No conversations yet"}),n.jsx("p",{className:"text-muted-foreground text-xs",children:"Click the + button to start a chat"})]})}):F.filter(q=>q.name.toLowerCase().includes(s.toLowerCase())).map(q=>n.jsx("div",{onClick:()=>O(q.id),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 hover:bg-orange-100 ${D===q.id?"bg-orange-200":""}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(rn,{className:"h-12 w-12",children:[n.jsx(qn,{src:q.avatar}),n.jsx(nn,{className:"bg-gradient-primary text-primary-foreground",children:q.type==="group"?n.jsx(We,{className:"h-6 w-6"}):q.name.split(" ").map(ae=>ae[0]).join("")})]}),q.type==="direct"&&q.online&&n.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-success rounded-full border-2 border-background"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium truncate",children:q.name}),q.type==="group"&&n.jsx(Ex,{className:"h-3 w-3 text-muted-foreground"})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:q.timestamp?W(q.timestamp):"New"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:q.lastMessage||"No messages yet"}),q.unread&&q.unread>0&&n.jsx(he,{variant:"default",className:"ml-2 min-w-[20px] h-5 text-xs",children:q.unread})]}),q.type==="group"&&q.members&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[q.members," members"]})]})]})},q.id))})})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:D&&ne?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4 border-b border-border bg-card",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(rn,{className:"h-10 w-10",children:[n.jsx(qn,{src:ne.avatar}),n.jsx(nn,{className:"bg-gradient-primary text-primary-foreground",children:ne.type==="group"?n.jsx(We,{className:"h-5 w-5"}):ne.name.split(" ").map(q=>q[0]).join("")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:(ne.type==="direct",ne.name)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:ne.type==="group"?`${B} online`:"Active now"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs(zu,{children:[n.jsx(Bu,{asChild:!0,children:n.jsx(z,{size:"icon",variant:"ghost","aria-label":"Conversation menu",children:n.jsx(l4,{className:"h-5 w-5"})})}),n.jsxs(Ec,{align:"end",className:"w-56",children:[n.jsx($r,{onClick:async()=>{if(!D)return;const q=await V(D);M(q),k(!0)},children:"View/Add members"}),n.jsx($r,{onClick:()=>{ne&&(m(ne.name),h(!0))},children:"Rename conversation"}),n.jsx($r,{onClick:()=>g(!0),children:"Block user"}),n.jsx($r,{className:"text-red-600",onClick:()=>y(!0),children:"Remove chat"})]})]})})]})}),n.jsx(jn,{open:d,onOpenChange:h,children:n.jsxs(Zr,{children:[n.jsx(Jr,{children:n.jsx(Xr,{children:"Rename conversation"})}),n.jsx("div",{className:"mt-2",children:n.jsx(re,{autoFocus:!0,value:f,onChange:q=>m(q.target.value),placeholder:"Enter new name"})}),n.jsxs(Zs,{children:[n.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(z,{onClick:async()=>{D&&f.trim()&&await Oe(D,f.trim())&&h(!1)},children:"Save"})]})]})}),n.jsx(jn,{open:w,onOpenChange:v,children:n.jsxs(Zr,{children:[n.jsx(Jr,{children:n.jsx(Xr,{children:"Create group"})}),n.jsxs("div",{className:"space-y-3 mt-2",children:[n.jsx(re,{placeholder:"Group name",value:b,onChange:q=>j(q.target.value)}),n.jsx(re,{placeholder:"Member student IDs (comma separated)",value:N,onChange:q=>C(q.target.value)})]}),n.jsxs(Zs,{children:[n.jsx(z,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsx(z,{onClick:async()=>{const q=N.split(",").map(ae=>ae.trim()).filter(Boolean);b.trim()&&q.length&&await pe(b.trim(),q)&&(j(""),C(""),v(!1))},children:"Create"})]})]})}),n.jsx(jn,{open:p,onOpenChange:g,children:n.jsxs(Zr,{children:[n.jsx(Jr,{children:n.jsx(Xr,{children:"Block user"})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"The other participant will be removed from this conversation. You can re‑add them later by starting a new chat."}),n.jsxs(Zs,{children:[n.jsx(z,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsx(z,{onClick:async()=>{D&&await K(D)&&g(!1)},children:"Block"})]})]})}),n.jsx(jn,{open:x,onOpenChange:y,children:n.jsxs(Zr,{children:[n.jsx(Jr,{children:n.jsx(Xr,{children:"Remove chat"})}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This will delete the conversation and its messages. This action cannot be undone."}),n.jsxs(Zs,{children:[n.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(z,{className:"bg-red-600 hover:bg-red-700",onClick:async()=>{D&&await I(D)&&y(!1)},children:"Delete"})]})]})}),n.jsx(jn,{open:_,onOpenChange:k,children:n.jsxs(Zr,{className:"max-w-md",children:[n.jsx(Jr,{children:n.jsx(Xr,{children:"Members"})}),n.jsxs("div",{className:"space-y-3",children:[E.length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No members found."}):n.jsx("div",{className:"space-y-2",children:E.map(q=>n.jsxs("div",{className:"flex items-center justify-between border rounded px-3 py-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:q.full_name||q.email||q.student_id||q.user_id}),q.student_id&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",q.student_id]})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{if(!D||!q.student_id)return;await _e(D,q.student_id)&&M(se=>se.filter(we=>we.user_id!==q.user_id))},children:"Remove"})]},q.user_id))}),n.jsxs("div",{className:"pt-2 border-t",children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"Add member"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{placeholder:"Student ID",value:H,onChange:q=>A(q.target.value)}),n.jsx(z,{onClick:async()=>{if(!D||!H.trim())return;if(await ve(D,H.trim())){const ae=await V(D);M(ae),A("")}},children:"Add"})]})]})]}),n.jsx(Zs,{children:n.jsx(z,{variant:"outline",onClick:()=>k(!1),children:"Close"})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.jsxs("div",{className:"space-y-4",children:[Ce.map(q=>n.jsx("div",{className:`flex ${q.isOwn?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${q.isOwn?"bg-primary text-primary-foreground":"bg-muted"}`,children:[!q.isOwn&&ne.type==="group"&&n.jsx("p",{className:"text-xs font-medium text-primary mb-1",children:q.sender_name||q.sender}),n.jsx("p",{className:"text-sm",children:q.content}),n.jsx("p",{className:`text-xs mt-1 ${q.isOwn?"text-primary-foreground/70":"text-muted-foreground"}`,children:$(q.timestamp)})]})},q.id)),n.jsx("div",{ref:R})]})}),n.jsx("div",{className:"p-4 border-t border-border bg-card flex-shrink-0",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(z,{size:"icon",variant:"ghost",children:n.jsx(y4,{className:"h-5 w-5"})}),n.jsx(z,{size:"icon",variant:"ghost",children:n.jsx(Bc,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx(re,{placeholder:"Type a message...",value:t,onChange:q=>r(q.target.value),onKeyDown:q=>q.key==="Enter"&&!q.shiftKey&&Ot(),className:"pr-10"})}),n.jsx(z,{onClick:Ot,className:"bg-gradient-hero",children:n.jsx(V_,{className:"h-4 w-4"})})]})})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Vn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Welcome to Chat!"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:F.length===0?"Create your first conversation to start messaging":"Select a conversation from the sidebar to start messaging"}),F.length===0&&n.jsxs(z,{onClick:()=>o(!0),className:"bg-gradient-hero",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Start New Chat"]})]})})})]})})})},OU=()=>{const{id:e}=Gx(),t=Ci(),{toast:r}=lr(),{user:s,isAuthenticated:a}=Ye(),{clubs:i}=CC(),[o,l]=u.useState({motivation:"",experience:"",skills:"",availability:"",expectations:"",agreeToTerms:!1}),[c,d]=u.useState(!1),[h,f]=u.useState(!1),[m,p]=u.useState(!0),[g,x]=u.useState(null),[y,w]=u.useState(!0);u.useEffect(()=>{if(console.log("JoinClub - Finding club with ID:",e,"from",i==null?void 0:i.length,"clubs"),i&&e){const j=i.find(N=>N.id===e);console.log("JoinClub - Found club:",(j==null?void 0:j.name)||"Not found"),x(j||null),w(!1)}else i&&i.length>0&&e&&(console.log("JoinClub - No club found with ID:",e),x(null),w(!1))},[i,e]),u.useEffect(()=>{console.log("JoinClub - User authenticated:",a,"User ID:",s==null?void 0:s.id),p(!1),f(!1)},[s,e,a]);const v=(j,N)=>{l(C=>({...C,[j]:N}))},b=async j=>{j.preventDefault();try{if(!s){r({title:"Authentication Required",description:"Please sign in to submit your application.",variant:"destructive"});return}if(!e){r({title:"Error",description:"Club ID is missing.",variant:"destructive"});return}if(!o.motivation.trim()||!o.availability.trim()){r({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}if(!o.agreeToTerms){r({title:"Agreement Required",description:"Please agree to the terms and conditions.",variant:"destructive"});return}d(!0);const{data:N}=await U.from("club_membership_application").select("id, status").eq("club_id",e).eq("applicant_id",s.id).single();if(N){r({title:"Already Applied",description:`You have already applied to this club. Status: ${N.status}`,variant:"destructive"});return}const{error:C}=await U.from("club_membership_application").insert([{club_id:e,applicant_id:s.id,motivation:o.motivation,experience:o.experience||null,skills:o.skills||null,availability:o.availability,expectations:o.expectations||null,status:"pending",application_date:new Date().toISOString(),agreed_to_terms:o.agreeToTerms}]);if(C)throw C;l({motivation:"",experience:"",skills:"",availability:"",expectations:"",agreeToTerms:!1}),r({title:"Application Submitted!",description:`Your application to join ${g==null?void 0:g.name} has been submitted successfully.`}),t("/clubs")}catch(N){console.error("Application submission error:",N),r({title:"Submission Failed",description:N.message||"Failed to submit application. Please try again.",variant:"destructive"})}finally{d(!1)}};return m||y?n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center min-h-[400px]",children:n.jsx(An,{})})}):a?g?h?n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(J,{className:"border-0 bg-gradient-card p-8 text-center max-w-md mx-auto",children:[n.jsx(cs,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Application Already Submitted"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"You have already submitted an application to this club. Please wait for the review process to complete."}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx(z,{asChild:!0,children:n.jsx(Ie,{to:"/clubs",children:"Browse Other Clubs"})}),n.jsx(z,{variant:"outline",asChild:!0,children:n.jsx(Ie,{to:"/profile",children:"View My Applications"})})]})]})})}):n.jsx(ut,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs(Ie,{to:"/clubs",className:"inline-flex items-center text-muted-foreground hover:text-foreground mb-6",children:[n.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Back to Clubs"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(J,{className:"border-0 bg-gradient-card overflow-hidden",children:[g.cover_image_url&&n.jsx("img",{src:g.cover_image_url,alt:g.name,className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(he,{variant:"secondary",children:"Club"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Tx,{className:"h-4 w-4 fill-warning text-warning"}),n.jsx("span",{className:"text-sm font-medium",children:"New"})]})]}),n.jsx("h1",{className:"text-2xl font-bold mb-3",children:g.name}),n.jsx("p",{className:"text-muted-foreground mb-4",children:g.description||"No description available"}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($e,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Created"," ",new Date(g.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(We,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:g.is_public?"Public Club":"Private Club"})]})]})]})]})}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(J,{className:"border-0 bg-gradient-card p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Join ",g.name]}),n.jsx("p",{className:"text-muted-foreground",children:"Tell us about yourself and why you'd like to join this club"})]}),n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"motivation",children:"Why do you want to join this club? *"}),n.jsx(Xe,{id:"motivation",placeholder:"Share your motivation...",value:o.motivation,onChange:j=>v("motivation",j.target.value),className:"min-h-[120px]",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"experience",children:"Relevant Experience"}),n.jsx(Xe,{id:"experience",placeholder:"Any relevant experience...",value:o.experience,onChange:j=>v("experience",j.target.value),className:"min-h-[100px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"skills",children:"Skills and Interests"}),n.jsx(Xe,{id:"skills",placeholder:"Your skills and interests...",value:o.skills,onChange:j=>v("skills",j.target.value),className:"min-h-[100px]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"availability",children:"Availability *"}),n.jsx(Xe,{id:"availability",placeholder:"Your availability...",value:o.availability,onChange:j=>v("availability",j.target.value),className:"min-h-[80px]",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"expectations",children:"Expectations"}),n.jsx(Xe,{id:"expectations",placeholder:"What do you expect from this club?",value:o.expectations,onChange:j=>v("expectations",j.target.value),className:"min-h-[80px]"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Jc,{id:"terms",checked:o.agreeToTerms,onCheckedChange:j=>v("agreeToTerms",j)}),n.jsx(ee,{htmlFor:"terms",className:"text-sm leading-relaxed",children:"I agree to attend the orientation session and actively participate in club activities."})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx(z,{type:"submit",size:"lg",className:"flex-1",disabled:!o.agreeToTerms||c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(An,{}),"Submitting..."]}):"Submit Application"}),n.jsx(z,{variant:"outline",size:"lg",asChild:!0,children:n.jsx(Ie,{to:"/clubs",children:"Cancel"})})]})]})]})})]})]})}):n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(J,{className:"border-0 bg-gradient-card p-8 text-center max-w-md mx-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Club Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"The club you're looking for doesn't exist or may have been removed."}),n.jsx(z,{asChild:!0,children:n.jsx(Ie,{to:"/clubs",children:"Browse All Clubs"})})]})})}):n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(J,{className:"border-0 bg-gradient-card p-8 text-center max-w-md mx-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Authentication Required"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"You need to be signed in to join a club."}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx(z,{asChild:!0,children:n.jsx(Ie,{to:"/signin",children:"Sign In"})}),n.jsx(z,{variant:"outline",asChild:!0,children:n.jsx(Ie,{to:"/signup",children:"Sign Up"})})]})]})})})},MU=()=>{const{id:e}=Gx(),t=Ci(),{user:r}=Ye(),{isSubscribedToClub:s,subscribeToClub:a,unsubscribeFromClub:i,getClubMemberCount:o,getClubSubscriptionCount:l}=EC(),[c,d]=u.useState(null),[h,f]=u.useState([]),[m,p]=u.useState([]),[g,x]=u.useState(!0),[y,w]=u.useState(0),[v,b]=u.useState(0),[j,N]=u.useState(!1);u.useEffect(()=>{(async()=>{if(e)try{console.log("🔍 Fetching club details for ID:",e);const{data:k,error:E}=await U.from("clubs").select("*").eq("id",e).single();if(E){console.error("❌ Error fetching club:",E);return}console.log("✅ Club data fetched:",k),d(k);const{data:M,error:H}=await U.from("club_memberships").select(`
            id,
            user_id,
            role,
            detailed_role,
            joined_at,
            status,
            user:users!club_memberships_user_id_fkey(
              full_name,
              email,
              department,
              student_id
            )
          `).eq("club_id",e).eq("status","active");!H&&M?(console.log("✅ Members data fetched:",M),f(M)):console.error("❌ Error fetching members:",H);const{data:A,error:P}=await U.from("events").select("*").eq("club_id",e).gte("start_date",new Date().toISOString().split("T")[0]).order("start_date",{ascending:!0}).limit(10);!P&&A?(console.log("✅ Events data fetched:",A),p(A)):console.error("❌ Error fetching events:",P);const[T,R]=await Promise.all([o(e),l(e)]);w(T),b(R)}catch(k){console.error("❌ Error fetching club details:",k)}finally{x(!1)}})()},[e,o,l]);const C=async()=>{if(!(!r||!c)){N(!0);try{s(c.id)?(await i(c.id),b(_=>_-1)):(await a(c.id),b(_=>_+1))}catch(_){console.error("Error toggling subscription:",_)}finally{N(!1)}}};return g?n.jsx(ut,{children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(An,{})})}):c?n.jsx(ut,{children:n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-card border-b",children:n.jsxs("div",{className:"container mx-auto px-4 py-4",children:[n.jsxs(z,{variant:"ghost",onClick:()=>t("/clubs"),className:"mb-4",children:[n.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Back to Clubs"]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"w-full lg:w-80 h-48 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(We,{className:"h-12 w-12 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:c.name}),n.jsx(he,{variant:"secondary",className:"mb-2",children:c.category||"General"})]}),n.jsxs("div",{className:"flex gap-2",children:[r&&n.jsx(z,{variant:s(c.id)?"default":"outline",size:"sm",onClick:C,disabled:j,className:s(c.id)?"bg-green-600 hover:bg-green-700":"",children:j?n.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):s(c.id)?n.jsxs(n.Fragment,{children:[n.jsx(F_,{className:"h-4 w-4 mr-2"}),"Unsubscribe"]}):n.jsxs(n.Fragment,{children:[n.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Subscribe"]})}),n.jsxs(z,{size:"lg",children:[n.jsx(We,{className:"h-4 w-4 mr-2"}),"Join Club"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(We,{className:"h-4 w-4 mr-2"}),y," members"]}),n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(Cn,{className:"h-4 w-4 mr-2"}),v," subscribers"]}),n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx($e,{className:"h-4 w-4 mr-2"}),"Created ",new Date(c.created_at).toLocaleDateString()]}),c.location&&n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(Pr,{className:"h-4 w-4 mr-2"}),c.location]}),c.address&&n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(Pr,{className:"h-4 w-4 mr-2"}),c.address]}),c.meeting_day&&c.meeting_time&&n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(mr,{className:"h-4 w-4 mr-2"}),c.meeting_day,", ",c.meeting_time]}),c.contact_email&&n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),c.contact_email]}),c.club_mail&&n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx($o,{className:"h-4 w-4 mr-2"}),c.club_mail]}),c.contact_phone&&n.jsxs("div",{className:"flex items-center text-muted-foreground",children:[n.jsx(kx,{className:"h-4 w-4 mr-2"}),c.contact_phone]})]})]})]})]})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs($a,{defaultValue:"details",className:"w-full",children:[n.jsxs(Fa,{className:"grid w-full grid-cols-5 h-auto p-1 bg-gradient-to-r from-muted/50 to-muted/30 backdrop-blur-sm border border-border/50 rounded-xl shadow-sm",children:[n.jsxs(mt,{value:"details",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(Ap,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Details"})]}),n.jsxs(mt,{value:"panel",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(ku,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Panels"})]}),n.jsxs(mt,{value:"events",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx($e,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Events"})]}),n.jsxs(mt,{value:"achievements",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(cw,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Awards"})]}),n.jsxs(mt,{value:"departments",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(kp,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Teams"})]})]}),n.jsx(rt,{value:"details",className:"mt-8 animate-fade-in",children:n.jsxs(J,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 backdrop-blur-sm",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(Ap,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs(De,{className:"text-xl",children:["About ",c.name]}),n.jsx(nt,{className:"mt-1",children:"Learn more about our mission and vision"})]})]})}),n.jsx(ie,{children:n.jsxs("div",{className:"prose max-w-none space-y-6",children:[c.description&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Description"}),n.jsx("p",{className:"text-foreground leading-relaxed",children:c.description})]}),c.club_details&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Club Details"}),n.jsx("div",{className:"text-foreground leading-relaxed whitespace-pre-line",children:c.club_details})]}),c.mission_statement&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Mission Statement"}),n.jsx("p",{className:"text-foreground leading-relaxed",children:c.mission_statement})]}),c.vision_statement&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Vision Statement"}),n.jsx("p",{className:"text-foreground leading-relaxed",children:c.vision_statement})]}),c.requirements&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Requirements"}),n.jsx("p",{className:"text-foreground leading-relaxed",children:c.requirements})]}),c.founded_date&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Founded"}),n.jsx("p",{className:"text-foreground leading-relaxed",children:new Date(c.founded_date).toLocaleDateString()})]}),c.website&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Website"}),n.jsx("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 underline",children:c.website})]})]})})]})}),n.jsx(rt,{value:"panel",className:"mt-8 animate-fade-in",children:n.jsxs(J,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 backdrop-blur-sm",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(ku,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(De,{className:"text-xl",children:"Executive Panel"}),n.jsx(nt,{className:"mt-1",children:"Meet our current leadership team"})]})]})}),n.jsx(ie,{children:c.panel_members?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border/50",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Panel Information"}),n.jsx("div",{className:"text-foreground leading-relaxed whitespace-pre-line",children:c.panel_members})]}),h.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Current Members"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.filter(_=>{var k,E,M,H,A;return _.role==="president"||_.role==="vice_president"||_.role==="director"||_.role==="secretary"||_.role==="treasurer"||_.role==="coordinator"||((k=_.detailed_role)==null?void 0:k.toLowerCase().includes("president"))||((E=_.detailed_role)==null?void 0:E.toLowerCase().includes("director"))||((M=_.detailed_role)==null?void 0:M.toLowerCase().includes("secretary"))||((H=_.detailed_role)==null?void 0:H.toLowerCase().includes("treasurer"))||((A=_.detailed_role)==null?void 0:A.toLowerCase().includes("coordinator"))}).map(_=>{var P,T;const k=((P=_.user)==null?void 0:P.full_name)||"Unknown User",E=k.split(" ").map(R=>R[0]).join("").toUpperCase(),M=_.detailed_role||_.role,H=((T=_.user)==null?void 0:T.department)||"N/A",A=H.length>3?H.substring(0,3).toUpperCase():H.toUpperCase();return n.jsxs("div",{className:"group flex items-center space-x-4 p-6 bg-muted/30 hover:bg-muted/50 rounded-xl transition-all duration-300 hover:shadow-md hover:scale-[1.02] border border-border/50",children:[n.jsxs("div",{className:"relative w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center ring-2 ring-primary/20 group-hover:ring-primary/40 transition-all duration-300",children:[n.jsx("span",{className:"text-lg font-semibold text-primary",children:E}),n.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground text-lg mb-1",children:k}),n.jsx("p",{className:"text-sm text-primary font-medium mb-1",children:M}),n.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:A})]})]},_.id)})})]})]}):h.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No panel members found for this club."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.filter(_=>{var k,E,M,H,A;return _.role==="president"||_.role==="vice_president"||_.role==="director"||_.role==="secretary"||_.role==="treasurer"||_.role==="coordinator"||((k=_.detailed_role)==null?void 0:k.toLowerCase().includes("president"))||((E=_.detailed_role)==null?void 0:E.toLowerCase().includes("director"))||((M=_.detailed_role)==null?void 0:M.toLowerCase().includes("secretary"))||((H=_.detailed_role)==null?void 0:H.toLowerCase().includes("treasurer"))||((A=_.detailed_role)==null?void 0:A.toLowerCase().includes("coordinator"))}).map(_=>{var P,T;const k=((P=_.user)==null?void 0:P.full_name)||"Unknown User",E=k.split(" ").map(R=>R[0]).join("").toUpperCase(),M=_.detailed_role||_.role,H=((T=_.user)==null?void 0:T.department)||"N/A",A=H.length>3?H.substring(0,3).toUpperCase():H.toUpperCase();return n.jsxs("div",{className:"group flex items-center space-x-4 p-6 bg-muted/30 hover:bg-muted/50 rounded-xl transition-all duration-300 hover:shadow-md hover:scale-[1.02] border border-border/50",children:[n.jsxs("div",{className:"relative w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center ring-2 ring-primary/20 group-hover:ring-primary/40 transition-all duration-300",children:[n.jsx("span",{className:"text-lg font-semibold text-primary",children:E}),n.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground text-lg mb-1",children:k}),n.jsx("p",{className:"text-sm text-primary font-medium mb-1",children:M}),n.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:A})]})]},_.id)})})})]})}),n.jsx(rt,{value:"events",className:"mt-8 animate-fade-in",children:n.jsxs(J,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 backdrop-blur-sm",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx($e,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(De,{className:"text-xl",children:"Events"}),n.jsx(nt,{className:"mt-1",children:"Our upcoming and previous events"})]})]})}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-6",children:[c.previous_events&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Previous Events"}),n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border border-border/50",children:n.jsx("div",{className:"text-foreground leading-relaxed whitespace-pre-line",children:c.previous_events})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Upcoming Events"}),m.length===0?n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No upcoming events found for this club."}):n.jsx("div",{className:"space-y-4",children:m.map(_=>n.jsxs("div",{className:"group p-6 border border-border/50 hover:border-primary/30 rounded-xl bg-gradient-to-r from-background to-muted/20 hover:shadow-lg transition-all duration-300 hover:scale-[1.01]",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:_.title}),n.jsx(he,{variant:"outline",className:"group-hover:bg-primary/10 transition-colors duration-300",children:_.type})]}),n.jsx("p",{className:"text-muted-foreground mb-3",children:_.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($e,{className:"h-4 w-4 mr-1"}),new Date(_.start_date).toLocaleDateString()]}),_.start_time&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(mr,{className:"h-4 w-4 mr-1"}),_.start_time]}),_.location&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pr,{className:"h-4 w-4 mr-1"}),_.location]})]})]},_.id))})]})]})})]})}),n.jsx(rt,{value:"achievements",className:"mt-8 animate-fade-in",children:n.jsxs(J,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 backdrop-blur-sm",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(cw,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(De,{className:"text-xl",children:"Our Achievements"}),n.jsx(nt,{className:"mt-1",children:"Celebrating our milestones and successes"})]})]})}),n.jsx(ie,{children:c.achievements?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border border-border/50",children:n.jsx("div",{className:"text-foreground leading-relaxed whitespace-pre-line",children:c.achievements})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"group flex gap-4 p-4 rounded-xl hover:bg-muted/30 transition-all duration-300",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:n.jsx(Su,{className:"h-6 w-6 text-primary group-hover:text-primary/80 transition-colors duration-300"})})}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:"Best Computer Club Award"}),n.jsx(he,{variant:"secondary",children:"2024"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Recognized as the best computer club in the university for outstanding contributions."})]})]}),n.jsxs("div",{className:"group flex gap-4 p-4 rounded-xl hover:bg-muted/30 transition-all duration-300",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:n.jsx(Su,{className:"h-6 w-6 text-primary group-hover:text-primary/80 transition-colors duration-300"})})}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:"Inter-University Programming Contest Winners"}),n.jsx(he,{variant:"secondary",children:"2023"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Our team secured 1st position in the national programming contest."})]})]})]})})]})}),n.jsx(rt,{value:"departments",className:"mt-8 animate-fade-in",children:n.jsxs(J,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 backdrop-blur-sm",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(kp,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(De,{className:"text-xl",children:"Club Teams"}),n.jsx(nt,{className:"mt-1",children:"Explore our specialized teams and departments"})]})]})}),n.jsx(ie,{children:c.departments?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border/50",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Our Departments"}),n.jsx("div",{className:"text-foreground leading-relaxed",children:c.departments})]})}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"group p-6 border border-border/50 hover:border-primary/30 rounded-xl bg-gradient-to-r from-background to-muted/20 hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bd,{className:"h-5 w-5 text-primary group-hover:scale-110 transition-transform duration-300"}),n.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors duration-300",children:"Web Development"})]}),n.jsxs(he,{variant:"outline",className:"group-hover:bg-primary/10 transition-colors duration-300",children:[Math.floor(h.length*.3)," members"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Team Lead: ",n.jsx("span",{className:"font-medium",children:"Team Lead"})]})]}),n.jsxs("div",{className:"group p-6 border border-border/50 hover:border-primary/30 rounded-xl bg-gradient-to-r from-background to-muted/20 hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bd,{className:"h-5 w-5 text-primary group-hover:scale-110 transition-transform duration-300"}),n.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors duration-300",children:"Mobile App Development"})]}),n.jsxs(he,{variant:"outline",className:"group-hover:bg-primary/10 transition-colors duration-300",children:[Math.floor(h.length*.25)," members"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Team Lead: ",n.jsx("span",{className:"font-medium",children:"Team Lead"})]})]}),n.jsxs("div",{className:"group p-6 border border-border/50 hover:border-primary/30 rounded-xl bg-gradient-to-r from-background to-muted/20 hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bd,{className:"h-5 w-5 text-primary group-hover:scale-110 transition-transform duration-300"}),n.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors duration-300",children:"Data Science & AI"})]}),n.jsxs(he,{variant:"outline",className:"group-hover:bg-primary/10 transition-colors duration-300",children:[Math.floor(h.length*.2)," members"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Team Lead: ",n.jsx("span",{className:"font-medium",children:"Team Lead"})]})]}),n.jsxs("div",{className:"group p-6 border border-border/50 hover:border-primary/30 rounded-xl bg-gradient-to-r from-background to-muted/20 hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bd,{className:"h-5 w-5 text-primary group-hover:scale-110 transition-transform duration-300"}),n.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors duration-300",children:"Cybersecurity"})]}),n.jsxs(he,{variant:"outline",className:"group-hover:bg-primary/10 transition-colors duration-300",children:[Math.floor(h.length*.15)," members"]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Team Lead: ",n.jsx("span",{className:"font-medium",children:"Team Lead"})]})]})]})})]})})]})})]})}):n.jsx(ut,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Club not found"}),n.jsx(z,{onClick:()=>t("/clubs"),children:"Back to Clubs"})]})})};var IU="Separator",k0="horizontal",LU=["horizontal","vertical"],O2=u.forwardRef((e,t)=>{const{decorative:r,orientation:s=k0,...a}=e,i=$U(s)?s:k0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Te.div,{"data-orientation":i,...l,...a,ref:t})});O2.displayName=IU;function $U(e){return LU.includes(e)}var M2=O2;const Gu=u.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(M2,{ref:a,decorative:r,orientation:t,className:je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Gu.displayName=M2.displayName;const FU=()=>{const{id:e}=Gx(),{user:t}=Ye(),{toast:r}=lr(),[s,a]=u.useState(null),[i,o]=u.useState(!0),[l,c]=u.useState(!1),[d,h]=u.useState({firstName:"",lastName:"",email:"",phone:"",dietary:"",emergency:"",agreeToTerms:!1});u.useEffect(()=>{(async()=>{try{if(o(!0),e){const{data:v,error:b}=await U.from("events").select("*").eq("id",e).single();if(b){console.error("Error fetching event:",b),r({title:"Error",description:"Failed to load event details",variant:"destructive"});return}a(v)}if(t){const{data:v,error:b}=await U.from("users").select("full_name, email, phone").eq("id",t.id).single();if(!b&&v){const j=(v.full_name||"").split(" "),N=j[0]||"",C=j.slice(1).join(" ")||"";h(_=>({..._,firstName:N,lastName:C,email:v.email||t.email||"",phone:v.phone||""}))}else{const j=(t.full_name||"").split(" "),N=j[0]||"",C=j.slice(1).join(" ")||"";h(_=>({..._,firstName:N,lastName:C,email:t.email||"",phone:""}))}}}catch(v){console.error("Error fetching data:",v),r({title:"Error",description:"Failed to load data",variant:"destructive"})}finally{o(!1)}})()},[e,t,r]);const f=async w=>{if(w.preventDefault(),!d.agreeToTerms){r({title:"Terms Required",description:"You must agree to the terms and conditions to register",variant:"destructive"});return}if(!s||!t){r({title:"Registration Error",description:"Missing event or user information",variant:"destructive"});return}try{c(!0);const{data:v,error:b}=await U.from("event_registrations").insert({event_id:s.id,user_id:t.id,first_name:d.firstName,last_name:d.lastName,email:d.email,phone:d.phone||null,dietary_requirements:d.dietary||null,emergency_contact:d.emergency||null,terms_accepted:d.agreeToTerms,status:"registered"}).select().single();if(b){console.error("Registration error:",b),b.code==="23505"?r({title:"Already Registered",description:"You are already registered for this event",variant:"destructive"}):b.message.includes("capacity limit reached")?r({title:"Event Full",description:"This event has reached its capacity limit",variant:"destructive"}):r({title:"Registration Failed",description:b.message||"There was an error processing your registration",variant:"destructive"});return}console.log("Registration saved:",v),r({title:"Registration Successful!",description:"You have been registered for this event"}),h(j=>({...j,phone:"",dietary:"",emergency:"",agreeToTerms:!1}))}catch(v){console.error("Registration error:",v),r({title:"Registration Failed",description:"There was an error processing your registration",variant:"destructive"})}finally{c(!1)}};if(i)return n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(An,{})})})});if(!s)return n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Lo,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:"Event Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The event you're looking for doesn't exist or has been removed."}),n.jsx(z,{asChild:!0,children:n.jsx(Ie,{to:"/events",children:"Back to Events"})})]})})});const m=w=>{const v=new Date(w);return{date:v.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),time:v.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},{date:p,time:g}=m(s.start_at),{date:x,time:y}=m(s.end_at);return n.jsx(ut,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs(Ie,{to:"/events",className:"inline-flex items-center text-muted-foreground hover:text-foreground mb-6",children:[n.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Back to Events"]}),n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(J,{className:"border-0 bg-gradient-card p-6 mb-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.title}),n.jsx("p",{className:"text-muted-foreground text-lg",children:s.description})]}),n.jsx(he,{variant:"secondary",className:"text-sm",children:s.status})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx($e,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Start"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[p," at ",g]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(mr,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"End"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[x," at ",y]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Pr,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Location"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.location||"Location TBD"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(We,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Capacity"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.capacity||"Unlimited"," attendees"]})]})]})]})]}),n.jsxs(J,{className:"border-0 bg-gradient-card p-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Registration Form"}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"firstName",children:"First Name *"}),n.jsx(re,{id:"firstName",value:d.firstName,onChange:w=>h(v=>({...v,firstName:w.target.value})),required:!0,disabled:l})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"lastName",children:"Last Name *"}),n.jsx(re,{id:"lastName",value:d.lastName,onChange:w=>h(v=>({...v,lastName:w.target.value})),required:!0,disabled:l})]})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"email",children:"Email *"}),n.jsx(re,{id:"email",type:"email",value:d.email,onChange:w=>h(v=>({...v,email:w.target.value})),required:!0,disabled:l})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"phone",children:"Phone Number"}),n.jsx(re,{id:"phone",type:"tel",value:d.phone,onChange:w=>h(v=>({...v,phone:w.target.value})),placeholder:"Optional",disabled:l})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"dietary",children:"Dietary Requirements"}),n.jsx(Xe,{id:"dietary",value:d.dietary,onChange:w=>h(v=>({...v,dietary:w.target.value})),placeholder:"Any special dietary requirements or food allergies?",disabled:l})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"emergency",children:"Emergency Contact"}),n.jsx(Xe,{id:"emergency",value:d.emergency,onChange:w=>h(v=>({...v,emergency:w.target.value})),placeholder:"Emergency contact person and phone number",disabled:l})]}),n.jsx(Gu,{}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Jc,{id:"terms",checked:d.agreeToTerms,onCheckedChange:w=>h(v=>({...v,agreeToTerms:w})),disabled:l}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"terms",className:"text-sm font-medium",children:"I agree to the event terms and conditions *"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"By checking this box, you acknowledge that you have read and agree to the event terms and conditions, including any liability waivers and photo release agreements."})]})]}),n.jsx(z,{type:"submit",className:"w-full",size:"lg",disabled:!d.agreeToTerms||l,children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-4 w-4 mr-2",children:n.jsx(An,{})}),"Processing Registration..."]}):"Register for Event"})]})]})]})]})})};var Xc=e=>e.type==="checkbox",ni=e=>e instanceof Date,hr=e=>e==null;const I2=e=>typeof e=="object";var Dt=e=>!hr(e)&&!Array.isArray(e)&&I2(e)&&!ni(e),L2=e=>Dt(e)&&e.target?Xc(e.target)?e.target.checked:e.target.value:e,UU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$2=(e,t)=>e.has(UU(t)),zU=e=>{const t=e.constructor&&e.constructor.prototype;return Dt(t)&&t.hasOwnProperty("isPrototypeOf")},Ov=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ov&&(e instanceof Blob||e instanceof FileList))&&(r||Dt(e)))if(t=r?[]:{},!r&&!zU(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=_r(e[s]));else return e;return t}var uf=e=>Array.isArray(e)?e.filter(Boolean):[],Tt=e=>e===void 0,fe=(e,t,r)=>{if(!t||!Dt(e))return r;const s=uf(t.split(/[,[\].]+?/)).reduce((a,i)=>hr(a)?a:a[i],e);return Tt(s)||s===e?Tt(e[t])?r:e[t]:s},Kr=e=>typeof e=="boolean",Mv=e=>/^\w*$/.test(e),F2=e=>uf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),tt=(e,t,r)=>{let s=-1;const a=Mv(t)?[t]:F2(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Dt(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Ku={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ts={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},U2=X.createContext(null),hf=()=>X.useContext(U2),BU=e=>{const{children:t,...r}=e;return X.createElement(U2.Provider,{value:r},t)};var z2=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==_n.all&&(t._proxyFormState[o]=!s||_n.all),r&&(r[o]=!0),e[o]}});return a},Nr=e=>Dt(e)&&!Object.keys(e).length,B2=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Nr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||_n.all))},Zl=e=>Array.isArray(e)?e:[e],V2=(e,t,r)=>!e||!t||e===t||Zl(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function Iv(e){const t=X.useRef(e);t.current=e,X.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function VU(e){const t=hf(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=X.useState(r._formState),c=X.useRef(!0),d=X.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=X.useRef(a);return h.current=a,Iv({disabled:s,next:f=>c.current&&V2(h.current,f.name,i)&&B2(f,d.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),X.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),z2(o,r,d.current,!1)}var Un=e=>typeof e=="string",q2=(e,t,r,s,a)=>Un(e)?(s&&t.watch.add(e),fe(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),fe(r,i))):(s&&(t.watchAll=!0),r);function qU(e){const t=hf(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=X.useRef(s);l.current=s,Iv({disabled:i,subject:r._subjects.values,next:h=>{V2(l.current,h.name,o)&&d(_r(q2(l.current,r._names,h.values||r._formValues,!1,a)))}});const[c,d]=X.useState(r._getWatch(s,a));return X.useEffect(()=>r._removeUnmounted()),c}function WU(e){const t=hf(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=$2(a._names.array,r),l=qU({control:a,name:r,defaultValue:fe(a._formValues,r,fe(a._defaultValues,r,e.defaultValue)),exact:!0}),c=VU({control:a,name:r,exact:!0}),d=X.useRef(a.register(r,{...e.rules,value:l,...Kr(e.disabled)?{disabled:e.disabled}:{}}));return X.useEffect(()=>{const h=a._options.shouldUnregister||i,f=(m,p)=>{const g=fe(a._fields,m);g&&g._f&&(g._f.mount=p)};if(f(r,!0),h){const m=_r(fe(a._options.defaultValues,r));tt(a._defaultValues,r,m),Tt(fe(a._formValues,r))&&tt(a._formValues,r,m)}return()=>{(o?h&&!a._state.action:h)?a.unregister(r):f(r,!1)}},[r,a,o,i]),X.useEffect(()=>{fe(a._fields,r)&&a._updateDisabledField({disabled:s,fields:a._fields,name:r,value:fe(a._fields,r)._f.value})},[s,r,a]),{field:{name:r,value:l,...Kr(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:X.useCallback(h=>d.current.onChange({target:{value:L2(h),name:r},type:Ku.CHANGE}),[r]),onBlur:X.useCallback(()=>d.current.onBlur({target:{value:fe(a._formValues,r),name:r},type:Ku.BLUR}),[r,a]),ref:X.useCallback(h=>{const f=fe(a._fields,r);f&&h&&(f._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:m=>h.setCustomValidity(m),reportValidity:()=>h.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!fe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!fe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!fe(c.validatingFields,r)},error:{enumerable:!0,get:()=>fe(c.errors,r)}})}}const HU=e=>e.render(WU(e));var W2=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},T0=e=>({isOnSubmit:!e||e===_n.onSubmit,isOnBlur:e===_n.onBlur,isOnChange:e===_n.onChange,isOnAll:e===_n.all,isOnTouch:e===_n.onTouched}),A0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Jl=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=fe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Jl(l,t))break}else if(Dt(l)&&Jl(l,t))break}}};var GU=(e,t,r)=>{const s=Zl(fe(e,r));return tt(s,"root",t[r]),tt(e,r,s),e},Lv=e=>e.type==="file",hs=e=>typeof e=="function",Yu=e=>{if(!Ov)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Xd=e=>Un(e),$v=e=>e.type==="radio",Qu=e=>e instanceof RegExp;const P0={value:!1,isValid:!1},R0={value:!0,isValid:!0};var H2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Tt(e[0].attributes.value)?Tt(e[0].value)||e[0].value===""?R0:{value:e[0].value,isValid:!0}:R0:P0}return P0};const D0={isValid:!1,value:null};var G2=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,D0):D0;function O0(e,t,r="validate"){if(Xd(e)||Array.isArray(e)&&e.every(Xd)||Kr(e)&&!e)return{type:r,message:Xd(e)?e:"",ref:t}}var Wi=e=>Dt(e)&&!Qu(e)?e:{value:e,message:""},M0=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:m,validate:p,name:g,valueAsNumber:x,mount:y,disabled:w}=e._f,v=fe(t,g);if(!y||w)return{};const b=o?o[0]:i,j=A=>{s&&b.reportValidity&&(b.setCustomValidity(Kr(A)?"":A||""),b.reportValidity())},N={},C=$v(i),_=Xc(i),k=C||_,E=(x||Lv(i))&&Tt(i.value)&&Tt(v)||Yu(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,M=W2.bind(null,g,r,N),H=(A,P,T,R=ts.maxLength,F=ts.minLength)=>{const D=A?P:T;N[g]={type:A?R:F,message:D,ref:i,...M(A?R:F,D)}};if(a?!Array.isArray(v)||!v.length:l&&(!k&&(E||hr(v))||Kr(v)&&!v||_&&!H2(o).isValid||C&&!G2(o).isValid)){const{value:A,message:P}=Xd(l)?{value:!!l,message:l}:Wi(l);if(A&&(N[g]={type:ts.required,message:P,ref:b,...M(ts.required,P)},!r))return j(P),N}if(!E&&(!hr(h)||!hr(f))){let A,P;const T=Wi(f),R=Wi(h);if(!hr(v)&&!isNaN(v)){const F=i.valueAsNumber||v&&+v;hr(T.value)||(A=F>T.value),hr(R.value)||(P=F<R.value)}else{const F=i.valueAsDate||new Date(v),D=Y=>new Date(new Date().toDateString()+" "+Y),O=i.type=="time",L=i.type=="week";Un(T.value)&&v&&(A=O?D(v)>D(T.value):L?v>T.value:F>new Date(T.value)),Un(R.value)&&v&&(P=O?D(v)<D(R.value):L?v<R.value:F<new Date(R.value))}if((A||P)&&(H(!!A,T.message,R.message,ts.max,ts.min),!r))return j(N[g].message),N}if((c||d)&&!E&&(Un(v)||a&&Array.isArray(v))){const A=Wi(c),P=Wi(d),T=!hr(A.value)&&v.length>+A.value,R=!hr(P.value)&&v.length<+P.value;if((T||R)&&(H(T,A.message,P.message),!r))return j(N[g].message),N}if(m&&!E&&Un(v)){const{value:A,message:P}=Wi(m);if(Qu(A)&&!v.match(A)&&(N[g]={type:ts.pattern,message:P,ref:i,...M(ts.pattern,P)},!r))return j(P),N}if(p){if(hs(p)){const A=await p(v,t),P=O0(A,b);if(P&&(N[g]={...P,...M(ts.validate,P.message)},!r))return j(P.message),N}else if(Dt(p)){let A={};for(const P in p){if(!Nr(A)&&!r)break;const T=O0(await p[P](v,t),b,P);T&&(A={...T,...M(P,T.message)},j(T.message),r&&(N[g]=A))}if(!Nr(A)&&(N[g]={ref:b,...A},!r))return N}}return j(!0),N};function KU(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Tt(e)?s++:e[t[s++]];return e}function YU(e){for(const t in e)if(e.hasOwnProperty(t)&&!Tt(e[t]))return!1;return!0}function $t(e,t){const r=Array.isArray(t)?t:Mv(t)?[t]:F2(t),s=r.length===1?e:KU(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Dt(s)&&Nr(s)||Array.isArray(s)&&YU(s))&&$t(e,r.slice(0,-1)),e}var Sm=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},mg=e=>hr(e)||!I2(e);function Js(e,t){if(mg(e)||mg(t))return e===t;if(ni(e)&&ni(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(ni(i)&&ni(o)||Dt(i)&&Dt(o)||Array.isArray(i)&&Array.isArray(o)?!Js(i,o):i!==o)return!1}}return!0}var K2=e=>e.type==="select-multiple",QU=e=>$v(e)||Xc(e),Cm=e=>Yu(e)&&e.isConnected,Y2=e=>{for(const t in e)if(hs(e[t]))return!0;return!1};function Zu(e,t={}){const r=Array.isArray(e);if(Dt(e)||r)for(const s in e)Array.isArray(e[s])||Dt(e[s])&&!Y2(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Zu(e[s],t[s])):hr(e[s])||(t[s]=!0);return t}function Q2(e,t,r){const s=Array.isArray(e);if(Dt(e)||s)for(const a in e)Array.isArray(e[a])||Dt(e[a])&&!Y2(e[a])?Tt(t)||mg(r[a])?r[a]=Array.isArray(e[a])?Zu(e[a],[]):{...Zu(e[a])}:Q2(e[a],hr(t)?{}:t[a],r[a]):r[a]=!Js(e[a],t[a]);return r}var pl=(e,t)=>Q2(e,t,Zu(t)),Z2=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Tt(e)?e:t?e===""?NaN:e&&+e:r&&Un(e)?new Date(e):s?s(e):e;function Em(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Lv(t)?t.files:$v(t)?G2(e.refs).value:K2(t)?[...t.selectedOptions].map(({value:r})=>r):Xc(t)?H2(e.refs).value:Z2(Tt(t.value)?e.ref.value:t.value,e)}var ZU=(e,t,r,s)=>{const a={};for(const i of e){const o=fe(t,i);o&&tt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},gl=e=>Tt(e)?e:Qu(e)?e.source:Dt(e)?Qu(e.value)?e.value.source:e.value:e;const I0="AsyncFunction";var JU=e=>(!e||!e.validate)&&!!(hs(e.validate)&&e.validate.constructor.name===I0||Dt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===I0)),XU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function L0(e,t,r){const s=fe(e,r);if(s||Mv(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=fe(t,i),l=fe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var e8=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,t8=(e,t)=>!uf(fe(e,t)).length&&$t(e,t);const r8={mode:_n.onSubmit,reValidateMode:_n.onChange,shouldFocusError:!0};function n8(e={}){let t={...r8,...e},r={submitCount:0,isDirty:!1,isLoading:hs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Dt(t.defaultValues)||Dt(t.values)?_r(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:_r(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Sm(),array:Sm(),state:Sm()},m=T0(t.mode),p=T0(t.reValidateMode),g=t.criteriaMode===_n.all,x=$=>W=>{clearTimeout(d),d=setTimeout($,W)},y=async $=>{if(!e.disabled&&(h.isValid||$)){const W=t.resolver?Nr((await k()).errors):await M(s,!0);W!==r.isValid&&f.state.next({isValid:W})}},w=($,W)=>{!e.disabled&&(h.isValidating||h.validatingFields)&&(($||Array.from(l.mount)).forEach(G=>{G&&(W?tt(r.validatingFields,G,W):$t(r.validatingFields,G))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Nr(r.validatingFields)}))},v=($,W=[],G,q,ae=!0,se=!0)=>{if(q&&G&&!e.disabled){if(o.action=!0,se&&Array.isArray(fe(s,$))){const we=G(fe(s,$),q.argA,q.argB);ae&&tt(s,$,we)}if(se&&Array.isArray(fe(r.errors,$))){const we=G(fe(r.errors,$),q.argA,q.argB);ae&&tt(r.errors,$,we),t8(r.errors,$)}if(h.touchedFields&&se&&Array.isArray(fe(r.touchedFields,$))){const we=G(fe(r.touchedFields,$),q.argA,q.argB);ae&&tt(r.touchedFields,$,we)}h.dirtyFields&&(r.dirtyFields=pl(a,i)),f.state.next({name:$,isDirty:A($,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else tt(i,$,W)},b=($,W)=>{tt(r.errors,$,W),f.state.next({errors:r.errors})},j=$=>{r.errors=$,f.state.next({errors:r.errors,isValid:!1})},N=($,W,G,q)=>{const ae=fe(s,$);if(ae){const se=fe(i,$,Tt(G)?fe(a,$):G);Tt(se)||q&&q.defaultChecked||W?tt(i,$,W?se:Em(ae._f)):R($,se),o.mount&&y()}},C=($,W,G,q,ae)=>{let se=!1,we=!1;const Ae={name:$};if(!e.disabled){const ht=!!(fe(s,$)&&fe(s,$)._f&&fe(s,$)._f.disabled);if(!G||q){h.isDirty&&(we=r.isDirty,r.isDirty=Ae.isDirty=A(),se=we!==Ae.isDirty);const ot=ht||Js(fe(a,$),W);we=!!(!ht&&fe(r.dirtyFields,$)),ot||ht?$t(r.dirtyFields,$):tt(r.dirtyFields,$,!0),Ae.dirtyFields=r.dirtyFields,se=se||h.dirtyFields&&we!==!ot}if(G){const ot=fe(r.touchedFields,$);ot||(tt(r.touchedFields,$,G),Ae.touchedFields=r.touchedFields,se=se||h.touchedFields&&ot!==G)}se&&ae&&f.state.next(Ae)}return se?Ae:{}},_=($,W,G,q)=>{const ae=fe(r.errors,$),se=h.isValid&&Kr(W)&&r.isValid!==W;if(e.delayError&&G?(c=x(()=>b($,G)),c(e.delayError)):(clearTimeout(d),c=null,G?tt(r.errors,$,G):$t(r.errors,$)),(G?!Js(ae,G):ae)||!Nr(q)||se){const we={...q,...se&&Kr(W)?{isValid:W}:{},errors:r.errors,name:$};r={...r,...we},f.state.next(we)}},k=async $=>{w($,!0);const W=await t.resolver(i,t.context,ZU($||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return w($),W},E=async $=>{const{errors:W}=await k($);if($)for(const G of $){const q=fe(W,G);q?tt(r.errors,G,q):$t(r.errors,G)}else r.errors=W;return W},M=async($,W,G={valid:!0})=>{for(const q in $){const ae=$[q];if(ae){const{_f:se,...we}=ae;if(se){const Ae=l.array.has(se.name),ht=ae._f&&JU(ae._f);ht&&h.validatingFields&&w([q],!0);const ot=await M0(ae,i,g,t.shouldUseNativeValidation&&!W,Ae);if(ht&&h.validatingFields&&w([q]),ot[se.name]&&(G.valid=!1,W))break;!W&&(fe(ot,se.name)?Ae?GU(r.errors,ot,se.name):tt(r.errors,se.name,ot[se.name]):$t(r.errors,se.name))}!Nr(we)&&await M(we,W,G)}}return G.valid},H=()=>{for(const $ of l.unMount){const W=fe(s,$);W&&(W._f.refs?W._f.refs.every(G=>!Cm(G)):!Cm(W._f.ref))&&I($)}l.unMount=new Set},A=($,W)=>!e.disabled&&($&&W&&tt(i,$,W),!Js(B(),a)),P=($,W,G)=>q2($,l,{...o.mount?i:Tt(W)?a:Un($)?{[$]:W}:W},G,W),T=$=>uf(fe(o.mount?i:a,$,e.shouldUnregister?fe(a,$,[]):[])),R=($,W,G={})=>{const q=fe(s,$);let ae=W;if(q){const se=q._f;se&&(!se.disabled&&tt(i,$,Z2(W,se)),ae=Yu(se.ref)&&hr(W)?"":W,K2(se.ref)?[...se.ref.options].forEach(we=>we.selected=ae.includes(we.value)):se.refs?Xc(se.ref)?se.refs.length>1?se.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(ae)?!!ae.find(Ae=>Ae===we.value):ae===we.value)):se.refs[0]&&(se.refs[0].checked=!!ae):se.refs.forEach(we=>we.checked=we.value===ae):Lv(se.ref)?se.ref.value="":(se.ref.value=ae,se.ref.type||f.values.next({name:$,values:{...i}})))}(G.shouldDirty||G.shouldTouch)&&C($,ae,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&Y($)},F=($,W,G)=>{for(const q in W){const ae=W[q],se=`${$}.${q}`,we=fe(s,se);(l.array.has($)||Dt(ae)||we&&!we._f)&&!ni(ae)?F(se,ae,G):R(se,ae,G)}},D=($,W,G={})=>{const q=fe(s,$),ae=l.array.has($),se=_r(W);tt(i,$,se),ae?(f.array.next({name:$,values:{...i}}),(h.isDirty||h.dirtyFields)&&G.shouldDirty&&f.state.next({name:$,dirtyFields:pl(a,i),isDirty:A($,se)})):q&&!q._f&&!hr(se)?F($,se,G):R($,se,G),A0($,l)&&f.state.next({...r}),f.values.next({name:o.mount?$:void 0,values:{...i}})},O=async $=>{o.mount=!0;const W=$.target;let G=W.name,q=!0;const ae=fe(s,G),se=()=>W.type?Em(ae._f):L2($),we=Ae=>{q=Number.isNaN(Ae)||ni(Ae)&&isNaN(Ae.getTime())||Js(Ae,fe(i,G,Ae))};if(ae){let Ae,ht;const ot=se(),Ht=$.type===Ku.BLUR||$.type===Ku.FOCUS_OUT,Gt=!XU(ae._f)&&!t.resolver&&!fe(r.errors,G)&&!ae._f.deps||e8(Ht,fe(r.touchedFields,G),r.isSubmitted,p,m),As=A0(G,l,Ht);tt(i,G,ot),Ht?(ae._f.onBlur&&ae._f.onBlur($),c&&c(0)):ae._f.onChange&&ae._f.onChange($);const Jn=C(G,ot,Ht,!1),Ai=!Nr(Jn)||As;if(!Ht&&f.values.next({name:G,type:$.type,values:{...i}}),Gt)return h.isValid&&(e.mode==="onBlur"?Ht&&y():y()),Ai&&f.state.next({name:G,...As?{}:Jn});if(!Ht&&As&&f.state.next({...r}),t.resolver){const{errors:Ua}=await k([G]);if(we(ot),q){const za=L0(r.errors,s,G),Ps=L0(Ua,s,za.name||G);Ae=Ps.error,G=Ps.name,ht=Nr(Ua)}}else w([G],!0),Ae=(await M0(ae,i,g,t.shouldUseNativeValidation))[G],w([G]),we(ot),q&&(Ae?ht=!1:h.isValid&&(ht=await M(s,!0)));q&&(ae._f.deps&&Y(ae._f.deps),_(G,ht,Ae,Jn))}},L=($,W)=>{if(fe(r.errors,W)&&$.focus)return $.focus(),1},Y=async($,W={})=>{let G,q;const ae=Zl($);if(t.resolver){const se=await E(Tt($)?$:ae);G=Nr(se),q=$?!ae.some(we=>fe(se,we)):G}else $?(q=(await Promise.all(ae.map(async se=>{const we=fe(s,se);return await M(we&&we._f?{[se]:we}:we)}))).every(Boolean),!(!q&&!r.isValid)&&y()):q=G=await M(s);return f.state.next({...!Un($)||h.isValid&&G!==r.isValid?{}:{name:$},...t.resolver||!$?{isValid:G}:{},errors:r.errors}),W.shouldFocus&&!q&&Jl(s,L,$?ae:l.mount),q},B=$=>{const W={...o.mount?i:a};return Tt($)?W:Un($)?fe(W,$):$.map(G=>fe(W,G))},Q=($,W)=>({invalid:!!fe((W||r).errors,$),isDirty:!!fe((W||r).dirtyFields,$),error:fe((W||r).errors,$),isValidating:!!fe(r.validatingFields,$),isTouched:!!fe((W||r).touchedFields,$)}),ue=$=>{$&&Zl($).forEach(W=>$t(r.errors,W)),f.state.next({errors:$?r.errors:{}})},pe=($,W,G)=>{const q=(fe(s,$,{_f:{}})._f||{}).ref,ae=fe(r.errors,$)||{},{ref:se,message:we,type:Ae,...ht}=ae;tt(r.errors,$,{...ht,...W,ref:q}),f.state.next({name:$,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&q&&q.focus&&q.focus()},Oe=($,W)=>hs($)?f.values.subscribe({next:G=>$(P(void 0,W),G)}):P($,W,!0),I=($,W={})=>{for(const G of $?Zl($):l.mount)l.mount.delete(G),l.array.delete(G),W.keepValue||($t(s,G),$t(i,G)),!W.keepError&&$t(r.errors,G),!W.keepDirty&&$t(r.dirtyFields,G),!W.keepTouched&&$t(r.touchedFields,G),!W.keepIsValidating&&$t(r.validatingFields,G),!t.shouldUnregister&&!W.keepDefaultValue&&$t(a,G);f.values.next({values:{...i}}),f.state.next({...r,...W.keepDirty?{isDirty:A()}:{}}),!W.keepIsValid&&y()},K=({disabled:$,name:W,field:G,fields:q,value:ae})=>{if(Kr($)&&o.mount||$){const se=$?void 0:Tt(ae)?Em(G?G._f:fe(q,W)._f):ae;tt(i,W,se),C(W,se,!1,!1,!0)}},ce=($,W={})=>{let G=fe(s,$);const q=Kr(W.disabled)||Kr(e.disabled);return tt(s,$,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:$}},name:$,mount:!0,...W}}),l.mount.add($),G?K({field:G,disabled:Kr(W.disabled)?W.disabled:e.disabled,name:$,value:W.value}):N($,!0,W.value),{...q?{disabled:W.disabled||e.disabled}:{},...t.progressive?{required:!!W.required,min:gl(W.min),max:gl(W.max),minLength:gl(W.minLength),maxLength:gl(W.maxLength),pattern:gl(W.pattern)}:{},name:$,onChange:O,onBlur:O,ref:ae=>{if(ae){ce($,W),G=fe(s,$);const se=Tt(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,we=QU(se),Ae=G._f.refs||[];if(we?Ae.find(ht=>ht===se):se===G._f.ref)return;tt(s,$,{_f:{...G._f,...we?{refs:[...Ae.filter(Cm),se,...Array.isArray(fe(a,$))?[{}]:[]],ref:{type:se.type,name:$}}:{ref:se}}}),N($,!1,void 0,se)}else G=fe(s,$,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!($2(l.array,$)&&o.action)&&l.unMount.add($)}}},ve=()=>t.shouldFocusError&&Jl(s,L,l.mount),_e=$=>{Kr($)&&(f.state.next({disabled:$}),Jl(s,(W,G)=>{const q=fe(s,G);q&&(W.disabled=q._f.disabled||$,Array.isArray(q._f.refs)&&q._f.refs.forEach(ae=>{ae.disabled=q._f.disabled||$}))},0,!1))},V=($,W)=>async G=>{let q;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ae=_r(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:we}=await k();r.errors=se,ae=we}else await M(s);if($t(r.errors,"root"),Nr(r.errors)){f.state.next({errors:{}});try{await $(ae,G)}catch(se){q=se}}else W&&await W({...r.errors},G),ve(),setTimeout(ve);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},ne=($,W={})=>{fe(s,$)&&(Tt(W.defaultValue)?D($,_r(fe(a,$))):(D($,W.defaultValue),tt(a,$,_r(W.defaultValue))),W.keepTouched||$t(r.touchedFields,$),W.keepDirty||($t(r.dirtyFields,$),r.isDirty=W.defaultValue?A($,_r(fe(a,$))):A()),W.keepError||($t(r.errors,$),h.isValid&&y()),f.state.next({...r}))},Ce=($,W={})=>{const G=$?_r($):a,q=_r(G),ae=Nr($),se=ae?a:q;if(W.keepDefaultValues||(a=G),!W.keepValues){if(W.keepDirtyValues){const we=new Set([...l.mount,...Object.keys(pl(a,i))]);for(const Ae of Array.from(we))fe(r.dirtyFields,Ae)?tt(se,Ae,fe(i,Ae)):D(Ae,fe(se,Ae))}else{if(Ov&&Tt($))for(const we of l.mount){const Ae=fe(s,we);if(Ae&&Ae._f){const ht=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Yu(ht)){const ot=ht.closest("form");if(ot){ot.reset();break}}}}s={}}i=e.shouldUnregister?W.keepDefaultValues?_r(a):{}:_r(se),f.array.next({values:{...se}}),f.values.next({values:{...se}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!Js($,a)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:W.keepDirtyValues?W.keepDefaultValues&&i?pl(a,i):r.dirtyFields:W.keepDefaultValues&&$?pl(a,$):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Se=($,W)=>Ce(hs($)?$(i):$,W);return{control:{register:ce,unregister:I,getFieldState:Q,handleSubmit:V,setError:pe,_executeSchema:k,_getWatch:P,_getDirty:A,_updateValid:y,_removeUnmounted:H,_updateFieldArray:v,_updateDisabledField:K,_getFieldArray:T,_reset:Ce,_resetDefaultValues:()=>hs(t.defaultValues)&&t.defaultValues().then($=>{Se($,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:_e,_subjects:f,_proxyFormState:h,_setErrors:j,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state($){o=$},get _defaultValues(){return a},get _names(){return l},set _names($){l=$},get _formState(){return r},set _formState($){r=$},get _options(){return t},set _options($){t={...t,...$}}},trigger:Y,register:ce,handleSubmit:V,watch:Oe,setValue:D,getValues:B,reset:Se,resetField:ne,clearErrors:ue,unregister:I,setError:pe,setFocus:($,W={})=>{const G=fe(s,$),q=G&&G._f;if(q){const ae=q.refs?q.refs[0]:q.ref;ae.focus&&(ae.focus(),W.shouldSelect&&ae.select())}},getFieldState:Q}}function s8(e={}){const t=X.useRef(),r=X.useRef(),[s,a]=X.useState({isDirty:!1,isValidating:!1,isLoading:hs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:hs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...n8(e),formState:s});const i=t.current.control;return i._options=e,Iv({subject:i._subjects.state,next:o=>{B2(o,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),X.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),X.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),X.useEffect(()=>{e.values&&!Js(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),X.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),X.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),X.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),X.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=z2(s,i),t.current}const $0=(e,t,r)=>{if(e&&"reportValidity"in e){const s=fe(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},J2=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?$0(s.ref,r,e):s.refs&&s.refs.forEach(a=>$0(a,r,e))}},a8=(e,t)=>{t.shouldUseNativeValidation&&J2(e,t);const r={};for(const s in e){const a=fe(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(i8(t.names||Object.keys(e),s)){const o=Object.assign({},fe(r,s));tt(o,"root",i),tt(r,s,o)}else tt(r,s,i)}return r},i8=(e,t)=>e.some(r=>r.startsWith(t+"."));var o8=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=W2(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},l8=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&J2({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:a8(o8(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ze;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ze||(Ze={}));var F0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(F0||(F0={}));const ye=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ja=e=>{switch(typeof e){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return isNaN(e)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(e)?ye.array:e===null?ye.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ye.promise:typeof Map<"u"&&e instanceof Map?ye.map:typeof Set<"u"&&e instanceof Set?ye.set:typeof Date<"u"&&e instanceof Date?ye.date:ye.object;default:return ye.unknown}},le=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class an extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof an))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}an.create=e=>new an(e);const Tc=(e,t)=>{let r;switch(e.code){case le.invalid_type:e.received===ye.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case le.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ze.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ze.joinValues(e.keys,", ")}`;break;case le.invalid_union:r="Invalid input";break;case le.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ze.joinValues(e.options)}`;break;case le.invalid_enum_value:r=`Invalid enum value. Expected ${Ze.joinValues(e.options)}, received '${e.received}'`;break;case le.invalid_arguments:r="Invalid function arguments";break;case le.invalid_return_type:r="Invalid function return type";break;case le.invalid_date:r="Invalid date";break;case le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ze.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case le.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case le.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case le.custom:r="Invalid input";break;case le.invalid_intersection_types:r="Intersection results could not be merged";break;case le.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case le.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ze.assertNever(e)}return{message:r}};let c8=Tc;function pg(){return c8}const gg=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function xe(e,t){const r=pg(),s=gg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Tc?void 0:Tc].filter(a=>!!a)});e.common.issues.push(s)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Me;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return gr.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Me;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Me=Object.freeze({status:"aborted"}),Pl=e=>({status:"dirty",value:e}),Dr=e=>({status:"valid",value:e}),U0=e=>e.status==="aborted",z0=e=>e.status==="dirty",Ju=e=>e.status==="valid",Xu=e=>typeof Promise<"u"&&e instanceof Promise;function eh(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function X2(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ee||(Ee={}));var Rl,Dl;class Kn{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const B0=(e,t)=>{if(Ju(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new an(e.common.issues);return this._error=r,this._error}}};function Ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class He{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ja(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ja(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gr,ctx:{common:t.parent.common,data:t.data,parsedType:Ja(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Xu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ja(t)},i=this._parseSync({data:t,path:a.path,parent:a});return B0(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ja(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(Xu(a)?a:Promise.resolve(a));return B0(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:le.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Cs({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return xs.create(this,this._def)}nullable(){return bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wn.create(this,this._def)}promise(){return Pc.create(this,this._def)}or(t){return nh.create([this,t],this._def)}and(t){return sh.create(this,t,this._def)}transform(t){return new Cs({...Ue(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ch({...Ue(this._def),innerType:this,defaultValue:r,typeName:Pe.ZodDefault})}brand(){return new nk({typeName:Pe.ZodBranded,type:this,...Ue(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new dh({...Ue(this._def),innerType:this,catchValue:r,typeName:Pe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ff.create(this,t)}readonly(){return uh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const d8=/^c[^\s-]{8,}$/i,u8=/^[0-9a-z]+$/,h8=/^[0-9A-HJKMNP-TV-Z]{26}$/,f8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m8=/^[a-z0-9_-]{21}$/i,p8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,g8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let km;const v8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y8=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,w8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ek="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",b8=new RegExp(`^${ek}$`);function tk(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function j8(e){return new RegExp(`^${tk(e)}$`)}function _8(e){let t=`${ek}T${tk(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function N8(e,t){return!!((t==="v4"||!t)&&v8.test(e)||(t==="v6"||!t)&&y8.test(e))}class fs extends He{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ye.string){const i=this._getOrReturnCtx(t);return xe(i,{code:le.invalid_type,expected:ye.string,received:i.parsedType}),Me}const s=new gr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?xe(a,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&xe(a,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")g8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"email",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")km||(km=new RegExp(x8,"u")),km.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"emoji",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")f8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"uuid",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")m8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"nanoid",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")d8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cuid",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")u8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"cuid2",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")h8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"ulid",code:le.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),xe(a,{validation:"url",code:le.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"regex",code:le.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?_8(i).test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?b8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?j8(i).test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{code:le.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?p8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"duration",code:le.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?N8(t.data,i.version)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"ip",code:le.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?w8.test(t.data)||(a=this._getOrReturnCtx(t,a),xe(a,{validation:"base64",code:le.invalid_string,message:i.message}),s.dirty()):Ze.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:le.invalid_string,...Ee.errToObj(s)})}_addCheck(t){return new fs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ee.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ee.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ee.errToObj(r)})}nonempty(t){return this.min(1,Ee.errToObj(t))}trim(){return new fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fs.create=e=>{var t;return new fs({checks:[],typeName:Pe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ue(e)})};function S8(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Vo extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ye.number){const i=this._getOrReturnCtx(t);return xe(i,{code:le.invalid_type,expected:ye.number,received:i.parsedType}),Me}let s;const a=new gr;for(const i of this._def.checks)i.kind==="int"?Ze.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),xe(s,{code:le.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:le.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:le.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?S8(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),xe(s,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),xe(s,{code:le.not_finite,message:i.message}),a.dirty()):Ze.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ee.toString(r))}setLimit(t,r,s,a){return new Vo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ee.toString(a)}]})}_addCheck(t){return new Vo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ze.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Vo.create=e=>new Vo({checks:[],typeName:Pe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class qo extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ye.bigint){const i=this._getOrReturnCtx(t);return xe(i,{code:le.invalid_type,expected:ye.bigint,received:i.parsedType}),Me}let s;const a=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:le.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:le.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ze.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ee.toString(r))}setLimit(t,r,s,a){return new qo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ee.toString(a)}]})}_addCheck(t){return new qo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qo.create=e=>{var t;return new qo({checks:[],typeName:Pe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ue(e)})};class xg extends He{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ye.boolean){const s=this._getOrReturnCtx(t);return xe(s,{code:le.invalid_type,expected:ye.boolean,received:s.parsedType}),Me}return Dr(t.data)}}xg.create=e=>new xg({typeName:Pe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class Ac extends He{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ye.date){const i=this._getOrReturnCtx(t);return xe(i,{code:le.invalid_type,expected:ye.date,received:i.parsedType}),Me}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return xe(i,{code:le.invalid_date}),Me}const s=new gr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),xe(a,{code:le.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Ze.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ac({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ee.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ac.create=e=>new Ac({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pe.ZodDate,...Ue(e)});class vg extends He{_parse(t){if(this._getType(t)!==ye.symbol){const s=this._getOrReturnCtx(t);return xe(s,{code:le.invalid_type,expected:ye.symbol,received:s.parsedType}),Me}return Dr(t.data)}}vg.create=e=>new vg({typeName:Pe.ZodSymbol,...Ue(e)});class th extends He{_parse(t){if(this._getType(t)!==ye.undefined){const s=this._getOrReturnCtx(t);return xe(s,{code:le.invalid_type,expected:ye.undefined,received:s.parsedType}),Me}return Dr(t.data)}}th.create=e=>new th({typeName:Pe.ZodUndefined,...Ue(e)});class rh extends He{_parse(t){if(this._getType(t)!==ye.null){const s=this._getOrReturnCtx(t);return xe(s,{code:le.invalid_type,expected:ye.null,received:s.parsedType}),Me}return Dr(t.data)}}rh.create=e=>new rh({typeName:Pe.ZodNull,...Ue(e)});class yg extends He{constructor(){super(...arguments),this._any=!0}_parse(t){return Dr(t.data)}}yg.create=e=>new yg({typeName:Pe.ZodAny,...Ue(e)});class wo extends He{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Dr(t.data)}}wo.create=e=>new wo({typeName:Pe.ZodUnknown,...Ue(e)});class Ta extends He{_parse(t){const r=this._getOrReturnCtx(t);return xe(r,{code:le.invalid_type,expected:ye.never,received:r.parsedType}),Me}}Ta.create=e=>new Ta({typeName:Pe.ZodNever,...Ue(e)});class wg extends He{_parse(t){if(this._getType(t)!==ye.undefined){const s=this._getOrReturnCtx(t);return xe(s,{code:le.invalid_type,expected:ye.void,received:s.parsedType}),Me}return Dr(t.data)}}wg.create=e=>new wg({typeName:Pe.ZodVoid,...Ue(e)});class Wn extends He{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==ye.array)return xe(r,{code:le.invalid_type,expected:ye.array,received:r.parsedType}),Me;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(xe(r,{code:o?le.too_big:le.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(xe(r,{code:le.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(xe(r,{code:le.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Kn(r,o,r.path,l)))).then(o=>gr.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Kn(r,o,r.path,l)));return gr.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Wn({...this._def,minLength:{value:t,message:Ee.toString(r)}})}max(t,r){return new Wn({...this._def,maxLength:{value:t,message:Ee.toString(r)}})}length(t,r){return new Wn({...this._def,exactLength:{value:t,message:Ee.toString(r)}})}nonempty(t){return this.min(1,t)}}Wn.create=(e,t)=>new Wn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...Ue(t)});function Yi(e){if(e instanceof Et){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=xs.create(Yi(s))}return new Et({...e._def,shape:()=>t})}else return e instanceof Wn?new Wn({...e._def,type:Yi(e.element)}):e instanceof xs?xs.create(Yi(e.unwrap())):e instanceof bi?bi.create(Yi(e.unwrap())):e instanceof Ss?Ss.create(e.items.map(t=>Yi(t))):e}class Et extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ze.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ye.object){const d=this._getOrReturnCtx(t);return xe(d,{code:le.invalid_type,expected:ye.object,received:d.parsedType}),Me}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ta&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Kn(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Ta){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(d==="strict")l.length>0&&(xe(a,{code:le.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=a.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Kn(a,f,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,m=await h.value;d.push({key:f,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>gr.mergeObjectSync(s,d)):gr.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Ee.errToObj,new Et({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ee.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(t){return new Et({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Et({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Et({...this._def,catchall:t})}pick(t){const r={};return Ze.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Et({...this._def,shape:()=>r})}omit(t){const r={};return Ze.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new Et({...this._def,shape:()=>r})}deepPartial(){return Yi(this)}partial(t){const r={};return Ze.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new Et({...this._def,shape:()=>r})}required(t){const r={};return Ze.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof xs;)i=i._def.innerType;r[s]=i}}),new Et({...this._def,shape:()=>r})}keyof(){return rk(Ze.objectKeys(this.shape))}}Et.create=(e,t)=>new Et({shape:()=>e,unknownKeys:"strip",catchall:Ta.create(),typeName:Pe.ZodObject,...Ue(t)});Et.strictCreate=(e,t)=>new Et({shape:()=>e,unknownKeys:"strict",catchall:Ta.create(),typeName:Pe.ZodObject,...Ue(t)});Et.lazycreate=(e,t)=>new Et({shape:e,unknownKeys:"strip",catchall:Ta.create(),typeName:Pe.ZodObject,...Ue(t)});class nh extends He{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new an(l.ctx.common.issues));return xe(r,{code:le.invalid_union,unionErrors:o}),Me}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new an(c));return xe(r,{code:le.invalid_union,unionErrors:l}),Me}}get options(){return this._def.options}}nh.create=(e,t)=>new nh({options:e,typeName:Pe.ZodUnion,...Ue(t)});const ss=e=>e instanceof ih?ss(e.schema):e instanceof Cs?ss(e.innerType()):e instanceof oh?[e.value]:e instanceof wi?e.options:e instanceof lh?Ze.objectValues(e.enum):e instanceof ch?ss(e._def.innerType):e instanceof th?[void 0]:e instanceof rh?[null]:e instanceof xs?[void 0,...ss(e.unwrap())]:e instanceof bi?[null,...ss(e.unwrap())]:e instanceof nk||e instanceof uh?ss(e.unwrap()):e instanceof dh?ss(e._def.innerType):[];class Fv extends He{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ye.object)return xe(r,{code:le.invalid_type,expected:ye.object,received:r.parsedType}),Me;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(xe(r,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=ss(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Fv({typeName:Pe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Ue(s)})}}function bg(e,t){const r=Ja(e),s=Ja(t);if(e===t)return{valid:!0,data:e};if(r===ye.object&&s===ye.object){const a=Ze.objectKeys(t),i=Ze.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=bg(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ye.array&&s===ye.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=bg(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ye.date&&s===ye.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class sh extends He{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(U0(i)||U0(o))return Me;const l=bg(i.value,o.value);return l.valid?((z0(i)||z0(o))&&r.dirty(),{status:r.value,value:l.data}):(xe(s,{code:le.invalid_intersection_types}),Me)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}sh.create=(e,t,r)=>new sh({left:e,right:t,typeName:Pe.ZodIntersection,...Ue(r)});class Ss extends He{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.array)return xe(s,{code:le.invalid_type,expected:ye.array,received:s.parsedType}),Me;if(s.data.length<this._def.items.length)return xe(s,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&s.data.length>this._def.items.length&&(xe(s,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Kn(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>gr.mergeArray(r,o)):gr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Ss({...this._def,rest:t})}}Ss.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ss({items:e,typeName:Pe.ZodTuple,rest:null,...Ue(t)})};class ah extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.object)return xe(s,{code:le.invalid_type,expected:ye.object,received:s.parsedType}),Me;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new Kn(s,l,s.path,l)),value:o._parse(new Kn(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?gr.mergeObjectAsync(r,a):gr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof He?new ah({keyType:t,valueType:r,typeName:Pe.ZodRecord,...Ue(s)}):new ah({keyType:fs.create(),valueType:t,typeName:Pe.ZodRecord,...Ue(r)})}}class jg extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.map)return xe(s,{code:le.invalid_type,expected:ye.map,received:s.parsedType}),Me;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Kn(s,l,s.path,[d,"key"])),value:i._parse(new Kn(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Me;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Me;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}jg.create=(e,t,r)=>new jg({valueType:t,keyType:e,typeName:Pe.ZodMap,...Ue(r)});class Wo extends He{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ye.set)return xe(s,{code:le.invalid_type,expected:ye.set,received:s.parsedType}),Me;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(xe(s,{code:le.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(xe(s,{code:le.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Me;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Kn(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Wo({...this._def,minSize:{value:t,message:Ee.toString(r)}})}max(t,r){return new Wo({...this._def,maxSize:{value:t,message:Ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Wo.create=(e,t)=>new Wo({valueType:e,minSize:null,maxSize:null,typeName:Pe.ZodSet,...Ue(t)});class Xl extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ye.function)return xe(r,{code:le.invalid_type,expected:ye.function,received:r.parsedType}),Me;function s(l,c){return gg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pg(),Tc].filter(d=>!!d),issueData:{code:le.invalid_arguments,argumentsError:c}})}function a(l,c){return gg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pg(),Tc].filter(d=>!!d),issueData:{code:le.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Pc){const l=this;return Dr(async function(...c){const d=new an([]),h=await l._def.args.parseAsync(c,i).catch(p=>{throw d.addIssue(s(c,p)),d}),f=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(f,i).catch(p=>{throw d.addIssue(a(f,p)),d})})}else{const l=this;return Dr(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new an([s(c,d.error)]);const h=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(h,i);if(!f.success)throw new an([a(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Xl({...this._def,args:Ss.create(t).rest(wo.create())})}returns(t){return new Xl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new Xl({args:t||Ss.create([]).rest(wo.create()),returns:r||wo.create(),typeName:Pe.ZodFunction,...Ue(s)})}}class ih extends He{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ih.create=(e,t)=>new ih({getter:e,typeName:Pe.ZodLazy,...Ue(t)});class oh extends He{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return xe(r,{received:r.data,code:le.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}}oh.create=(e,t)=>new oh({value:e,typeName:Pe.ZodLiteral,...Ue(t)});function rk(e,t){return new wi({values:e,typeName:Pe.ZodEnum,...Ue(t)})}class wi extends He{constructor(){super(...arguments),Rl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return xe(r,{expected:Ze.joinValues(s),received:r.parsedType,code:le.invalid_type}),Me}if(eh(this,Rl)||X2(this,Rl,new Set(this._def.values)),!eh(this,Rl).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return xe(r,{received:r.data,code:le.invalid_enum_value,options:s}),Me}return Dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return wi.create(t,{...this._def,...r})}exclude(t,r=this._def){return wi.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Rl=new WeakMap;wi.create=rk;class lh extends He{constructor(){super(...arguments),Dl.set(this,void 0)}_parse(t){const r=Ze.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==ye.string&&s.parsedType!==ye.number){const a=Ze.objectValues(r);return xe(s,{expected:Ze.joinValues(a),received:s.parsedType,code:le.invalid_type}),Me}if(eh(this,Dl)||X2(this,Dl,new Set(Ze.getValidEnumValues(this._def.values))),!eh(this,Dl).has(t.data)){const a=Ze.objectValues(r);return xe(s,{received:s.data,code:le.invalid_enum_value,options:a}),Me}return Dr(t.data)}get enum(){return this._def.values}}Dl=new WeakMap;lh.create=(e,t)=>new lh({values:e,typeName:Pe.ZodNativeEnum,...Ue(t)});class Pc extends He{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ye.promise&&r.common.async===!1)return xe(r,{code:le.invalid_type,expected:ye.promise,received:r.parsedType}),Me;const s=r.parsedType===ye.promise?r.data:Promise.resolve(r.data);return Dr(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pc.create=(e,t)=>new Pc({type:e,typeName:Pe.ZodPromise,...Ue(t)});class Cs extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{xe(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Me;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Me:c.status==="dirty"||r.value==="dirty"?Pl(c.value):c});{if(r.value==="aborted")return Me;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Me:l.status==="dirty"||r.value==="dirty"?Pl(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Me:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Me:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ju(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ju(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Ze.assertNever(a)}}Cs.create=(e,t,r)=>new Cs({schema:e,typeName:Pe.ZodEffects,effect:t,...Ue(r)});Cs.createWithPreprocess=(e,t,r)=>new Cs({schema:t,effect:{type:"preprocess",transform:e},typeName:Pe.ZodEffects,...Ue(r)});class xs extends He{_parse(t){return this._getType(t)===ye.undefined?Dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xs.create=(e,t)=>new xs({innerType:e,typeName:Pe.ZodOptional,...Ue(t)});class bi extends He{_parse(t){return this._getType(t)===ye.null?Dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bi.create=(e,t)=>new bi({innerType:e,typeName:Pe.ZodNullable,...Ue(t)});class ch extends He{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===ye.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ch.create=(e,t)=>new ch({innerType:e,typeName:Pe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ue(t)});class dh extends He{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Xu(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new an(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new an(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}dh.create=(e,t)=>new dh({innerType:e,typeName:Pe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ue(t)});class _g extends He{_parse(t){if(this._getType(t)!==ye.nan){const s=this._getOrReturnCtx(t);return xe(s,{code:le.invalid_type,expected:ye.nan,received:s.parsedType}),Me}return{status:"valid",value:t.data}}}_g.create=e=>new _g({typeName:Pe.ZodNaN,...Ue(e)});class nk extends He{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class ff extends He{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Me:i.status==="dirty"?(r.dirty(),Pl(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Me:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new ff({in:t,out:r,typeName:Pe.ZodPipeline})}}class uh extends He{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Ju(a)&&(a.value=Object.freeze(a.value)),a);return Xu(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}uh.create=(e,t)=>new uh({innerType:e,typeName:Pe.ZodReadonly,...Ue(t)});Et.lazycreate;var Pe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const Hi=fs.create;Vo.create;_g.create;qo.create;xg.create;Ac.create;vg.create;th.create;rh.create;const C8=yg.create;wo.create;Ta.create;wg.create;const E8=Wn.create,k8=Et.create;Et.strictCreate;nh.create;Fv.create;sh.create;Ss.create;ah.create;jg.create;Wo.create;Xl.create;ih.create;oh.create;wi.create;lh.create;Pc.create;Cs.create;xs.create;bi.create;Cs.createWithPreprocess;ff.create;const T8=BU,sk=u.createContext({}),Ha=({...e})=>n.jsx(sk.Provider,{value:{name:e.name},children:n.jsx(HU,{...e})}),mf=()=>{const e=u.useContext(sk),t=u.useContext(ak),{getFieldState:r,formState:s}=hf(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},ak=u.createContext({}),Bs=u.forwardRef(({className:e,...t},r)=>{const s=u.useId();return n.jsx(ak.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:je("space-y-2",e),...t})})});Bs.displayName="FormItem";const Vs=u.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=mf();return n.jsx(ee,{ref:r,className:je(s&&"text-destructive",e),htmlFor:a,...t})});Vs.displayName="FormLabel";const qs=u.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=mf();return n.jsx(ja,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});qs.displayName="FormControl";const eu=u.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=mf();return n.jsx("p",{ref:r,id:s,className:je("text-sm text-muted-foreground",e),...t})});eu.displayName="FormDescription";const Ws=u.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=mf(),o=a?String(a==null?void 0:a.message):t;return o?n.jsx("p",{ref:s,id:i,className:je("text-sm font-medium text-destructive",e),...r,children:o}):null});Ws.displayName="FormMessage";function ik(){const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),{user:o}=Ye(),l=async m=>{try{s(!0),console.log("DEBUG: Fetching resources from database...");let p=U.from("resources").select("*").order("created_at",{ascending:!1});m!=null&&m.category&&m.category!=="All"&&(p=p.eq("category",m.category)),m!=null&&m.subject&&m.subject!=="All"&&(p=p.eq("subject",m.subject)),m!=null&&m.course_code&&m.course_code!=="All"&&(p=p.eq("course_code",m.course_code)),m!=null&&m.search&&(p=p.or(`title.ilike.%${m.search}%,description.ilike.%${m.search}%`));const{data:g,error:x}=await p;if(console.log("DEBUG: Raw query result:",{data:g,error:x}),x)throw console.error("DEBUG: Database query error:",x),x;console.log("DEBUG: Successfully fetched resources:",(g==null?void 0:g.length)||0),t(g||[])}catch(p){console.error("DEBUG: Fetch resources error:",p),i(p instanceof Error?p.message:"Failed to fetch resources")}finally{s(!1)}},c=async m=>{if(!o)throw new Error("User must be authenticated");try{console.log("DEBUG: User object:",o),console.log("DEBUG: User ID:",o.id),console.log("DEBUG: Resource data:",m);try{await U.rpc("set_session_context",{user_id:o.id}),console.log("DEBUG: Session context set successfully")}catch(w){console.warn("Session context not available, continuing with direct insert",w)}const p=`debug/${Date.now()}_${m.file.name}`;console.log("DEBUG: Using dummy file path:",p);const g={title:m.title,description:m.description,file_path:p,uploaded_by:o.id};m.category&&(g.category=m.category),m.subject&&(g.subject=m.subject),m.course_code&&(g.course_code=m.course_code),m.tags&&(g.tags=m.tags),m.file.size&&(g.file_size=m.file.size),m.file.type&&(g.file_type=m.file.type),console.log("DEBUG: Insert data:",g);const{data:x,error:y}=await U.from("resources").insert(g).select().single();if(console.log("DEBUG: Supabase response:",{data:x,error:y}),y)throw y;return console.log("DEBUG: Upload successful, adding to resources list:",x),t(w=>[x,...w]),setTimeout(()=>{l()},100),x}catch(p){throw console.error("DEBUG: Full error:",p),p instanceof Error?p:new Error("Failed to create resource")}},d=async m=>{try{await U.from("resources").update({download_count:(m.download_count||0)+1}).eq("id",m.id);const{data:p,error:g}=await U.storage.from("resources").createSignedUrl(m.file_path,60*60);if(g)throw g;const x=document.createElement("a");x.href=p.signedUrl,x.download=m.title,document.body.appendChild(x),x.click(),document.body.removeChild(x),t(y=>y.map(w=>w.id===m.id?{...w,download_count:(w.download_count||0)+1}:w))}catch(p){throw p instanceof Error?p:new Error("Failed to download resource")}},h=async(m,p)=>{try{await U.storage.from("resources").remove([p]);const{error:g}=await U.from("resources").delete().eq("id",m);if(g)throw g;t(x=>x.filter(y=>y.id!==m))}catch(g){throw g instanceof Error?g:new Error("Failed to delete resource")}},f=async m=>{const{data:p,error:g}=await U.storage.from("resources").createSignedUrl(m,900);if(g)throw g;return p.signedUrl};return u.useEffect(()=>{l()},[]),{resources:e,loading:r,error:a,createResource:c,deleteResource:h,downloadResource:d,getResourcePreviewUrl:f,refetch:l}}const A8=50*1024*1024,ok=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","image/jpeg","image/png","image/gif","video/mp4","video/avi","video/quicktime","application/zip","application/x-rar-compressed"],P8=["Academic","Research","Laboratory","Software","Career","Creative","Reference","Past Papers","Project"],R8=["Computer Science","Programming","Data Structures","Algorithms","Database Systems","Software Engineering","Computer Networks","Artificial Intelligence","Machine Learning","Web Development","Mobile Development","Mathematics","Statistics","Physics","Chemistry","Economics","Finance","Marketing","Management","English","General Studies"],D8=k8({title:Hi().min(3,"Title must be at least 3 characters").max(100,"Title too long"),description:Hi().max(500,"Description too long").optional(),category:Hi().min(1,"Please select a category"),subject:Hi().optional(),course_code:Hi().max(20,"Course code too long").optional(),tags:E8(Hi()).max(10,"Maximum 10 tags allowed"),file:C8().refine(e=>(e==null?void 0:e.size)<=A8,"File size must be less than 50MB").refine(e=>ok.includes(e==null?void 0:e.type),"Invalid file type. Please upload PDF, DOC, PPT, XLS, TXT, images, videos, or archives")});function O8({open:e,onOpenChange:t,onUploadSuccess:r}){const[s,a]=u.useState(""),[i,o]=u.useState(!1),{toast:l}=lr(),{createResource:c}=ik(),d=s8({resolver:l8(D8),defaultValues:{title:"",description:"",category:"",subject:"",course_code:"",tags:[]}}),h=d.watch("file"),f=d.watch("tags")||[],m=v=>v!=null&&v.includes("pdf")?n.jsx(bn,{className:"h-8 w-8 text-red-500"}):v!=null&&v.includes("video")?n.jsx(Oh,{className:"h-8 w-8 text-purple-500"}):v!=null&&v.includes("image")?n.jsx(Bc,{className:"h-8 w-8 text-green-500"}):v!=null&&v.includes("zip")||v!=null&&v.includes("rar")?n.jsx(xc,{className:"h-8 w-8 text-orange-500"}):n.jsx(bn,{className:"h-8 w-8 text-blue-500"}),p=v=>{if(v===0)return"0 Bytes";const b=1024,j=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(v)/Math.log(b));return parseFloat((v/Math.pow(b,N)).toFixed(2))+" "+j[N]},g=()=>{s.trim()&&!f.includes(s.trim())&&f.length<10&&(d.setValue("tags",[...f,s.trim()]),a(""))},x=v=>{d.setValue("tags",f.filter(b=>b!==v))},y=v=>{v.key==="Enter"&&(v.preventDefault(),g())},w=async v=>{try{o(!0),await c({title:v.title,description:v.description,category:v.category,subject:v.subject,course_code:v.course_code,tags:v.tags,file:v.file}),l({title:"Success!",description:"Resource uploaded successfully"}),r&&r(),d.reset(),t(!1)}catch(b){console.error("Upload error:",b),l({title:"Upload Failed",description:b instanceof Error?b.message:"Failed to upload resource",variant:"destructive"})}finally{o(!1)}};return n.jsx(jn,{open:e,onOpenChange:t,children:n.jsxs(Zr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(Xr,{className:"flex items-center gap-2",children:[n.jsx(Rp,{className:"h-5 w-5"}),"Upload Resource"]}),n.jsx(yi,{children:"Share educational materials with your fellow students. All uploads are subject to community guidelines."})]}),n.jsx(T8,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(w),className:"space-y-6",children:[n.jsx(Ha,{control:d.control,name:"file",render:({field:{onChange:v,value:b,...j}})=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"File *"}),n.jsx(qs,{children:n.jsx("div",{className:"border-2 border-dashed border-muted-foreground/20 rounded-lg p-6",children:h?n.jsxs("div",{className:"flex items-center gap-4",children:[m(h.type),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium truncate",children:h.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:p(h.size)})]}),n.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>v(null),children:"Remove"})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Rp,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-2",children:"Choose a file to upload"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"PDF, DOC, PPT, XLS, TXT, images, videos, or archives (max 50MB)"}),n.jsx("input",{type:"file",accept:ok.join(","),onChange:N=>{var C;return v(((C=N.target.files)==null?void 0:C[0])||null)},className:"hidden",id:"file-upload",...j}),n.jsx("label",{htmlFor:"file-upload",children:n.jsx(z,{type:"button",variant:"outline",asChild:!0,children:n.jsx("span",{children:"Select File"})})})]})})}),n.jsx(Ws,{})]})}),n.jsx(Ha,{control:d.control,name:"title",render:({field:v})=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"Title *"}),n.jsx(qs,{children:n.jsx(re,{placeholder:"Enter resource title...",...v})}),n.jsx(Ws,{})]})}),n.jsx(Ha,{control:d.control,name:"description",render:({field:v})=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"Description"}),n.jsx(qs,{children:n.jsx(Xe,{placeholder:"Describe what this resource contains and how it can help other students...",className:"min-h-[80px]",...v})}),n.jsx(eu,{children:"Optional but recommended to help others understand the content"}),n.jsx(Ws,{})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ha,{control:d.control,name:"category",render:({field:v})=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"Category *"}),n.jsxs(ct,{onValueChange:v.onChange,defaultValue:v.value,children:[n.jsx(qs,{children:n.jsx(st,{children:n.jsx(dt,{placeholder:"Select category"})})}),n.jsx(at,{children:P8.map(b=>n.jsx(ge,{value:b,children:b},b))})]}),n.jsx(Ws,{})]})}),n.jsx(Ha,{control:d.control,name:"subject",render:({field:v})=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"Subject"}),n.jsxs(ct,{onValueChange:v.onChange,defaultValue:v.value,children:[n.jsx(qs,{children:n.jsx(st,{children:n.jsx(dt,{placeholder:"Select subject"})})}),n.jsx(at,{children:R8.map(b=>n.jsx(ge,{value:b,children:b},b))})]}),n.jsx(Ws,{})]})})]}),n.jsx(Ha,{control:d.control,name:"course_code",render:({field:v})=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"Course Code"}),n.jsx(qs,{children:n.jsx(re,{placeholder:"e.g., CSE110, MAT110, ENG101...",...v})}),n.jsx(eu,{children:"Optional - helps students find resources for specific courses"}),n.jsx(Ws,{})]})}),n.jsx(Ha,{control:d.control,name:"tags",render:()=>n.jsxs(Bs,{children:[n.jsx(Vs,{children:"Tags"}),n.jsx(qs,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{placeholder:"Add a tag...",value:s,onChange:v=>a(v.target.value),onKeyPress:y}),n.jsx(z,{type:"button",variant:"outline",onClick:g,disabled:!s.trim()||f.length>=10,children:"Add"})]}),f.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(v=>n.jsxs(he,{variant:"secondary",className:"flex items-center gap-1",children:[v,n.jsx(Ni,{className:"h-3 w-3 cursor-pointer",onClick:()=>x(v)})]},v))})]})}),n.jsx(eu,{children:"Add relevant keywords to help others discover your resource (max 10)"}),n.jsx(Ws,{})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,className:"flex-1",children:"Cancel"}),n.jsx(z,{type:"submit",disabled:i,className:"flex-1",children:i?"Uploading...":"Upload Resource"})]})]})})]})})}function M8({resource:e,open:t,onOpenChange:r,onDownload:s,getPreviewUrl:a}){var v,b,j,N,C,_,k,E;const[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,h]=u.useState(null),{toast:f}=lr(),m=M=>M?M.includes("pdf")?n.jsx(bn,{className:"h-8 w-8 text-red-500"}):M.includes("video")?n.jsx(Oh,{className:"h-8 w-8 text-purple-500"}):M.includes("image")?n.jsx(Bc,{className:"h-8 w-8 text-green-500"}):M.includes("zip")||M.includes("rar")?n.jsx(xc,{className:"h-8 w-8 text-orange-500"}):n.jsx(bn,{className:"h-8 w-8 text-blue-500"}):n.jsx(bn,{className:"h-8 w-8 text-blue-500"}),p=M=>{if(!M)return"Unknown size";if(M===0)return"0 Bytes";const H=1024,A=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(M)/Math.log(H));return parseFloat((M/Math.pow(H,P)).toFixed(2))+" "+A[P]},g=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=M=>M?M.includes("image")||M.includes("pdf")||M.includes("text")||M.includes("doc")||M.includes("docx"):!1,y=async()=>{var M;if(!(!e||!x(e.file_type))){if(e.file_path.startsWith("sample/")){f({title:"Demo Resource",description:"Preview not available for demo resources",variant:"default"});return}try{if(c(!0),!a)throw new Error("Preview function not available");const H=await a(e.file_path);if(o(H),(M=e.file_type)!=null&&M.includes("text"))try{const P=await(await fetch(H)).text();h(P)}catch(A){console.warn("Could not load text content:",A),h("Text content could not be loaded")}}catch(H){console.error("Failed to load preview:",H),f({title:"Preview Error",description:"Could not load preview for this file",variant:"destructive"})}finally{c(!1)}}},w=async()=>{if(e)try{s&&await s(e),f({title:"Download Started",description:"Your file download should begin shortly"})}catch(M){console.error("Download failed:",M),f({title:"Download Failed",description:M instanceof Error?M.message:"Failed to download resource",variant:"destructive"})}};return u.useEffect(()=>{t&&e&&(o(null),x(e.file_type)&&y())},[t,e]),e?n.jsx(jn,{open:t,onOpenChange:r,children:n.jsxs(Zr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(Xr,{className:"flex items-center gap-3",children:[m(e.file_type),n.jsx("span",{className:"truncate",children:e.title})]}),n.jsx(yi,{children:e.description||"No description provided"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Uploaded by:"}),n.jsx("span",{className:"font-medium",children:((v=e.profiles)==null?void 0:v.full_name)||"Unknown User"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($e,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Date:"}),n.jsx("span",{className:"font-medium",children:g(e.created_at)})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(xc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Size:"}),n.jsx("span",{className:"font-medium",children:p(e.file_size)})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Downloads:"}),n.jsx("span",{className:"font-medium",children:e.download_count||0})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ps,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Category:"}),n.jsx(he,{variant:"secondary",children:e.category||"Academic"})]}),e.subject&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ps,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Subject:"}),n.jsx(he,{variant:"outline",children:e.subject})]}),e.course_code&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ex,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Course:"}),n.jsx(he,{variant:"outline",children:e.course_code})]}),e.tags&&e.tags.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(S4,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Tags:"})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map(M=>n.jsx(he,{variant:"outline",className:"text-xs",children:M},M))})]})]})]}),n.jsx(Gu,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted/20 rounded-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-primary",children:e.download_count||0}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Downloads"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:p(e.file_size)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"File Size"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((j=(b=e.file_type)==null?void 0:b.split("/")[1])==null?void 0:j.toUpperCase())||"FILE"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"File Type"})]})]}),n.jsx(Gu,{}),x(e.file_type)&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Preview"}),!i&&n.jsxs(z,{variant:"outline",onClick:y,disabled:l,size:"sm",children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),l?"Loading...":"Load Preview"]})]}),i&&n.jsx("div",{className:"border rounded-lg overflow-hidden bg-muted/10",children:(N=e.file_type)!=null&&N.includes("image")?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:i,alt:e.title,className:"w-full max-h-96 object-contain"}),n.jsx("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-xs",children:e.file_type})]}):(C=e.file_type)!=null&&C.includes("pdf")?n.jsxs("div",{className:"relative",children:[n.jsx("iframe",{src:i,className:"w-full h-96",title:e.title}),n.jsx("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-xs",children:"PDF Preview"})]}):(_=e.file_type)!=null&&_.includes("doc")||(k=e.file_type)!=null&&k.includes("docx")?n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx(bn,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{className:"mb-2",children:"Document Preview"}),n.jsx("p",{className:"text-sm",children:"Microsoft Office documents can be previewed online"}),n.jsx("div",{className:"mt-4",children:n.jsxs("a",{href:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(i)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[n.jsx(pi,{className:"h-4 w-4"}),"Open in Office Online"]})})]}):(E=e.file_type)!=null&&E.includes("text")?n.jsx("div",{className:"p-4",children:n.jsx("pre",{className:"text-sm text-left overflow-auto max-h-96 bg-background p-4 rounded border",children:n.jsx("code",{children:d||"Loading text content..."})})}):n.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[n.jsx(bn,{className:"h-12 w-12 mx-auto mb-4"}),n.jsx("p",{children:"Preview not available for this file type"}),n.jsxs("p",{className:"text-sm mt-2",children:["File type: ",e.file_type]})]})})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Close"}),n.jsxs(z,{onClick:w,className:"flex-1",children:[n.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]})}):null}const I8=["All","Academic","Research","Laboratory","Software","Career","Creative","Reference","Past Papers","Project"],L8=["All","Computer Science","Programming","Data Structures","Algorithms","Database Systems","Software Engineering","Computer Networks","Artificial Intelligence","Machine Learning","Web Development","Mobile Development","Mathematics","Statistics","Physics","Chemistry","Economics","Finance","Marketing","Management","English","General Studies"],$8=["All","PDF","Video","Document","Image","Audio","Archive"],Tm=[],F8=()=>{const[e,t]=u.useState(""),[r,s]=u.useState("All"),[a,i]=u.useState("All"),[o,l]=u.useState("All"),[c,d]=u.useState(!1),[h,f]=u.useState(null),[m,p]=u.useState(!1),{isAuthenticated:g}=Ye(),{resources:x,loading:y,error:w,refetch:v,downloadResource:b,getResourcePreviewUrl:j}=ik();console.log("🔍 DEBUG: dbResources:",x),console.log("🔍 DEBUG: dbResources length:",x.length),console.log("🔍 DEBUG: sampleResources length:",Tm.length),console.log("🔍 DEBUG: dbLoading:",y),console.log("🔍 DEBUG: dbError:",w),x.forEach((T,R)=>{console.log(`🔍 DB Resource ${R+1}:`,{id:T.id,title:T.title,file_path:T.file_path,created_at:T.created_at})});const C=[...x,...Tm],_=y,k=w;console.log("🔍 DEBUG: Combined resources length:",C.length);const E=C.filter(T=>{const R=e===""||T.title.toLowerCase().includes(e.toLowerCase())||T.description&&T.description.toLowerCase().includes(e.toLowerCase()),F=r==="All"||T.category===r,D=a==="All"||T.subject===a,O=o==="All"||(()=>{var Y;const L=((Y=T.file_type)==null?void 0:Y.toLowerCase())||"";switch(o){case"PDF":return L.includes("pdf");case"Video":return L.includes("video");case"Document":return L.includes("doc")||L.includes("text");case"Image":return L.includes("image");case"Audio":return L.includes("audio");case"Archive":return L.includes("zip")||L.includes("rar");default:return!0}})();return R&&F&&D&&O}),M=T=>{if(!T)return n.jsx(ps,{className:"h-4 w-4"});const R=T.toLowerCase();return R.includes("pdf")?n.jsx(bn,{className:"h-4 w-4 text-red-500"}):R.includes("video")?n.jsx(Oh,{className:"h-4 w-4 text-purple-500"}):R.includes("image")?n.jsx(Bc,{className:"h-4 w-4 text-green-500"}):R.includes("zip")||R.includes("rar")?n.jsx(xc,{className:"h-4 w-4 text-orange-500"}):n.jsx(bn,{className:"h-4 w-4 text-blue-500"})},H=T=>{if(!T)return"Unknown";if(T===0)return"0 B";const R=1024,F=["B","KB","MB","GB"],D=Math.floor(Math.log(T)/Math.log(R));return parseFloat((T/Math.pow(R,D)).toFixed(1))+" "+F[D]},A=T=>{f(T),p(!0)},P=async T=>{try{if(T.file_path.startsWith("sample/")){alert(`Demo Resource: "${T.title}" would be downloaded in a real implementation. This is a sample resource for demonstration purposes.`);return}await b(T)}catch(R){console.error("Download failed:",R)}};return _?n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx(An,{})})}):k?n.jsx(ut,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:"Error Loading Resources"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:k}),n.jsx(z,{onClick:()=>v(),children:"Try Again"})]})})}):n.jsxs(ut,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[n.jsx(ps,{className:"h-10 w-10 text-primary"}),n.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Course Resource Repository"})]}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto mb-6",children:"Digital library for non-academic course materials and educational resources. Share knowledge and access resources contributed by your fellow students."}),g&&n.jsxs(z,{onClick:()=>d(!0),size:"lg",className:"gap-2",children:[n.jsx(Qt,{className:"h-5 w-5"}),"Contribute Resource"]})]}),n.jsxs("div",{className:"space-y-4 mb-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx(re,{placeholder:"Search resources by title or description...",value:e,onChange:T=>t(T.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(ct,{value:r,onValueChange:s,children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Category"})}),n.jsx(at,{children:I8.map(T=>n.jsx(ge,{value:T,children:T},T))})]}),n.jsxs(ct,{value:a,onValueChange:i,children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Subject"})}),n.jsx(at,{children:L8.map(T=>n.jsx(ge,{value:T,children:T},T))})]}),n.jsxs(ct,{value:o,onValueChange:l,children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"File Type"})}),n.jsx(at,{children:$8.map(T=>n.jsx(ge,{value:T,children:T},T))})]}),n.jsx(z,{variant:"outline",onClick:()=>{t(""),s("All"),i("All"),l("All")},children:"Clear Filters"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs(J,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-primary",children:C.length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Resources"})]}),n.jsxs(J,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.reduce((T,R)=>T+(R.download_count||0),0)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Downloads"})]}),n.jsxs(J,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:H(C.reduce((T,R)=>T+(R.file_size||0),0))}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Storage"})]}),n.jsxs(J,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:C.filter(T=>{var R;return(R=T.file_type)==null?void 0:R.includes("pdf")}).length}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"PDF Documents"})]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("p",{className:"text-muted-foreground",children:["Showing ",E.length," of ",C.length," resources (",x.length," database + ",Tm.length," demo)"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{console.log("🔄 Manual refresh triggered"),v()},children:"🔄 Refresh"}),!g&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("a",{href:"/signin",className:"text-primary hover:underline",children:"Sign in"})," ","to upload resources"]})]})]}),E.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ps,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No resources found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:e||r!=="All"||a!=="All"||o!=="All"?"Try adjusting your search or filters":"Be the first to share a resource with the community"}),g&&n.jsxs(z,{onClick:()=>d(!0),variant:"outline",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Upload First Resource"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(T=>{var R,F,D,O;return n.jsxs(J,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-card overflow-hidden",children:[n.jsxs("div",{className:"relative bg-gradient-to-br from-muted/30 to-muted/60 h-48 flex items-center justify-center",children:[n.jsxs("div",{className:"text-center",children:[M(T.file_type),n.jsx("p",{className:"text-xs text-muted-foreground mt-2 font-medium",children:((F=(R=T.file_type)==null?void 0:R.split("/")[1])==null?void 0:F.toUpperCase())||"FILE"})]}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsxs(he,{variant:"secondary",className:"bg-background/80 flex items-center gap-1",children:[M(T.file_type),T.category||"Academic"]})}),T.subject&&n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx(he,{variant:"outline",className:"bg-background/80",children:T.subject})}),T.course_code&&n.jsx("div",{className:"absolute bottom-4 left-4",children:n.jsxs(he,{variant:"outline",className:"bg-background/80 flex items-center gap-1",children:[n.jsx(Ex,{className:"h-3 w-3"}),T.course_code]})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-semibold group-hover:text-primary transition-colors mb-2 line-clamp-2",children:T.title}),n.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2 text-sm",children:T.description||"No description provided"}),T.tags&&T.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[T.tags.slice(0,3).map(L=>n.jsx(he,{variant:"outline",className:"text-xs",children:L},L)),T.tags.length>3&&n.jsxs(he,{variant:"outline",className:"text-xs",children:["+",T.tags.length-3]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(xc,{className:"h-3 w-3"}),H(T.file_size)]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Cu,{className:"h-3 w-3"}),T.download_count||0," downloads"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx($e,{className:"h-3 w-3"}),new Date(T.created_at).toLocaleDateString()]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(bn,{className:"h-3 w-3"}),((O=(D=T.file_type)==null?void 0:D.split("/")[1])==null?void 0:O.toUpperCase())||"FILE"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(z,{className:"flex-1",onClick:()=>P(T),children:[n.jsx(Cu,{className:"h-4 w-4 mr-2"}),"Download"]}),n.jsx(z,{variant:"outline",size:"icon",onClick:()=>A(T),children:n.jsx(pi,{className:"h-4 w-4"})})]})]})]},T.id)})}),g&&n.jsx("div",{className:"text-center mt-12",children:n.jsxs(J,{className:"p-8 bg-gradient-accent border-0",children:[n.jsx(Rp,{className:"h-12 w-12 mx-auto text-accent-foreground mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-accent-foreground mb-4",children:"Share Your Knowledge"}),n.jsx("p",{className:"text-accent-foreground/80 mb-6 max-w-2xl mx-auto",children:"Help your fellow students succeed by contributing your study materials, project reports, useful tools, and educational resources to our community library."}),n.jsxs(z,{variant:"secondary",size:"lg",onClick:()=>d(!0),className:"gap-2",children:[n.jsx(Qt,{className:"h-5 w-5"}),"Upload Resource"]})]})})]}),n.jsx(O8,{open:c,onOpenChange:d,onUploadSuccess:()=>{console.log("DEBUG: Upload success, triggering refetch..."),v()}}),n.jsx(M8,{resource:h,open:m,onOpenChange:p,onDownload:P,getPreviewUrl:j})]})},U8=()=>{const e=[{icon:We,title:"Join Clubs",description:"Discover and join student organizations at BRAC University that match your interests and passions.",color:"text-primary"},{icon:$e,title:"Campus Events",description:"Stay updated with BRACU campus events, competitions, and important academic deadlines.",color:"text-accent"},{icon:Vn,title:"Connect & Discuss",description:"Engage in meaningful discussions with fellow BRACU students through university forums.",color:"text-success"},{icon:ps,title:"Academic Resources",description:"Access BRAC University course materials, career opportunities, and educational resources.",color:"text-warning"}],t=[{icon:lo,title:"Student-Centric Design",description:"Built specifically for BRAC University students to enhance their academic and social experience."},{icon:k4,title:"Community Building",description:"Foster meaningful connections with peers, faculty, and staff across different departments and schools."},{icon:Su,title:"Skill Development",description:"Participate in clubs, events, and forums to develop leadership, communication, and organizational skills."},{icon:B_,title:"Digital Campus",description:"Access all university activities and resources from anywhere, anytime through our modern web platform."}];return n.jsx(ut,{children:n.jsxs("div",{className:"min-h-screen bg-background pt-20",children:[n.jsx("section",{className:"py-20 bg-gradient-to-b from-primary/5 to-background",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Learn More About BRACU SAM Portal"}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Discover how our Student Activity Management Portal enhances your university experience and connects you with the vibrant BRAC University community."})]})}),n.jsx("section",{className:"py-20 bg-gradient-to-b from-background to-muted/20",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"What You Can Do"}),n.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore the key features that make BRACU SAM Portal your gateway to an enriched university experience."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((r,s)=>n.jsx(J,{className:"bg-gradient-card border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsxs(ie,{className:"p-6 text-center",children:[n.jsx("div",{className:"bg-muted/50 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(r.icon,{className:`h-8 w-8 ${r.color}`})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),n.jsx("p",{className:"text-muted-foreground text-sm",children:r.description})]})},s))})]})}),n.jsx("section",{className:"py-20 bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Why Choose BRACU SAM Portal?"}),n.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Our platform is designed to make your university journey more engaging, connected, and productive."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((r,s)=>n.jsx(J,{className:"bg-background border border-border/50 shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(ie,{className:"p-8",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:n.jsx(r.icon,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),n.jsx("p",{className:"text-muted-foreground",children:r.description})]})]})})},s))})]})}),n.jsx("section",{className:"py-20 bg-background",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-6",children:"About BRAC University"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:"BRAC University is a private research university in Bangladesh, established in 2001. It is one of the largest private universities in the country, known for its commitment to academic excellence, research, and social responsibility."}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"The BRACU SAM Portal represents our commitment to providing students with modern, digital tools to enhance their educational experience and build a strong, connected campus community."})]})})})]})})};var Uv="Switch",[z8,Az]=Yn(Uv),[B8,V8]=z8(Uv),lk=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=e,[m,p]=u.useState(null),g=Ke(t,b=>p(b)),x=u.useRef(!1),y=m?h||!!m.closest("form"):!0,[w=!1,v]=_a({prop:a,defaultProp:i,onChange:d});return n.jsxs(B8,{scope:r,checked:w,disabled:l,children:[n.jsx(Te.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":uk(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ne(e.onClick,b=>{v(j=>!j),y&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),y&&n.jsx(q8,{control:m,bubbles:!x.current,name:s,value:c,checked:w,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});lk.displayName=Uv;var ck="SwitchThumb",dk=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=V8(ck,r);return n.jsx(Te.span,{"data-state":uk(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});dk.displayName=ck;var q8=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=u.useRef(null),o=yv(r),l=Lx(t);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uk(e){return e?"checked":"unchecked"}var hk=lk,W8=dk;const Ng=u.forwardRef(({className:e,...t},r)=>n.jsx(hk,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(W8,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ng.displayName=hk.displayName;const H8=()=>{const{user:e}=Ye(),{toast:t}=lr(),[r,s]=u.useState([]),[a,i]=u.useState(null),[o,l]=u.useState([]),[c,d]=u.useState([]),[h,f]=u.useState(!0),[m,p]=u.useState(!1),[g,x]=u.useState(!1),[y,w]=u.useState(null),[v,b]=u.useState({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",location:"",capacity:50,status:"upcoming"}),[j,N]=u.useState({name:"",description:"",category:"",is_public:!0}),[C,_]=u.useState(!1),[k,E]=u.useState({name:"",description:"",category:"",is_public:!0,club_details:"",panel_members:"",previous_events:"",achievements:"",departments:"",website:"",social_media:"",founded_date:"",mission_statement:"",vision_statement:"",address:"",meeting_day:"",meeting_time:"",max_members:"",requirements:"",contact_email:"",club_mail:"",contact_phone:"",location:""}),M=(e==null?void 0:e.role)==="admin",H=async()=>{try{let I;M?(I=U.from("clubs").select("*"),console.log("Superadmin: fetching all clubs")):e.club_admin?(console.log("User has club admin assignment:",e.club_admin),I=U.from("clubs").select("*").or(`created_by.eq.${e.id},id.eq.${e.club_admin}`)):(console.log("User fetching clubs they created"),I=U.from("clubs").select("*").eq("created_by",e.id)),console.log("Executing query for user:",e.id,"club_admin:",e.club_admin);const{data:K,error:ce}=await I;if(ce){console.error("Error fetching clubs:",ce),t({title:"Error",description:"Failed to fetch your clubs",variant:"destructive"});return}if(s(K||[]),K&&K.length>0){const ve=K[0];i(ve),N({name:ve.name||"",description:ve.description||"",category:ve.category||"",is_public:ve.is_public??!0}),A(ve.id),P(ve.id)}}catch(I){console.error("Error:",I)}finally{f(!1)}},A=async I=>{try{console.log("Fetching members for club:",I);const{data:K,error:ce}=await U.from("club_membership_application").select("*").eq("club_id",I);if(ce){console.error("Error fetching applications:",ce);return}if(console.log("Raw applications found:",K),K&&K.length>0){const ve=await Promise.all(K.map(async _e=>{try{const V=_e.user_id||_e.applicant_id;if(!V)return{..._e,user:{full_name:"Unknown User",email:"unknown@example.com",student_id:"N/A",department:"N/A"}};const{data:ne,error:Ce}=await U.from("users").select("full_name, email, student_id, department").eq("id",V).single();return Ce||!ne?(console.warn("Could not fetch user data for:",V,Ce),{..._e,user:{full_name:"Unknown User",email:"unknown@example.com",student_id:"N/A",department:"N/A"}}):{..._e,user:ne}}catch(V){return console.warn("Error fetching user data:",V),{..._e,user:{full_name:"Unknown User",email:"unknown@example.com",student_id:"N/A",department:"N/A"}}}}));console.log("Members with user data:",ve),l(ve)}else l([])}catch(K){console.error("Error in fetchClubMembers:",K),l([])}},P=async I=>{try{const{data:K,error:ce}=await U.from("events").select("*").eq("club_id",I).order("start_at",{ascending:!0});if(ce){console.error("Error fetching events:",ce);return}d(K||[])}catch(K){console.error("Error:",K)}},T=I=>{i(I),N({name:I.name||"",description:I.description||"",category:I.category||"",is_public:I.is_public??!0}),A(I.id),P(I.id)},R=async()=>{if(a)try{p(!0);const{error:I}=await U.from("clubs").update({name:j.name.trim(),description:j.description.trim(),category:j.category.trim(),is_public:j.is_public}).eq("id",a.id);if(I){console.error("Error updating club:",I),t({title:"Update failed",description:"Could not update club",variant:"destructive"});return}const K={...a,...j};i(K),s(ce=>ce.map(ve=>ve.id===K.id?K:ve)),t({title:"Club updated",description:"Your changes have been saved"})}catch(I){console.error("Error updating club:",I),t({title:"Update failed",description:"Unexpected error",variant:"destructive"})}finally{p(!1)}},F=async()=>{if(!M){t({title:"Not allowed",description:"Only superadmin can create clubs",variant:"destructive"});return}if(!k.name.trim()||!k.description.trim()||!k.category){t({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}try{const{data:I,error:K}=await U.from("clubs").insert({name:k.name.trim(),description:k.description.trim(),category:k.category,is_public:k.is_public,club_details:k.club_details.trim()||null,panel_members:k.panel_members.trim()||null,previous_events:k.previous_events.trim()||null,achievements:k.achievements.trim()||null,departments:k.departments.trim()||null,website:k.website.trim()||null,social_media:k.social_media.trim()||null,founded_date:k.founded_date||null,mission_statement:k.mission_statement.trim()||null,vision_statement:k.vision_statement.trim()||null,address:k.address.trim()||null,meeting_day:k.meeting_day||null,meeting_time:k.meeting_time||null,max_members:k.max_members?parseInt(k.max_members):null,requirements:k.requirements.trim()||null,contact_email:k.contact_email.trim()||null,club_mail:k.club_mail.trim()||null,contact_phone:k.contact_phone.trim()||null,location:k.location.trim()||null,created_by:e.id}).select().single();if(K){console.error("Error creating club:",K),t({title:"Creation failed",description:"Could not create club",variant:"destructive"});return}const ce={...I,created_by:e.id};s(ve=>[ce,...ve]),i(ce),N({name:ce.name||"",description:ce.description||"",category:ce.category||"",is_public:ce.is_public??!0}),E({name:"",description:"",category:"",is_public:!0,club_details:"",panel_members:"",previous_events:"",achievements:"",departments:"",website:"",social_media:"",founded_date:"",mission_statement:"",vision_statement:"",address:"",meeting_day:"",meeting_time:"",max_members:"",requirements:"",contact_email:"",club_mail:"",contact_phone:"",location:""}),_(!1),A(ce.id),P(ce.id),t({title:"Club created",description:`${ce.name} has been created successfully`})}catch(I){console.error("Error creating club:",I),t({title:"Creation failed",description:"Unexpected error",variant:"destructive"})}},D=async()=>{if(!(!a||!confirm("This will delete the club, its events and applications. Continue?")))try{await U.from("events").delete().eq("club_id",a.id),await U.from("club_membership_application").delete().eq("club_id",a.id);const{error:K}=await U.from("clubs").delete().eq("id",a.id);if(K){console.error("Error deleting club:",K),t({title:"Delete failed",description:"Could not delete club",variant:"destructive"});return}t({title:"Club deleted",description:`${a.name} has been removed`});const ce=r.filter(ve=>ve.id!==a.id);s(ce),i(ce[0]??null)}catch(K){console.error("Error deleting club:",K),t({title:"Delete failed",description:"Unexpected error",variant:"destructive"})}},O=async(I,K)=>{try{const{error:ce}=await U.from("club_membership_application").update({status:K==="approve"?"approved":"rejected"}).eq("id",I);if(ce){console.error("Error updating member status:",ce),t({title:"Error",description:"Failed to update member status",variant:"destructive"});return}a&&A(a.id),t({title:"Success",description:`Member ${K==="approve"?"approved":"rejected"} successfully`})}catch(ce){console.error("Error:",ce)}},L=async I=>{if(confirm("Are you sure you want to remove this member from the club?"))try{const{error:K}=await U.from("club_membership_application").delete().eq("id",I);if(K){console.error("Error deleting member:",K),t({title:"Error",description:"Failed to remove member",variant:"destructive"});return}a&&A(a.id),t({title:"Success",description:"Member removed from club successfully"})}catch(K){console.error("Error:",K)}},Y=async(I,K)=>{try{console.log("Sending notification to club members for event:",I.title);const{data:ce,error:ve}=await U.from("club_membership_application").select("applicant_id").eq("club_id",K).eq("status","approved");if(ve){console.error("Error fetching club members:",ve);return}if(!ce||ce.length===0){console.log("No approved members found for club:",K);return}const{data:_e}=await U.from("clubs").select("name").eq("id",K).single(),V=(_e==null?void 0:_e.name)||"Unknown Club",ne=`New event "${I.title}" has been created in ${V}! 📅 Event starts on ${new Date(I.start_at).toLocaleDateString()} at ${I.location||"TBA"}. Don't miss out!`,Ce=ce.map(xt=>({user_id:xt.applicant_id,message:ne,type:"event_created",related_id:I.id,created_at:new Date().toISOString(),is_read:!1})),{error:Se}=await U.from("notifications").insert(Ce);Se?console.error("Error sending notifications:",Se):console.log(`Successfully sent ${Ce.length} notifications for event: ${I.title}`)}catch(ce){console.error("Error in sendEventNotificationToClubMembers:",ce)}},B=async()=>{if(a)try{const I=new Date(`${v.start_date}T${v.start_time}`),K=new Date(`${v.end_date}T${v.end_time}`),{data:ce,error:ve}=await U.from("events").insert({title:v.title,description:v.description,start_at:I.toISOString(),end_at:K.toISOString(),location:v.location,capacity:v.capacity,status:v.status,club_id:a.id,created_by:e.id}).select().single();if(ve){console.error("Error creating event:",ve),t({title:"Error",description:"Failed to create event",variant:"destructive"});return}await Y(ce,a.id),P(a.id),b({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",location:"",capacity:50,status:"upcoming"}),x(!1),t({title:"Success",description:"Event created successfully and notification sent to club members"})}catch(I){console.error("Error:",I)}},Q=async I=>{if(confirm("Are you sure you want to delete this event?"))try{const{error:K}=await U.from("events").delete().eq("id",I);if(K){console.error("Error deleting event:",K),t({title:"Error",description:"Failed to delete event",variant:"destructive"});return}a&&P(a.id),t({title:"Success",description:"Event deleted successfully"})}catch(K){console.error("Error:",K)}},ue=I=>{var K,ce;w(I),b({title:I.title,description:I.description,start_date:I.start_at.split("T")[0],start_time:((K=I.start_at.split("T")[1])==null?void 0:K.split(".")[0])||"",end_date:I.end_at.split("T")[0],end_time:((ce=I.end_at.split("T")[1])==null?void 0:ce.split(".")[0])||"",location:I.location,capacity:I.capacity,status:I.status}),x(!0)},pe=async()=>{if(!(!y||!a))try{const{data:I,error:K}=await U.from("events").update({title:v.title,description:v.description,start_at:`${v.start_date}T${v.start_time}`,end_at:`${v.end_date}T${v.end_time}`,location:v.location,capacity:v.capacity,status:v.status}).eq("id",y.id).select().single();if(K){console.error("Error updating event:",K),t({title:"Error",description:"Failed to update event",variant:"destructive"});return}P(a.id),b({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",location:"",capacity:50,status:"upcoming"}),w(null),x(!1),t({title:"Success",description:"Event updated successfully"})}catch(I){console.error("Error:",I)}},Oe=()=>{w(null),b({title:"",description:"",start_date:"",start_time:"",end_date:"",end_time:"",location:"",capacity:50,status:"upcoming"}),x(!1)};return u.useEffect(()=>{e!=null&&e.id?(console.log("User authenticated, fetching clubs. User:",{id:e.id,role:e.role,club_admin:e.club_admin}),H()):console.log("No user authenticated")},[e]),u.useEffect(()=>{a&&(A(a.id),P(a.id))},[a]),h?n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{children:"Loading your clubs..."})]})}):!M&&r.length===0?n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(We,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You do not have permission to access the Club Dashboard."})]})}):r.length===0?n.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-80px)]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(We,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Clubs Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any clubs yet. Create a club to get started!"}),M&&n.jsx(z,{onClick:()=>_(!0),children:"Create Your First Club"})]})}):n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Club Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your clubs, members, and events"})]}),M&&n.jsxs(z,{onClick:()=>_(!0),className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"h-4 w-4"}),"Create New Club"]})]}),n.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[r.map(I=>n.jsx(z,{variant:(a==null?void 0:a.id)===I.id?"default":"outline",onClick:()=>T(I),className:"whitespace-nowrap",children:I.name},I.id)),M&&n.jsxs(z,{variant:"outline",onClick:()=>_(!0),className:"whitespace-nowrap flex items-center gap-2",children:[n.jsx(Qt,{className:"h-4 w-4"}),"New Club"]})]}),a&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(J,{children:[n.jsx(Re,{children:n.jsxs(De,{className:"flex items-center gap-2",children:[n.jsx(We,{className:"h-5 w-5"}),a.name]})}),n.jsxs(ie,{children:[n.jsx("p",{className:"text-muted-foreground mb-2",children:a.description}),n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsx(he,{variant:"secondary",children:a.category}),n.jsx(he,{variant:a.is_public?"default":"outline",children:a.is_public?"Public":"Private"})]})]})]}),n.jsxs($a,{defaultValue:"members",className:"space-y-4",children:[n.jsxs(Fa,{children:[n.jsxs(mt,{value:"members",className:"flex items-center gap-2",children:[n.jsx(We,{className:"h-4 w-4"}),"Members (",o.length,")"]}),n.jsxs(mt,{value:"events",className:"flex items-center gap-2",children:[n.jsx($e,{className:"h-4 w-4"}),"Events (",c.length,")"]}),n.jsxs(mt,{value:"settings",className:"flex items-center gap-2",children:[n.jsx(ga,{className:"h-4 w-4"}),"Settings"]})]}),n.jsxs(rt,{value:"members",className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Club Members"}),n.jsxs(he,{variant:"outline",children:[o.filter(I=>I.status==="approved").length," ","Approved"]})]}),n.jsx("div",{className:"grid gap-4",children:o.length===0?n.jsx(J,{children:n.jsxs(ie,{className:"text-center py-8",children:[n.jsx(E4,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No members have applied yet"})]})}):o.map(I=>n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:I.user.full_name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:I.user.email}),n.jsxs("div",{className:"flex gap-2 mt-2 text-xs",children:[n.jsxs(he,{variant:"outline",children:["ID: ",I.user.student_id]}),n.jsx(he,{variant:"outline",children:I.user.department}),n.jsx(he,{variant:I.status==="approved"?"default":I.status==="rejected"?"destructive":"secondary",children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})]})]}),n.jsxs("div",{className:"flex gap-2",children:[I.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(z,{size:"sm",onClick:()=>O(I.id,"approve"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(cs,{className:"h-4 w-4 mr-1"}),"Approve"]}),n.jsxs(z,{size:"sm",variant:"destructive",onClick:()=>O(I.id,"reject"),children:[n.jsx(ql,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),n.jsxs(z,{size:"sm",variant:"outline",onClick:()=>L(I.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[n.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]})})},I.id))})]}),n.jsxs(rt,{value:"events",className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Club Events"}),n.jsxs(z,{onClick:()=>x(!0),children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Event"]})]}),g&&n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{children:y?"Edit Event":"Create New Event"}),n.jsx(nt,{children:y?"Update event information":"Fill in the details to create a new event"})]}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(re,{placeholder:"Event Title",value:v.title,onChange:I=>b({...v,title:I.target.value})}),n.jsx(re,{placeholder:"Location",value:v.location,onChange:I=>b({...v,location:I.target.value})}),n.jsx(re,{type:"date",value:v.start_date,onChange:I=>b({...v,start_date:I.target.value})}),n.jsx(re,{type:"time",value:v.start_time,onChange:I=>b({...v,start_time:I.target.value})}),n.jsx(re,{type:"date",value:v.end_date,onChange:I=>b({...v,end_date:I.target.value})}),n.jsx(re,{type:"time",value:v.end_time,onChange:I=>b({...v,end_time:I.target.value})}),n.jsx(re,{type:"number",placeholder:"Capacity",value:v.capacity,onChange:I=>b({...v,capacity:parseInt(I.target.value)})}),n.jsxs(ct,{value:v.status,onValueChange:I=>b({...v,status:I}),children:[n.jsx(st,{children:n.jsx(dt,{})}),n.jsxs(at,{children:[n.jsx(ge,{value:"upcoming",children:"Upcoming"}),n.jsx(ge,{value:"ongoing",children:"Ongoing"}),n.jsx(ge,{value:"completed",children:"Completed"}),n.jsx(ge,{value:"cancelled",children:"Cancelled"})]})]})]}),n.jsx(Xe,{placeholder:"Event Description",value:v.description,onChange:I=>b({...v,description:I.target.value}),rows:3}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{onClick:y?pe:B,children:y?"Update Event":"Create Event"}),n.jsx(z,{variant:"outline",onClick:y?Oe:()=>x(!1),children:y?"Cancel Edit":"Cancel"})]})]})]}),n.jsx("div",{className:"grid gap-4",children:c.length===0?n.jsx(J,{children:n.jsxs(ie,{className:"text-center py-8",children:[n.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No events created yet"})]})}):c.map(I=>n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-lg",children:I.title}),n.jsx("p",{className:"text-muted-foreground mb-3",children:I.description}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($e,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:new Date(I.start_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:new Date(I.start_at).toLocaleTimeString()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:I.location})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(We,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[I.capacity," capacity"]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(he,{variant:I.status==="upcoming"?"default":I.status==="ongoing"?"secondary":I.status==="completed"?"outline":"destructive",children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{size:"sm",variant:"outline",onClick:()=>ue(I),children:n.jsx(ga,{className:"h-4 w-4"})}),n.jsx(z,{size:"sm",variant:"destructive",onClick:()=>Q(I.id),children:n.jsx(Fn,{className:"h-4 w-4"})})]})]})})},I.id))})]}),n.jsx(rt,{value:"settings",className:"space-y-4",children:n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{children:"Edit Club"})}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"club-name",children:"Name"}),n.jsx(re,{id:"club-name",placeholder:"Club Name",value:j.name,onChange:I=>N({...j,name:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"club-category",children:"Category"}),n.jsxs(ct,{value:j.category,onValueChange:I=>N({...j,category:I}),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select category"})}),n.jsx(at,{children:["Academic","Cultural","Sports","Technology","Arts","Community Service","Professional Development","Hobby","Other"].map(I=>n.jsx(ge,{value:I,children:I},I))})]})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(ee,{htmlFor:"club-desc",children:"Description"}),n.jsx(Xe,{id:"club-desc",placeholder:"Describe your club...",rows:4,value:j.description,onChange:I=>N({...j,description:I.target.value})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ng,{id:"club-public",checked:j.is_public,onCheckedChange:I=>N({...j,is_public:!!I})}),n.jsx(ee,{htmlFor:"club-public",children:"Public club"})]})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(z,{onClick:R,disabled:m,children:m?"Saving...":"Save Changes"}),n.jsx(z,{variant:"destructive",onClick:D,children:"Delete Club"})]})]})]})})]})]}),M&&C&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-background p-6 rounded-lg shadow-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Create New Club"}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:n.jsx(Ni,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-name",children:"Club Name *"}),n.jsx(re,{id:"new-club-name",placeholder:"Enter club name",value:k.name,onChange:I=>E({...k,name:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-category",children:"Category *"}),n.jsxs(ct,{value:k.category,onValueChange:I=>E({...k,category:I}),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select category"})}),n.jsx(at,{children:["Academic","Cultural","Sports","Technology","Arts","Community Service","Professional Development","Hobby","Other"].map(I=>n.jsx(ge,{value:I,children:I},I))})]})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-desc",children:"Description *"}),n.jsx(Xe,{id:"new-club-desc",placeholder:"Describe your club's purpose and activities...",rows:4,value:k.description,onChange:I=>E({...k,description:I.target.value})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ng,{id:"new-club-public",checked:k.is_public,onCheckedChange:I=>E({...k,is_public:!!I})}),n.jsx(ee,{htmlFor:"new-club-public",children:"Public club"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-address",children:"Club Address"}),n.jsx(re,{id:"new-club-address",placeholder:"e.g., 123 University Ave, City, Country",value:k.address,onChange:I=>E({...k,address:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-location",children:"Meeting Location"}),n.jsx(re,{id:"new-club-location",placeholder:"e.g., Room 201, Main Building",value:k.location,onChange:I=>E({...k,location:I.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-meeting-day",children:"Meeting Day"}),n.jsxs(ct,{value:k.meeting_day,onValueChange:I=>E({...k,meeting_day:I}),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Select meeting day"})}),n.jsx(at,{children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(I=>n.jsx(ge,{value:I,children:I},I))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-meeting-time",children:"Meeting Time"}),n.jsx(re,{id:"new-club-meeting-time",placeholder:"e.g., 3:00 PM - 5:00 PM",value:k.meeting_time,onChange:I=>E({...k,meeting_time:I.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-contact-email",children:"Contact Email"}),n.jsx(re,{id:"new-club-contact-email",type:"email",placeholder:"club@university.edu",value:k.contact_email,onChange:I=>E({...k,contact_email:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-club-mail",children:"Club Mail"}),n.jsx(re,{id:"new-club-club-mail",type:"email",placeholder:"club.official@university.edu",value:k.club_mail,onChange:I=>E({...k,club_mail:I.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-contact-phone",children:"Contact Phone"}),n.jsx(re,{id:"new-club-contact-phone",placeholder:"+880 1234-567890",value:k.contact_phone,onChange:I=>E({...k,contact_phone:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-max-members",children:"Maximum Members"}),n.jsx(re,{id:"new-club-max-members",type:"number",placeholder:"e.g., 50",value:k.max_members,onChange:I=>E({...k,max_members:I.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-requirements",children:"Requirements"}),n.jsx(Xe,{id:"new-club-requirements",placeholder:"Any prerequisites or requirements for joining",rows:3,value:k.requirements,onChange:I=>E({...k,requirements:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-details",children:"Club Details (Extended Description)"}),n.jsx(Xe,{id:"new-club-details",placeholder:"Provide detailed information about the club's activities, goals, and structure...",rows:4,value:k.club_details,onChange:I=>E({...k,club_details:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-mission",children:"Mission Statement"}),n.jsx(Xe,{id:"new-club-mission",placeholder:"What is the club's mission and purpose?",rows:3,value:k.mission_statement,onChange:I=>E({...k,mission_statement:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-vision",children:"Vision Statement"}),n.jsx(Xe,{id:"new-club-vision",placeholder:"What is the club's vision for the future?",rows:3,value:k.vision_statement,onChange:I=>E({...k,vision_statement:I.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-website",children:"Club Website"}),n.jsx(re,{id:"new-club-website",type:"url",placeholder:"https://club-website.com",value:k.website,onChange:I=>E({...k,website:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-founded",children:"Founded Date"}),n.jsx(re,{id:"new-club-founded",type:"date",placeholder:"YYYY-MM-DD",value:k.founded_date,onChange:I=>E({...k,founded_date:I.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-departments",children:"Club Departments/Teams"}),n.jsx(Xe,{id:"new-club-departments",placeholder:"List the main departments or teams within the club (e.g., Events Team, Marketing Team, Technical Team)",rows:3,value:k.departments,onChange:I=>E({...k,departments:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-panel",children:"Executive Panel Members"}),n.jsx(Xe,{id:"new-club-panel",placeholder:"List key panel members (e.g., President: John Doe, Vice President: Jane Smith, Secretary: Bob Johnson)",rows:3,value:k.panel_members,onChange:I=>E({...k,panel_members:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-achievements",children:"Club Achievements"}),n.jsx(Xe,{id:"new-club-achievements",placeholder:"List notable achievements, awards, or recognitions the club has received",rows:3,value:k.achievements,onChange:I=>E({...k,achievements:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-events",children:"Previous Events"}),n.jsx(Xe,{id:"new-club-events",placeholder:"List major events or activities the club has organized in the past",rows:3,value:k.previous_events,onChange:I=>E({...k,previous_events:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"new-club-social",children:"Social Media Links"}),n.jsx(Xe,{id:"new-club-social",placeholder:"Facebook: https://facebook.com/club, Instagram: https://instagram.com/club, Twitter: https://twitter.com/club",rows:3,value:k.social_media,onChange:I=>E({...k,social_media:I.target.value})})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(z,{onClick:F,className:"flex-1",children:"Create Club"}),n.jsx(z,{variant:"outline",onClick:()=>_(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},G8=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState(!1),[i,o]=u.useState(null),[l,c]=u.useState(!0),[d,h]=u.useState(0),f=20,m=async(v=!1)=>{if(e!=null&&e.id){a(!0),o(null);try{const b=v?0:d,j=b*f,{data:N,error:C}=await U.rpc("get_social_feed",{_user_id:e.id,_limit:f,_offset:j});if(C)throw C;v?(r(N||[]),h(0)):(r(_=>[..._,...N||[]]),h(b+1)),c((N||[]).length===f)}catch(b){console.error("Error fetching social feed:",b),o("Failed to fetch social feed")}finally{a(!1)}}},p=async v=>{if(!(e!=null&&e.id))return o("User not authenticated"),null;a(!0),o(null);try{const{data:b,error:j}=await U.from("social_posts").insert({user_id:e.id,content:v.content,post_type:v.post_type||"text",media_urls:v.media_urls||null,external_link:v.external_link||null,is_announcement:v.is_announcement||!1,visibility:v.visibility||"public",group_id:v.group_id||null,club_id:v.club_id||null}).select().single();if(j)throw j;return await m(!0),b.id}catch(b){return console.error("Error creating post:",b),o("Failed to create post"),null}finally{a(!1)}},g=async v=>{if(!(e!=null&&e.id))return!1;try{const b=t.find(j=>j.id===v);if(!b)return!1;if(b.is_liked){const{error:j}=await U.from("post_likes").delete().eq("post_id",v).eq("user_id",e.id);if(j)throw j;r(N=>N.map(C=>C.id===v?{...C,is_liked:!1,likes_count:C.likes_count-1}:C))}else{const{error:j}=await U.from("post_likes").insert({post_id:v,user_id:e.id});if(j)throw j;r(N=>N.map(C=>C.id===v?{...C,is_liked:!0,likes_count:C.likes_count+1}:C))}return!0}catch(b){return console.error("Error toggling post like:",b),!1}},x=async v=>{if(!(e!=null&&e.id))return!1;try{const{error:b}=await U.from("social_posts").delete().eq("id",v).eq("user_id",e.id);if(b)throw b;return r(j=>j.filter(N=>N.id!==v)),!0}catch(b){return console.error("Error deleting post:",b),!1}},y=()=>{!s&&l&&m()},w=()=>{m(!0)};return u.useEffect(()=>{e!=null&&e.id&&m(!0)},[e==null?void 0:e.id]),{posts:t,loading:s,error:i,hasMore:l,createPost:p,togglePostLike:g,deletePost:x,loadMore:y,refreshFeed:w}},K8=e=>{const{user:t}=Ye(),[r,s]=u.useState([]),[a,i]=u.useState(!1),[o,l]=u.useState(null),c=async()=>{if(e){i(!0),l(null);try{const{data:f,error:m}=await U.from("post_comments").select(`
          *,
          user:users!post_comments_user_id_fkey(
            full_name,
            avatar_url
          )
        `).eq("post_id",e).order("created_at",{ascending:!0});if(m)throw m;const p=(f||[]).map(g=>{var x,y;return{...g,author_name:((x=g.user)==null?void 0:x.full_name)||"Unknown User",author_avatar:(y=g.user)==null?void 0:y.avatar_url,is_liked:!1,is_author:g.user_id===(t==null?void 0:t.id)}});s(p)}catch(f){console.error("Error fetching comments:",f),l("Failed to fetch comments")}finally{i(!1)}}},d=async(f,m)=>{if(!(t!=null&&t.id)||!e)return!1;try{const{error:p}=await U.from("post_comments").insert({post_id:e,user_id:t.id,parent_comment_id:m||null,content:f});if(p)throw p;return await c(),!0}catch(p){return console.error("Error adding comment:",p),!1}},h=async f=>{if(!(t!=null&&t.id))return!1;try{const{error:m}=await U.from("post_comments").delete().eq("id",f).eq("user_id",t.id);if(m)throw m;return s(p=>p.filter(g=>g.id!==f)),!0}catch(m){return console.error("Error deleting comment:",m),!1}};return u.useEffect(()=>{e&&c()},[e]),{comments:r,loading:a,error:o,addComment:d,deleteComment:h,refreshComments:c}},Y8=()=>{const{user:e}=Ye(),[t,r]=u.useState([]),[s,a]=u.useState([]),[i,o]=u.useState(!1),[l,c]=u.useState(null),d=async()=>{o(!0),c(null);try{const{data:y,error:w}=await U.from("community_groups").select(`
          *,
          creator:users!community_groups_created_by_fkey(
            full_name,
            avatar_url
          ),
          members:group_memberships(count)
        `).eq("status","active").order("created_at",{ascending:!1});if(w)throw w;const v=(y||[]).map(b=>{var j,N,C,_;return{...b,member_count:((N=(j=b.members)==null?void 0:j[0])==null?void 0:N.count)||0,is_member:!1,creator_name:((C=b.creator)==null?void 0:C.full_name)||"Unknown User",creator_avatar:(_=b.creator)==null?void 0:_.avatar_url}});r(v)}catch(y){console.error("Error fetching groups:",y),c("Failed to fetch groups")}finally{o(!1)}},h=async()=>{if(e!=null&&e.id)try{const{data:y,error:w}=await U.from("group_memberships").select(`
          *,
          group:community_groups(
            *,
            creator:users!community_groups_created_by_fkey(
              full_name,
              avatar_url
            ),
            members:group_memberships(count)
          )
        `).eq("user_id",e.id).eq("status","active").eq("group.status","active");if(w)throw w;const v=(y||[]).map(b=>{var j,N,C,_;return{...b.group,member_count:((N=(j=b.group.members)==null?void 0:j[0])==null?void 0:N.count)||0,is_member:!0,user_role:b.role,creator_name:((C=b.group.creator)==null?void 0:C.full_name)||"Unknown User",creator_avatar:(_=b.group.creator)==null?void 0:_.avatar_url}});a(v),r(b=>b.map(j=>{var N;return{...j,is_member:v.some(C=>C.id===j.id),user_role:(N=v.find(C=>C.id===j.id))==null?void 0:N.user_role}}))}catch(y){console.error("Error fetching user groups:",y)}},f=async y=>{if(!(e!=null&&e.id))return c("User not authenticated"),null;o(!0),c(null);try{const{data:w,error:v}=await U.from("community_groups").insert({...y,created_by:e.id}).select().single();if(v)throw v;return await U.from("group_memberships").insert({group_id:w.id,user_id:e.id,role:"admin"}),await d(),await h(),w.id}catch(w){return console.error("Error creating group:",w),c("Failed to create group"),null}finally{o(!1)}},m=async y=>{if(!(e!=null&&e.id))return!1;try{const{error:w}=await U.from("group_memberships").insert({group_id:y,user_id:e.id,role:"member"});if(w)throw w;return await d(),await h(),!0}catch(w){return console.error("Error joining group:",w),!1}},p=async y=>{if(!(e!=null&&e.id))return!1;try{const{error:w}=await U.from("group_memberships").delete().eq("group_id",y).eq("user_id",e.id);if(w)throw w;return await d(),await h(),!0}catch(w){return console.error("Error leaving group:",w),!1}},g=async(y,w)=>{if(!(e!=null&&e.id))return!1;try{const{error:v}=await U.from("community_groups").update({...w,updated_at:new Date().toISOString()}).eq("id",y).eq("created_by",e.id);if(v)throw v;return await d(),await h(),!0}catch(v){return console.error("Error updating group:",v),!1}},x=async y=>{if(!(e!=null&&e.id))return!1;try{const{error:w}=await U.from("community_groups").delete().eq("id",y).eq("created_by",e.id);if(w)throw w;return await d(),await h(),!0}catch(w){return console.error("Error deleting group:",w),!1}};return u.useEffect(()=>{d()},[]),u.useEffect(()=>{e!=null&&e.id&&h()},[e==null?void 0:e.id]),{groups:t,userGroups:s,loading:i,error:l,createGroup:f,joinGroup:m,leaveGroup:p,updateGroup:g,deleteGroup:x,refreshGroups:d,refreshUserGroups:h}},Q8=()=>{var F;const{user:e}=Ye(),{toast:t}=lr(),{posts:r,loading:s,error:a,hasMore:i,createPost:o,togglePostLike:l,deletePost:c,loadMore:d,refreshFeed:h}=G8(),{groups:f,userGroups:m,loading:p,createGroup:g,joinGroup:x,leaveGroup:y}=Y8(),[w,v]=u.useState("feed"),[b,j]=u.useState(""),[N,C]=u.useState(!1),[_,k]=u.useState({name:"",description:"",category:"",is_public:!0,max_members:100}),E=["Technology","Academic","Sports","Creative","Health","Business","Cultural","Environmental","Social","Other"],M=async()=>{if(!b.trim())return;await o({content:b,post_type:"text"})&&(j(""),t({title:"Post Created",description:"Your post has been shared successfully!"}))},H=async()=>{if(!_.name.trim()||!_.description.trim()||!_.category){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}await g(_)&&(C(!1),k({name:"",description:"",category:"",is_public:!0,max_members:100}),t({title:"Group Created",description:"Your community group has been created successfully!"}))},A=async D=>{await x(D)&&t({title:"Joined Group",description:"You have successfully joined the group!"})},P=async D=>{await y(D)&&t({title:"Left Group",description:"You have left the group successfully."})},T=async D=>{await l(D)},R=async D=>{await c(D)&&t({title:"Post Deleted",description:"Your post has been deleted successfully."})};return s&&r.length===0?n.jsx(ut,{children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(An,{})})}):n.jsx(ut,{children:n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"bg-card border-b",children:n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Social Feed"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Connect with your university community, join interest groups, and stay updated"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(z,{onClick:()=>C(!0),variant:"outline",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Create Group"]}),n.jsxs(z,{onClick:h,children:[n.jsx(B_,{className:"h-4 w-4 mr-2"}),"Refresh Feed"]})]})]})})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs($a,{value:w,onValueChange:v,className:"w-full",children:[n.jsxs(Fa,{className:"grid w-full grid-cols-4 h-auto p-1 bg-gradient-to-r from-muted/50 to-muted/30 backdrop-blur-sm border border-border/50 rounded-xl shadow-sm",children:[n.jsxs(mt,{value:"feed",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(Vn,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Social Feed"})]}),n.jsxs(mt,{value:"groups",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Community Groups"})]}),n.jsxs(mt,{value:"my-groups",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(We,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"My Groups"})]}),n.jsxs(mt,{value:"news",className:"flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-300 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-border/20 hover:bg-background/50 rounded-lg",children:[n.jsx(Cn,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"News & Updates"})]})]}),n.jsx(rt,{value:"feed",className:"mt-8 animate-fade-in",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx(J,{className:"mb-6",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs(rn,{className:"h-10 w-10",children:[n.jsx(qn,{src:e==null?void 0:e.avatar_url}),n.jsx(nn,{children:(F=e==null?void 0:e.full_name)==null?void 0:F.charAt(0)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{className:"w-full p-3 border border-border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"What's on your mind? Share with your university community...",rows:3,value:b,onChange:D=>j(D.target.value)}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(z,{size:"sm",variant:"outline",children:[n.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Photo"]}),n.jsxs(z,{size:"sm",variant:"outline",children:[n.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Video"]}),n.jsxs(z,{size:"sm",variant:"outline",children:[n.jsx(f4,{className:"h-4 w-4 mr-2"}),"Link"]})]}),n.jsx(z,{onClick:M,disabled:!b.trim(),children:"Post"})]})]})]})})}),n.jsxs("div",{className:"space-y-6",children:[r.map(D=>n.jsx(Z8,{post:D,onLike:T,onDelete:R},D.id)),i&&n.jsx("div",{className:"text-center",children:n.jsx(z,{onClick:d,variant:"outline",disabled:s,children:s?"Loading...":"Load More Posts"})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{className:"text-lg",children:"Quick Stats"})}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Posts"}),n.jsx(he,{variant:"secondary",children:r.length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Groups Joined"}),n.jsx(he,{variant:"secondary",children:m.length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Available Groups"}),n.jsx(he,{variant:"secondary",children:f.length})]})]})]}),n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{className:"text-lg",children:"Trending Topics"})}),n.jsx(ie,{children:n.jsx("div",{className:"space-y-2",children:["#UniversityLife","#StudentSuccess","#CampusEvents","#StudyTips"].map(D=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 cursor-pointer",children:[n.jsx("span",{className:"text-sm font-medium",children:D}),n.jsx(he,{variant:"outline",className:"text-xs",children:"Trending"})]},D))})})]})]})]})}),n.jsx(rt,{value:"groups",className:"mt-8 animate-fade-in",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(D=>n.jsx(V0,{group:D,onJoin:A,onLeave:P},D.id))})}),n.jsx(rt,{value:"my-groups",className:"mt-8 animate-fade-in",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(D=>n.jsx(V0,{group:D,onJoin:A,onLeave:P,isUserGroup:!0},D.id))})}),n.jsx(rt,{value:"news",className:"mt-8 animate-fade-in",children:n.jsxs(J,{children:[n.jsxs(Re,{children:[n.jsx(De,{className:"text-xl",children:"University News & Announcements"}),n.jsx(nt,{children:"Stay updated with the latest university news and important announcements"})]}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"p-4 border border-border/50 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(x4,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:"Welcome to the New Academic Year!"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"We're excited to welcome all students back to campus for the 2024-2025 academic year. Check your email for important orientation information and class schedules."}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[n.jsx("span",{children:"Published: 2 hours ago"}),n.jsx(he,{variant:"secondary",children:"Important"})]})]})]})}),n.jsx("div",{className:"p-4 border border-border/50 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:n.jsx($e,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:"Upcoming Career Fair"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Don't miss our annual Career Fair on October 15th. Over 50 companies will be present to discuss internship and job opportunities."}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[n.jsx("span",{children:"Published: 1 day ago"}),n.jsx(he,{variant:"outline",children:"Event"})]})]})]})})]})})]})})]})}),N&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-background p-6 rounded-lg w-full max-w-md mx-4",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Community Group"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Group Name *"}),n.jsx(re,{value:_.name,onChange:D=>k(O=>({...O,name:D.target.value})),placeholder:"Enter group name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description *"}),n.jsx("textarea",{className:"w-full p-3 border border-border rounded-lg resize-none",rows:3,value:_.description,onChange:D=>k(O=>({...O,description:D.target.value})),placeholder:"Describe your group"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category *"}),n.jsxs("select",{className:"w-full p-3 border border-border rounded-lg",value:_.category,onChange:D=>k(O=>({...O,category:D.target.value})),children:[n.jsx("option",{value:"",children:"Select category"}),E.map(D=>n.jsx("option",{value:D,children:D},D))]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:_.is_public,onChange:D=>k(O=>({...O,is_public:D.target.checked}))}),n.jsx("span",{className:"text-sm",children:"Public Group"})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(z,{onClick:()=>C(!1),variant:"outline",className:"flex-1",children:"Cancel"}),n.jsx(z,{onClick:H,className:"flex-1",children:"Create Group"})]})]})]})})]})})},Z8=({post:e,onLike:t,onDelete:r})=>{const[s,a]=u.useState(!1),[i,o]=u.useState("");Ye();const{comments:l,addComment:c}=K8(e.id),d=async()=>{if(!i.trim())return;await c(i)&&o("")};return n.jsx(J,{className:"hover:shadow-lg transition-shadow duration-300",children:n.jsxs(ie,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(rn,{className:"h-10 w-10",children:[n.jsx(qn,{src:e.author_avatar}),n.jsx(nn,{children:e.author_name.charAt(0)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground",children:e.author_name}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),e.group_name&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsx(he,{variant:"outline",className:"text-xs",children:e.group_name})]}),e.club_name&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsx(he,{variant:"outline",className:"text-xs",children:e.club_name})]})]})]})]}),e.is_author&&n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"text-muted-foreground hover:text-destructive",children:n.jsx(z_,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"mb-4",children:n.jsx("p",{className:"text-foreground leading-relaxed",children:e.content})}),n.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:`flex items-center gap-2 ${e.is_liked?"text-red-500":"text-muted-foreground"}`,children:[n.jsx(d4,{className:`h-4 w-4 ${e.is_liked?"fill-current":""}`}),n.jsx("span",{children:e.likes_count})]}),n.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>a(!s),className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(Vn,{className:"h-4 w-4"}),n.jsx("span",{children:e.comments_count})]}),n.jsxs(z,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(_4,{className:"h-4 w-4"}),n.jsx("span",{children:e.shares_count})]})]})}),s&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[n.jsx("div",{className:"space-y-3 mb-4",children:l.map(h=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs(rn,{className:"h-8 w-8",children:[n.jsx(qn,{src:h.author_avatar}),n.jsx(nn,{children:h.author_name.charAt(0)})]}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium text-sm",children:h.author_name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(h.created_at).toLocaleDateString()})]}),n.jsx("p",{className:"text-sm text-foreground",children:h.content})]})})]},h.id))}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(re,{placeholder:"Write a comment...",value:i,onChange:h=>o(h.target.value),className:"flex-1"}),n.jsx(z,{onClick:d,size:"sm",children:"Comment"})]})]})]})})},V0=({group:e,onJoin:t,onLeave:r,isUserGroup:s=!1})=>n.jsxs(J,{className:"hover:shadow-lg transition-shadow duration-300",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{className:"text-lg mb-2",children:e.name}),n.jsx(nt,{className:"line-clamp-2",children:e.description})]}),n.jsx(he,{variant:e.is_public?"default":"secondary",children:e.is_public?"Public":"Private"})]})}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category"}),n.jsx(he,{variant:"outline",children:e.category})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Members"}),n.jsx("span",{className:"font-medium",children:e.member_count})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Created by"}),n.jsx("span",{className:"font-medium",children:e.creator_name})]}),n.jsx("div",{className:"pt-4 border-t border-border/50",children:s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{variant:"secondary",children:e.user_role}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"ml-auto",children:"Leave Group"})]}):n.jsx(z,{variant:e.is_member?"outline":"default",size:"sm",onClick:()=>e.is_member?r(e.id):t(e.id),className:"w-full",disabled:e.is_member,children:e.is_member?"Already Joined":"Join Group"})})]})})]}),J8=()=>{const{user:e}=Ye(),{toast:t}=lr(),[r,s]=u.useState(!0),[a,i]=u.useState([]),[o,l]=u.useState("job"),[c,d]=u.useState(!1),[h,f]=u.useState(!1),[m,p]=u.useState(null),[g,x]=u.useState({title:"",description:"",type:"job",company:"",location:"",apply_url:""}),y=u.useMemo(()=>a.filter(C=>C.type===o),[a,o]),w=async()=>{try{s(!0);const{data:C,error:_}=await U.from("careers_posts").select("*").order("created_at",{ascending:!1});if(_)throw _;i(C||[])}catch(C){console.error("Error fetching careers posts:",C),t({title:"Error",description:"Failed to load careers posts",variant:"destructive"})}finally{s(!1)}};u.useEffect(()=>{w()},[]);const v=()=>{p(null),x({title:"",description:"",type:"job",company:"",location:"",apply_url:""}),d(!1)},b=async()=>{if(e!=null&&e.id){if(!g.title.trim()||!g.description.trim()){t({title:"Validation",description:"Title and description are required",variant:"destructive"});return}try{if(f(!0),m){const{error:C}=await U.from("careers_posts").update({title:g.title.trim(),description:g.description.trim(),type:g.type,company:g.company||null,location:g.location||null,apply_url:g.apply_url||null}).eq("id",m.id);if(C)throw C;t({title:"Updated",description:"Post updated successfully"})}else{const{error:C}=await U.from("careers_posts").insert({title:g.title.trim(),description:g.description.trim(),type:g.type,company:g.company||null,location:g.location||null,apply_url:g.apply_url||null,posted_by:e.id});if(C)throw C;t({title:"Created",description:"Post created successfully"})}v(),w()}catch(C){console.error("Error saving careers post:",C),t({title:"Error",description:"Failed to save post",variant:"destructive"})}finally{f(!1)}}},j=C=>{p(C),x({title:C.title,description:C.description,type:C.type,company:C.company||"",location:C.location||"",apply_url:C.apply_url||""}),d(!0)},N=async C=>{if(confirm("Delete this post?"))try{const{error:_}=await U.from("careers_posts").delete().eq("id",C);if(_)throw _;t({title:"Deleted",description:"Post deleted"}),w()}catch(_){console.error("Error deleting careers post:",_),t({title:"Error",description:"Failed to delete post",variant:"destructive"})}};return n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Careers"}),n.jsx(z,{onClick:()=>d(!0),children:"New"})]}),c&&n.jsxs(J,{className:"mb-6",children:[n.jsx(Re,{children:n.jsx(De,{children:m?"Edit Post":"Create Post"})}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(re,{placeholder:"Title",value:g.title,onChange:C=>x({...g,title:C.target.value})}),n.jsxs(ct,{value:g.type,onValueChange:C=>x({...g,type:C}),children:[n.jsx(st,{children:n.jsx(dt,{placeholder:"Type"})}),n.jsxs(at,{children:[n.jsx(ge,{value:"job",children:"Job"}),n.jsx(ge,{value:"internship",children:"Internship"}),n.jsx(ge,{value:"guideline",children:"Guideline"}),n.jsx(ge,{value:"discussion",children:"Discussion"})]})]}),n.jsx(re,{placeholder:"Company (optional)",value:g.company,onChange:C=>x({...g,company:C.target.value})}),n.jsx(re,{placeholder:"Location (optional)",value:g.location,onChange:C=>x({...g,location:C.target.value})}),n.jsx(re,{placeholder:"Apply URL (optional)",value:g.apply_url,onChange:C=>x({...g,apply_url:C.target.value})})]}),n.jsx(Xe,{placeholder:"Description",rows:4,value:g.description,onChange:C=>x({...g,description:C.target.value})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{onClick:b,disabled:h,children:m?"Update":"Create"}),n.jsx(z,{variant:"outline",onClick:v,disabled:h,children:"Cancel"})]})]})]}),n.jsxs($a,{value:o,onValueChange:C=>l(C),children:[n.jsxs(Fa,{children:[n.jsx(mt,{value:"job",children:"Jobs"}),n.jsx(mt,{value:"internship",children:"Internships"}),n.jsx(mt,{value:"guideline",children:"Guidelines"}),n.jsx(mt,{value:"discussion",children:"Discussions"})]}),n.jsx(rt,{value:"job"}),n.jsx(rt,{value:"internship"}),n.jsx(rt,{value:"guideline"}),n.jsx(rt,{value:"discussion"})]}),n.jsx("div",{className:"mt-4 grid gap-4",children:r?n.jsx(J,{children:n.jsx(ie,{className:"py-10 text-center",children:"Loading..."})}):y.length===0?n.jsx(J,{children:n.jsx(ie,{className:"py-10 text-center",children:"No posts found"})}):y.map(C=>n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(he,{variant:"secondary",className:"capitalize",children:C.type}),C.company?n.jsx(he,{children:C.company}):null,C.location?n.jsx(he,{variant:"outline",children:C.location}):null]}),n.jsx("h3",{className:"text-lg font-semibold",children:C.title}),n.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:C.description}),C.apply_url?n.jsx("a",{href:C.apply_url,target:"_blank",rel:"noreferrer",className:"text-primary underline",children:"Apply/Details"}):null]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>j(C),children:"Edit"}),n.jsx(z,{variant:"destructive",size:"sm",onClick:()=>N(C.id),children:"Delete"})]})]})})},C.id))})]})},X8=()=>{var k,E,M,H;Ye();const{toast:e}=lr(),[t,r]=u.useState([]),[s,a]=u.useState(""),[i,o]=u.useState(!1),[l,c]=u.useState(!0),[d,h]=u.useState([]),[f,m]=u.useState([]),[p,g]=u.useState([]),x=u.useRef(null);u.useEffect(()=>{var A;(A=x.current)==null||A.scrollTo({top:x.current.scrollHeight})},[t,i]);const y=async()=>{try{c(!0);const A=U.from("clubs").select("id,name,description,category").limit(50),P=U.from("events").select("id,title,description,status,start_at,end_at,location,capacity,club_id").in("status",["upcoming","ongoing"]).order("start_at",{ascending:!0}).limit(50),T=U.from("careers_posts").select("id,title,description,type,company,location,apply_url,created_at").order("created_at",{ascending:!1}).limit(50),[{data:R},{data:F},{data:D}]=await Promise.all([A,P,T]);h(R||[]),m(F||[]),g(D||[])}catch(A){console.error("Error loading assistant context:",A),e({title:"Assistant",description:"Failed to load context",variant:"destructive"})}finally{c(!1)}};u.useEffect(()=>{y()},[]),u.useEffect(()=>{const A=U.channel("assistant-context").on("postgres_changes",{event:"*",schema:"public",table:"clubs"},()=>y()).on("postgres_changes",{event:"*",schema:"public",table:"events"},()=>y()).on("postgres_changes",{event:"*",schema:"public",table:"careers_posts"},()=>y()).subscribe();return()=>{U.removeChannel(A)}},[]);const w=()=>{const A=d.map(R=>`Club: ${R.name} — ${R.description??""} [${R.category}]`).slice(0,10).join(`
`),P=f.map(R=>`Event: ${R.title} — ${R.status} on ${new Date(R.start_at).toLocaleString()} at ${R.location??"TBA"}`).slice(0,10).join(`
`),T=p.map(R=>`Career: [${R.type}] ${R.title}${R.company?` @ ${R.company}`:""}${R.location?` (${R.location})`:""}`).slice(0,10).join(`
`);return[A,P,T].filter(Boolean).join(`
`)},v=(E=(k=import.meta)==null?void 0:k.env)==null?void 0:E.VITE_HF_SPACE_URL,b=(H=(M=import.meta)==null?void 0:M.env)==null?void 0:H.VITE_HF_API_TOKEN;async function j(A){if(!v)throw new Error("HF Space URL not configured");const T=`You are a helpful university assistant. Use the provided context about clubs, events, and careers to answer. If unsure, say so and suggest next steps.

Context:
${w()}

User question: ${A}`,R=[`${v.replace(/\/$/,"")}/run/predict`,`${v.replace(/\/$/,"")}/api/predict`];let F=null;for(const D of R)try{const O=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json",...b?{Authorization:`Bearer ${b}`}:{}},body:JSON.stringify({data:[T]})});if(!O.ok)throw new Error(await O.text());const L=await O.json(),Y=Array.isArray(L==null?void 0:L.data)?L.data[0]:void 0;return typeof Y=="string"?Y:Y&&typeof Y.text=="string"?Y.text:typeof(L==null?void 0:L.prediction)=="string"?L.prediction:JSON.stringify(L)}catch(O){F=O}throw F instanceof Error?F:new Error("HF Space call failed")}const N=A=>{const P=A.toLowerCase();if(P.includes("job")||P.includes("career")||P.includes("intern")){const T=p.slice(0,3).map(R=>`- ${R.title}${R.company?` @ ${R.company}`:""}${R.apply_url?` — ${R.apply_url}`:""}`).join(`
`);return T?`Here are some recent opportunities:
${T}
You can browse more in Careers.`:"I don't see any current job or internship posts. You can create one in Careers."}if(P.includes("event")||P.includes("happening")){const T=f.slice(0,3).map(R=>`- ${R.title} (${R.status}) on ${new Date(R.start_at).toLocaleString()} at ${R.location??"TBA"}`).join(`
`);return T?`Upcoming events:
${T}`:"I don't see any upcoming events right now."}if(P.includes("club")||P.includes("join")){const T=d.slice(0,5).map(R=>`- ${R.name} [${R.category}]`).join(`
`);return T?`Some clubs you might like:
${T}
Visit Clubs to explore more and join.`:"I don't see any clubs yet."}return"I can help with clubs, events, and careers. Ask me about upcoming events, how to join clubs, or recent job posts."},C=async()=>{const A=s.trim();if(!A)return;const P={id:crypto.randomUUID(),role:"user",content:A,createdAt:new Date().toISOString()};r(T=>[...T,P]),a(""),o(!0);try{if(await _(A)){o(!1);return}if(v){const R=await j(A),F={id:crypto.randomUUID(),role:"assistant",content:R,createdAt:new Date().toISOString()};r(D=>[...D,F])}else{const R=N(A),F={id:crypto.randomUUID(),role:"assistant",content:R,createdAt:new Date().toISOString()};r(D=>[...D,F])}}catch(T){console.error(T),e({title:"Assistant",description:"Failed to get a response",variant:"destructive"})}finally{o(!1)}},_=async A=>{const P=A.toLowerCase(),T=F=>{const D={id:crypto.randomUUID(),role:"assistant",content:F,createdAt:new Date().toISOString()};return r(O=>[...O,D]),!0},R=F=>{const D=P.indexOf(F);return D===-1?"":A.slice(D+F.length).trim().replace(/^about\s+|^named\s+|^called\s+/i,"").trim()};if(P.includes("club")){const F=R("club");if(F){const{data:D,error:O}=await U.from("clubs").select("id,name,description,category,created_by").ilike("name",`%${F}%`).limit(1).maybeSingle();if(!O&&D){const L=`/join-club/${D.id}`,Y=`Club: ${D.name}
Category: ${D.category}
${D.description??"No description"}
Join: ${L}`;return T(Y)}}else if(d.length){const D=d.slice(0,5).map(O=>`- ${O.name} [${O.category}]`).join(`
`);return T(`Which club? Here are some:
${D}`)}}if(P.includes("event")){const F=R("event");if(F){const{data:D,error:O}=await U.from("events").select("id,title,description,status,start_at,end_at,location,capacity,club_id").ilike("title",`%${F}%`).limit(1).maybeSingle();if(!O&&D){const L=`${new Date(D.start_at).toLocaleString()} - ${new Date(D.end_at).toLocaleString()}`,Y=`/event-registration/${D.id}`,B=`Event: ${D.title} (${D.status})
When: ${L}
Where: ${D.location??"TBA"}
Capacity: ${D.capacity??"N/A"}
${D.description??""}
Register: ${Y}`;return T(B)}}else if(f.length){const D=f.slice(0,5).map(O=>`- ${O.title} (${O.status}) on ${new Date(O.start_at).toLocaleDateString()}`).join(`
`);return T(`Which event? Here are some upcoming/ongoing:
${D}`)}}if(P.includes("job")||P.includes("internship")||P.includes("career")){const F=R("job")||R("internship")||R("career");if(F){const{data:D,error:O}=await U.from("careers_posts").select("id,title,description,type,company,location,apply_url,created_at").or(`title.ilike.%${F}%,description.ilike.%${F}%`).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!O&&D){const L=`Opportunity: [${D.type}] ${D.title}${D.company?` @ ${D.company}`:""}${D.location?` (${D.location})`:""}
${D.description??""}${D.apply_url?`
Apply: ${D.apply_url}`:""}`;return T(L)}}else if(p.length){const D=p.slice(0,5).map(O=>`- [${O.type}] ${O.title}${O.company?` @ ${O.company}`:""}`).join(`
`);return T(`Which opportunity? Here are some recent:
${D}
See more in /careers`)}}if(P.includes("forum")||P.includes("thread")||P.includes("post")){const F=R("thread")||R("forum")||R("post");if(F){const{data:D,error:O}=await U.from("forum_threads").select("id,title,content,created_at,created_by").ilike("title",`%${F}%`).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!O&&D){const L=new Date(D.created_at).toLocaleString(),Y=`Thread: ${D.title}
Created: ${L}
Preview: ${(D.content??"").slice(0,200)}...
Open: /forum`;return T(Y)}}else if(p.length||d.length||f.length)return T("Tell me the thread title you want to see, and I’ll fetch it.")}return!1};return n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("div",{className:"mb-4 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ep,{className:"h-6 w-6"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"AI Assistant"}),l?n.jsx(he,{variant:"secondary",children:"Loading context…"}):n.jsx(he,{variant:"outline",children:"Context ready"})]})}),n.jsxs(J,{children:[n.jsx(Re,{children:n.jsx(De,{children:"Ask about clubs, events, and careers"})}),n.jsxs(ie,{children:[n.jsxs("div",{ref:x,className:"h-[50vh] overflow-y-auto space-y-4 pr-2",children:[t.length===0?n.jsx("div",{className:"text-sm text-muted-foreground",children:"Say hello and ask about upcoming events, joining clubs, or job opportunities."}):t.map(A=>n.jsxs("div",{className:`flex items-start gap-2 ${A.role==="assistant"?"":"justify-end"}`,children:[A.role==="assistant"?n.jsx(Ep,{className:"h-5 w-5 mt-1 text-muted-foreground"}):n.jsx(gs,{className:"h-5 w-5 mt-1 text-muted-foreground"}),n.jsx("div",{className:`rounded-md px-3 py-2 text-sm whitespace-pre-wrap ${A.role==="assistant"?"bg-accent/50":"bg-primary text-primary-foreground"}`,children:A.content})]},A.id)),i&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(p4,{className:"h-4 w-4 animate-spin"})," Thinking…"]})]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx(re,{placeholder:"Ask me about a club, event, or job…",value:s,onChange:A=>a(A.target.value),onKeyDown:A=>{A.key==="Enter"&&C()}}),n.jsx(z,{onClick:C,disabled:i,children:n.jsx(V_,{className:"h-4 w-4"})})]})]})]})]})},fk=()=>{const[e,t]=u.useState([]),[r,s]=u.useState(!0),[a,i]=u.useState(null),{user:o}=Ye(),l=async()=>{try{s(!0),i(null);const{data:p,error:g}=await U.from("lost_found_items").select("*").order("created_at",{ascending:!1});if(g)throw g;t(p||[])}catch(p){console.error("Error fetching lost and found items:",p),i(p instanceof Error?p.message:"Failed to fetch items")}finally{s(!1)}},c=async p=>{try{if(i(null),!(o!=null&&o.id))throw new Error("User not authenticated");const{data:g,error:x}=await U.from("lost_found_items").insert({...p,user_id:o.id,user_name:o.full_name,user_email:o.email}).select().single();if(x)throw x;return await l(),g}catch(g){throw console.error("Error creating lost/found item:",g),i(g instanceof Error?g.message:"Failed to create item"),g}},d=async(p,g)=>{try{i(null);const{data:x,error:y}=await U.from("lost_found_items").update({status:g,updated_at:new Date().toISOString()}).eq("id",p).select().single();if(y)throw y;return t(w=>w.map(v=>v.id===p?{...v,status:g,updated_at:new Date().toISOString()}:v)),x}catch(x){throw console.error("Error updating item status:",x),i(x instanceof Error?x.message:"Failed to update item"),x}},h=async p=>{try{i(null);const{error:g}=await U.from("lost_found_items").delete().eq("id",p);if(g)throw g;t(x=>x.filter(y=>y.id!==p))}catch(g){throw console.error("Error deleting item:",g),i(g instanceof Error?g.message:"Failed to delete item"),g}},f=p=>e.filter(g=>g.status===p),m=()=>o!=null&&o.id?e.filter(p=>p.user_id===o.id):[];return u.useEffect(()=>{l()},[]),{items:e,loading:r,error:a,fetchItems:l,createItem:c,updateItemStatus:d,deleteItem:h,getItemsByStatus:f,getUserItems:m}},ez=({onClose:e,onSuccess:t})=>{const[r,s]=u.useState("lost"),[a,i]=u.useState(""),[o,l]=u.useState(""),[c,d]=u.useState(""),[h,f]=u.useState(!1),[m,p]=u.useState(null),{createItem:g}=fk(),x=async w=>{if(w.preventDefault(),!a.trim()||!o.trim()||!c.trim()){p("Please fill in all fields");return}try{f(!0),p(null),await g({title:a.trim(),description:o.trim(),location:c.trim()}),i(""),l(""),d(""),t()}catch(v){p(v instanceof Error?v.message:"Failed to create item")}finally{f(!1)}},y=()=>{h||e()};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(J,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs(De,{className:"text-lg",children:["Report ",r==="lost"?"Lost":"Found"," Item"]}),n.jsx(z,{variant:"ghost",size:"sm",onClick:y,disabled:h,className:"h-8 w-8 p-0",children:n.jsx(Ni,{className:"h-4 w-4"})})]}),n.jsx(ie,{children:n.jsxs($a,{value:r,onValueChange:w=>s(w),children:[n.jsxs(Fa,{className:"grid w-full grid-cols-2 mb-4",children:[n.jsx(mt,{value:"lost",children:"Lost Item"}),n.jsx(mt,{value:"found",children:"Found Item"})]}),n.jsx(rt,{value:"lost",children:n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"title",children:"Item Title *"}),n.jsx(re,{id:"title",placeholder:"e.g., MacBook Pro, Student ID Card, Keys",value:a,onChange:w=>i(w.target.value),disabled:h,maxLength:255})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"description",children:"Description *"}),n.jsx(Xe,{id:"description",placeholder:"Describe the item in detail (color, brand, identifying features, etc.)",value:o,onChange:w=>l(w.target.value),disabled:h,rows:4,maxLength:1e3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"location",children:"Last Seen Location *"}),n.jsx(re,{id:"location",placeholder:"e.g., Library 2nd floor, Cafeteria, Room 301",value:c,onChange:w=>d(w.target.value),disabled:h,maxLength:255})]}),m&&n.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center gap-2",children:[n.jsx(Lo,{className:"h-4 w-4 text-destructive"}),n.jsx("span",{className:"text-destructive text-sm",children:m})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(z,{type:"button",variant:"outline",onClick:y,disabled:h,className:"flex-1",children:"Cancel"}),n.jsx(z,{type:"submit",disabled:h,className:"flex-1",children:h?"Reporting...":"Report Lost Item"})]})]})}),n.jsx(rt,{value:"found",children:n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"title-found",children:"Item Title *"}),n.jsx(re,{id:"title-found",placeholder:"e.g., MacBook Pro, Student ID Card, Keys",value:a,onChange:w=>i(w.target.value),disabled:h,maxLength:255})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"description-found",children:"Description *"}),n.jsx(Xe,{id:"description-found",placeholder:"Describe the item in detail (color, brand, identifying features, etc.)",value:o,onChange:w=>l(w.target.value),disabled:h,rows:4,maxLength:1e3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"location-found",children:"Found Location *"}),n.jsx(re,{id:"location-found",placeholder:"e.g., Library 2nd floor, Cafeteria, Room 301",value:c,onChange:w=>d(w.target.value),disabled:h,maxLength:255})]}),m&&n.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center gap-2",children:[n.jsx(Lo,{className:"h-4 w-4 text-destructive"}),n.jsx("span",{className:"text-destructive text-sm",children:m})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(z,{type:"button",variant:"outline",onClick:y,disabled:h,className:"flex-1",children:"Cancel"}),n.jsx(z,{type:"submit",disabled:h,className:"flex-1",children:h?"Reporting...":"Report Found Item"})]})]})})]})})]})})},tz=()=>{const[e,t]=u.useState(!1),[r,s]=u.useState(""),{items:a,loading:i,error:o,updateItemStatus:l,deleteItem:c,getUserItems:d}=fk(),{user:h}=Ye(),{toast:f}=lr(),m=a.filter(_=>_.status==="lost"),p=a.filter(_=>_.status==="found"),g=a.filter(_=>_.status==="claimed"),x=d(),y=m.filter(_=>_.title.toLowerCase().includes(r.toLowerCase())||_.description.toLowerCase().includes(r.toLowerCase())||_.location.toLowerCase().includes(r.toLowerCase())),w=p.filter(_=>_.title.toLowerCase().includes(r.toLowerCase())||_.description.toLowerCase().includes(r.toLowerCase())||_.location.toLowerCase().includes(r.toLowerCase())),v=async(_,k)=>{try{await l(_,k),f({title:"Status Updated",description:`Item status changed to ${k}`})}catch{f({title:"Error",description:"Failed to update item status",variant:"destructive"})}},b=async _=>{try{await c(_),f({title:"Item Deleted",description:"Item has been removed successfully"})}catch{f({title:"Error",description:"Failed to delete item",variant:"destructive"})}},j=_=>{const k={lost:"destructive",found:"default",claimed:"secondary"};return n.jsx(he,{variant:k[_],children:_.charAt(0).toUpperCase()+_.slice(1)})},N=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=({item:_})=>{const k=(h==null?void 0:h.id)===_.user_id;return n.jsxs(J,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Re,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(De,{className:"text-lg mb-2",children:_.title}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[j(_.status),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["by ",_.user_name||"Unknown User"]})]})]}),k&&n.jsxs("div",{className:"flex gap-1",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>v(_.id,"claimed"),disabled:_.status==="claimed",children:"Mark Claimed"}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>b(_.id),children:"Delete"})]})]})}),n.jsxs(ie,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:_.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Pr,{className:"h-4 w-4"}),n.jsx("span",{children:_.location})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($e,{className:"h-4 w-4"}),n.jsx("span",{children:N(_.created_at)})]})]})]})]})};return i?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Lost & Found"}),n.jsx("p",{className:"text-muted-foreground",children:"Report lost items or browse found items. Help your fellow students find their belongings."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search items...",value:r,onChange:_=>s(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs(z,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"h-4 w-4"}),"Report Item"]})]}),o&&n.jsxs("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center gap-2",children:[n.jsx(Lo,{className:"h-4 w-4 text-destructive"}),n.jsx("span",{className:"text-destructive",children:o})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Lost Items"}),n.jsx("p",{className:"text-2xl font-bold",children:m.length})]}),n.jsx(he,{variant:"destructive",children:"Lost"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Found Items"}),n.jsx("p",{className:"text-2xl font-bold",children:p.length})]}),n.jsx(he,{variant:"default",children:"Found"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Claimed Items"}),n.jsx("p",{className:"text-2xl font-bold",children:g.length})]}),n.jsx(he,{variant:"secondary",children:"Claimed"})]})})}),n.jsx(J,{children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"My Items"}),n.jsx("p",{className:"text-2xl font-bold",children:x.length})]}),n.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]})})})]}),n.jsxs($a,{defaultValue:"lost",className:"space-y-4",children:[n.jsxs(Fa,{className:"grid w-full grid-cols-3",children:[n.jsxs(mt,{value:"lost",children:["Lost Items (",m.length,")"]}),n.jsxs(mt,{value:"found",children:["Found Items (",p.length,")"]}),n.jsxs(mt,{value:"claimed",children:["Claimed Items (",g.length,")"]})]}),n.jsx(rt,{value:"lost",className:"space-y-4",children:y.length===0?n.jsx(J,{children:n.jsx(ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No lost items found."})})}):n.jsx("div",{className:"grid gap-4",children:y.map(_=>n.jsx(C,{item:_},_.id))})}),n.jsx(rt,{value:"found",className:"space-y-4",children:w.length===0?n.jsx(J,{children:n.jsx(ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No found items available."})})}):n.jsx("div",{className:"grid gap-4",children:w.map(_=>n.jsx(C,{item:_},_.id))})}),n.jsx(rt,{value:"claimed",className:"space-y-4",children:g.length===0?n.jsx(J,{children:n.jsx(ie,{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No claimed items yet."})})}):n.jsx("div",{className:"grid gap-4",children:g.map(_=>n.jsx(C,{item:_},_.id))})})]}),e&&n.jsx(ez,{onClose:()=>t(!1),onSuccess:()=>{t(!1),f({title:"Item Reported",description:"Your item has been reported successfully."})}})]})},rz=()=>{const e=Si();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-r from-indigo-100 via-gray-100 to-indigo-200 p-6",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("svg",{className:"animate-spin h-20 w-20 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-6xl font-extrabold text-indigo-600 mb-4",children:"404"}),n.jsx("p",{className:"text-2xl text-gray-700 mb-6",children:"Oops! Jadid Dead."}),n.jsx("a",{href:"/",className:"px-6 py-3 rounded-2xl bg-indigo-500 text-white text-lg font-medium shadow-md hover:bg-indigo-600 transition",children:"Back to Home"})]})]})},nz=new CO,sz=()=>n.jsx(kO,{client:nz,children:n.jsx(nO,{children:n.jsxs(G3,{children:[n.jsx(dR,{}),n.jsx(FR,{}),n.jsx(NM,{children:n.jsxs(xM,{children:[n.jsx(St,{path:"/",element:n.jsx(v5,{})}),n.jsx(St,{path:"/signin",element:n.jsx(L6,{})}),n.jsx(St,{path:"/signup",element:n.jsx($6,{})}),n.jsx(St,{path:"/clubs",element:n.jsx(nr,{children:n.jsx(b5,{})})}),n.jsx(St,{path:"/events",element:n.jsx(nr,{children:n.jsx(A6,{})})}),n.jsx(St,{path:"/forum",element:n.jsx(nr,{children:n.jsx(P6,{})})}),n.jsx(St,{path:"/resources",element:n.jsx(nr,{children:n.jsx(F8,{})})}),n.jsx(St,{path:"/careers",element:n.jsx(nr,{children:n.jsx(J8,{})})}),n.jsx(St,{path:"/assistant",element:n.jsx(nr,{children:n.jsx(X8,{})})}),n.jsx(St,{path:"/lost-found",element:n.jsx(nr,{children:n.jsx(tz,{})})}),n.jsx(St,{path:"/learn-more",element:n.jsx(U8,{})}),n.jsx(St,{path:"/profile",element:n.jsx(nr,{children:n.jsx(cU,{})})}),n.jsx(St,{path:"/admin",element:n.jsx(nr,{children:n.jsx(AU,{})})}),n.jsx(St,{path:"/chat",element:n.jsx(nr,{children:n.jsx(PU,{})})}),n.jsx(St,{path:"/chat2",element:n.jsx(nr,{children:n.jsx(DU,{})})}),n.jsx(St,{path:"/club-dashboard",element:n.jsx(nr,{children:n.jsx(H8,{})})}),n.jsx(St,{path:"/join-club/:id",element:n.jsx(nr,{children:n.jsx(OU,{})})}),n.jsx(St,{path:"/event-registration/:id",element:n.jsx(nr,{children:n.jsx(FU,{})})}),n.jsx(St,{path:"/club-details/:id",element:n.jsx(nr,{children:n.jsx(MU,{})})}),n.jsx(St,{path:"/social-feed",element:n.jsx(nr,{children:n.jsx(Q8,{})})}),n.jsx(St,{path:"*",element:n.jsx(rz,{})})]})})]})})});u_(document.getElementById("root")).render(n.jsx(sz,{}));export{bz as _,jz as a,el as b,on as c,Ok as g};
